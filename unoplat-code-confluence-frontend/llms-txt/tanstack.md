# https://tanstack.com/query/latest/docs/framework/react llms-full.txt

## TanStack Query for React
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# 404 Not Found

The page you are looking for does not exist.

Go back [Start Over](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=7rc6z)

## React Query Devtools
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Install and Import the Devtools](https://tanstack.com/query/latest/docs/framework/react/devtools#install-and-import-the-devtools)
- [Floating Mode](https://tanstack.com/query/latest/docs/framework/react/devtools#floating-mode)
- [Options](https://tanstack.com/query/latest/docs/framework/react/devtools#options)
- [Embedded Mode](https://tanstack.com/query/latest/docs/framework/react/devtools#embedded-mode)
- [Options](https://tanstack.com/query/latest/docs/framework/react/devtools#options-1)
- [Devtools in production](https://tanstack.com/query/latest/docs/framework/react/devtools#devtools-in-production)
- [Modern bundlers](https://tanstack.com/query/latest/docs/framework/react/devtools#modern-bundlers)

# Devtools

Wave your hands in the air and shout hooray because React Query comes with dedicated devtools! 🥳

When you begin your React Query journey, you'll want these devtools by your side. They help visualize all the inner workings of React Query and will likely save you hours of debugging if you find yourself in a pinch!

> Please note that for now, the devtools **do not support React Native**. If you would like to help us make the devtools platform-agnostic, please let us know!

> Exciting News: We now have a separate package for React Native React Query DevTools! This new addition brings native support, allowing you to integrate DevTools directly into your React Native projects. Check it out and contribute here: [react-native-react-query-devtools](https://github.com/LovesWorking/react-native-react-query-devtools)

> An external tool is also available that enables the use of React Query DevTools via an external dashboard. Find out more and contribute on [react-query-external-sync](https://github.com/LovesWorking/react-query-external-sync)

> Note that since version 5, the dev tools support observing mutations as well.

[**Install and Import the Devtools**](https://tanstack.com/query/latest/docs/framework/react/devtools#install-and-import-the-devtools)

The devtools are a separate package that you need to install:

bash

```
npm i @tanstack/react-query-devtools

```

```
npm i @tanstack/react-query-devtools

```

or

bash

```
pnpm add @tanstack/react-query-devtools

```

```
pnpm add @tanstack/react-query-devtools

```

or

bash

```
yarn add @tanstack/react-query-devtools

```

```
yarn add @tanstack/react-query-devtools

```

or

bash

```
bun add @tanstack/react-query-devtools

```

```
bun add @tanstack/react-query-devtools

```

For Next 13+ App Dir you must install it as a dev dependency for it to work.

You can import the devtools like this:

tsx

```
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

```

```
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

```

By default, React Query Devtools are only included in bundles when process.env.NODE\_ENV === 'development', so you don't need to worry about excluding them during a production build.

[**Floating Mode**](https://tanstack.com/query/latest/docs/framework/react/devtools#floating-mode)

Floating Mode will mount the devtools as a fixed, floating element in your app and provide a toggle in the corner of the screen to show and hide the devtools. This toggle state will be stored and remembered in localStorage across reloads.

Place the following code as high in your React app as you can. The closer it is to the root of the page, the better it will work!

tsx

```
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      {/* The rest of your application */}
      <ReactQueryDevtools initialIsOpen={false} />
    </QueryClientProvider>
  )
}

```

```
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      {/* The rest of your application */}
      <ReactQueryDevtools initialIsOpen={false} />
    </QueryClientProvider>
  )
}

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/devtools#options)

- initialIsOpen: Boolean
  - Set this true if you want the dev tools to default to being open
- buttonPosition?: "top-left" \| "top-right" \| "bottom-left" \| "bottom-right" \| "relative"
  - Defaults to bottom-right
  - The position of the React Query logo to open and close the devtools panel
  - If relative, the button is placed in the location that you render the devtools.
- position?: "top" \| "bottom" \| "left" \| "right"
  - Defaults to bottom
  - The position of the React Query devtools panel
- client?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.
- errorTypes?: { name: string; initializer: (query: Query) => TError}\[\]
  - Use this to predefine some errors that can be triggered on your queries. Initializer will be called (with the specific query) when that error is toggled on from the UI. It must return an Error.
- styleNonce?: string
  - Use this to pass a nonce to the style tag that is added to the document head. This is useful if you are using a Content Security Policy (CSP) nonce to allow inline styles.
- shadowDOMTarget?: ShadowRoot
  - Default behavior will apply the devtool's styles to the head tag within the DOM.
  - Use this to pass a shadow DOM target to the devtools so that the styles will be applied within the shadow DOM instead of within the head tag in the light DOM.

[**Embedded Mode**](https://tanstack.com/query/latest/docs/framework/react/devtools#embedded-mode)

Embedded mode will show the development tools as a fixed element in your application, so you can use our panel in your own development tools.

Place the following code as high in your React app as you can. The closer it is to the root of the page, the better it will work!

tsx

```
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'

function App() {
  const [isOpen, setIsOpen] = React.useState(false)

  return (
    <QueryClientProvider client={queryClient}>
      {/* The rest of your application */}
      <button
        onClick={() => setIsOpen(!isOpen)}
      >{`${isOpen ? 'Close' : 'Open'} the devtools panel`}</button>
      {isOpen && <ReactQueryDevtoolsPanel onClose={() => setIsOpen(false)} />}
    </QueryClientProvider>
  )
}

```

```
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'

function App() {
  const [isOpen, setIsOpen] = React.useState(false)

  return (
    <QueryClientProvider client={queryClient}>
      {/* The rest of your application */}
      <button
        onClick={() => setIsOpen(!isOpen)}
      >{`${isOpen ? 'Close' : 'Open'} the devtools panel`}</button>
      {isOpen && <ReactQueryDevtoolsPanel onClose={() => setIsOpen(false)} />}
    </QueryClientProvider>
  )
}

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/devtools#options-1)

- style?: React.CSSProperties
  - Custom styles for the devtools panel
  - Default: { height: '500px' }
  - Example: { height: '100%' }
  - Example: { height: '100%', width: '100%' }
- onClose?: () => unknown
  - Callback function that is called when the devtools panel is closed
- client?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.
- errorTypes?: { name: string; initializer: (query: Query) => TError}\[\]
  - Use this to predefine some errors that can be triggered on your queries. Initializer will be called (with the specific query) when that error is toggled on from the UI. It must return an Error.
- styleNonce?: string
  - Use this to pass a nonce to the style tag that is added to the document head. This is useful if you are using a Content Security Policy (CSP) nonce to allow inline styles.
- shadowDOMTarget?: ShadowRoot
  - Default behavior will apply the devtool's styles to the head tag within the DOM.
  - Use this to pass a shadow DOM target to the devtools so that the styles will be applied within the shadow DOM instead of within the head tag in the light DOM.

[**Devtools in production**](https://tanstack.com/query/latest/docs/framework/react/devtools#devtools-in-production)

Devtools are excluded in production builds. However, it might be desirable to lazy load the devtools in production:

tsx

```
import * as React from 'react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { Example } from './Example'

const queryClient = new QueryClient()

const ReactQueryDevtoolsProduction = React.lazy(() =>
  import('@tanstack/react-query-devtools/build/modern/production.js').then(
    (d) => ({
      default: d.ReactQueryDevtools,
    }),
  ),
)

function App() {
  const [showDevtools, setShowDevtools] = React.useState(false)

  React.useEffect(() => {
    // @ts-expect-error
    window.toggleDevtools = () => setShowDevtools((old) => !old)
  }, [])

  return (
    <QueryClientProvider client={queryClient}>
      <Example />
      <ReactQueryDevtools initialIsOpen />
      {showDevtools && (
        <React.Suspense fallback={null}>
          <ReactQueryDevtoolsProduction />
        </React.Suspense>
      )}
    </QueryClientProvider>
  )
}

export default App

```

```
import * as React from 'react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { Example } from './Example'

const queryClient = new QueryClient()

const ReactQueryDevtoolsProduction = React.lazy(() =>
  import('@tanstack/react-query-devtools/build/modern/production.js').then(
    (d) => ({
      default: d.ReactQueryDevtools,
    }),
  ),
)

function App() {
  const [showDevtools, setShowDevtools] = React.useState(false)

  React.useEffect(() => {
    // @ts-expect-error
    window.toggleDevtools = () => setShowDevtools((old) => !old)
  }, [])

  return (
    <QueryClientProvider client={queryClient}>
      <Example />
      <ReactQueryDevtools initialIsOpen />
      {showDevtools && (
        <React.Suspense fallback={null}>
          <ReactQueryDevtoolsProduction />
        </React.Suspense>
      )}
    </QueryClientProvider>
  )
}

export default App

```

With this, calling window.toggleDevtools() will download the devtools bundle and show them.

[**Modern bundlers**](https://tanstack.com/query/latest/docs/framework/react/devtools#modern-bundlers)

If your bundler supports package exports, you can use the following import path:

tsx

```
const ReactQueryDevtoolsProduction = React.lazy(() =>
  import('@tanstack/react-query-devtools/production').then((d) => ({
    default: d.ReactQueryDevtools,
  })),
)

```

```
const ReactQueryDevtoolsProduction = React.lazy(() =>
  import('@tanstack/react-query-devtools/production').then((d) => ({
    default: d.ReactQueryDevtools,
  })),
)

```

For TypeScript, you would need to set moduleResolution: 'nodenext' in your tsconfig, which requires at least TypeScript v4.7.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/devtools.md)

[Quick Start](https://tanstack.com/query/latest/docs/framework/react/quick-start)

[Videos & Talks](https://tanstack.com/query/latest/docs/framework/react/videos)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=4zisv)

## Data Fetching Simplified
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Motivation](https://tanstack.com/query/latest/docs/framework/react/overview#motivation)
- [Enough talk, show me some code already!](https://tanstack.com/query/latest/docs/framework/react/overview#enough-talk-show-me-some-code-already)
- [You talked me into it, so what now?](https://tanstack.com/query/latest/docs/framework/react/overview#you-talked-me-into-it-so-what-now)

# Overview

TanStack Query (formerly known as React Query) is often described as the missing data-fetching library for web applications, but in more technical terms, it makes **fetching, caching, synchronizing and updating server state** in your web applications a breeze.

[**Motivation**](https://tanstack.com/query/latest/docs/framework/react/overview#motivation)

Most core web frameworks **do not** come with an opinionated way of fetching or updating data in a holistic way. Because of this developers end up building either meta-frameworks which encapsulate strict opinions about data-fetching, or they invent their own ways of fetching data. This usually means cobbling together component-based state and side-effects, or using more general purpose state management libraries to store and provide asynchronous data throughout their apps.

While most traditional state management libraries are great for working with client state, they are **not so great at working with async or server state**. This is because **server state is totally different**. For starters, server state:

- Is persisted remotely in a location you may not control or own
- Requires asynchronous APIs for fetching and updating
- Implies shared ownership and can be changed by other people without your knowledge
- Can potentially become "out of date" in your applications if you're not careful

Once you grasp the nature of server state in your application, **even more challenges will arise** as you go, for example:

- Caching... (possibly the hardest thing to do in programming)
- Deduping multiple requests for the same data into a single request
- Updating "out of date" data in the background
- Knowing when data is "out of date"
- Reflecting updates to data as quickly as possible
- Performance optimizations like pagination and lazy loading data
- Managing memory and garbage collection of server state
- Memoizing query results with structural sharing

If you're not overwhelmed by that list, then that must mean that you've probably solved all of your server state problems already and deserve an award. However, if you are like a vast majority of people, you either have yet to tackle all or most of these challenges and we're only scratching the surface!

TanStack Query is hands down one of the _best_ libraries for managing server state. It works amazingly well **out-of-the-box, with zero-config, and can be customized** to your liking as your application grows.

TanStack Query allows you to defeat and overcome the tricky challenges and hurdles of _server state_ and control your app data before it starts to control you.

On a more technical note, TanStack Query will likely:

- Help you remove **many** lines of complicated and misunderstood code from your application and replace with just a handful of lines of React Query logic.
- Make your application more maintainable and easier to build new features without worrying about wiring up new server state data sources
- Have a direct impact on your end-users by making your application feel faster and more responsive than ever before.
- Potentially help you save on bandwidth and increase memory performance

[**Enough talk, show me some code already!**](https://tanstack.com/query/latest/docs/framework/react/overview#enough-talk-show-me-some-code-already)

In the example below, you can see TanStack Query in its most basic and simple form being used to fetch the GitHub stats for the TanStack Query GitHub project itself:

[Open in StackBlitz](https://stackblitz.com/github/TanStack/query/tree/main/examples/react/simple)

tsx

```
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data } = useQuery({
    queryKey: ['repoData'],
    queryFn: () =>
      fetch('https://api.github.com/repos/TanStack/query').then((res) =>
        res.json(),
      ),
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <h1>{data.name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
    </div>
  )
}

```

```
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data } = useQuery({
    queryKey: ['repoData'],
    queryFn: () =>
      fetch('https://api.github.com/repos/TanStack/query').then((res) =>
        res.json(),
      ),
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <h1>{data.name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
    </div>
  )
}

```

[**You talked me into it, so what now?**](https://tanstack.com/query/latest/docs/framework/react/overview#you-talked-me-into-it-so-what-now)

- Consider taking the official [TanStack Query Course](https://query.gg/?s=tanstack) (or buying it for your whole team!)
- Learn TanStack Query at your own pace with our amazingly thorough [Walkthrough Guide](https://tanstack.com/query/latest/docs/framework/react/installation) and [API Reference](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/overview.md)

[Discord](https://tlinz.com/discord)

[Installation](https://tanstack.com/query/latest/docs/framework/react/installation)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=ndmlb)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Installation
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [NPM](https://tanstack.com/query/latest/docs/framework/react/installation#npm)
- [CDN](https://tanstack.com/query/latest/docs/framework/react/installation#cdn)
- [Requirements](https://tanstack.com/query/latest/docs/framework/react/installation#requirements)
- [Recommendations](https://tanstack.com/query/latest/docs/framework/react/installation#recommendations)

# Installation

You can install React Query via [NPM](https://npmjs.com/),
or a good ol' <script> via
[ESM.sh](https://esm.sh/).

[**NPM**](https://tanstack.com/query/latest/docs/framework/react/installation#npm)

bash

```
npm i @tanstack/react-query

```

```
npm i @tanstack/react-query

```

or

bash

```
pnpm add @tanstack/react-query

```

```
pnpm add @tanstack/react-query

```

or

bash

```
yarn add @tanstack/react-query

```

```
yarn add @tanstack/react-query

```

or

bash

```
bun add @tanstack/react-query

```

```
bun add @tanstack/react-query

```

React Query is compatible with React v18+ and works with ReactDOM and React Native.

> Wanna give it a spin before you download? Try out the [simple](https://tanstack.com/query/latest/docs/framework/react/examples/simple) or [basic](https://tanstack.com/query/latest/docs/framework/react/examples/basic) examples!

[**CDN**](https://tanstack.com/query/latest/docs/framework/react/installation#cdn)

If you're not using a module bundler or package manager, you can also use this library via an ESM-compatible CDN such as [ESM.sh](https://esm.sh/). Simply add a <script type="module"> tag to the bottom of your HTML file:

html

```
<script type="module">
  import React from 'https://esm.sh/react@18.2.0'
  import ReactDOM from 'https://esm.sh/react-dom@18.2.0'
  import { QueryClient } from 'https://esm.sh/@tanstack/react-query'
</script>

```

```
<script type="module">
  import React from 'https://esm.sh/react@18.2.0'
  import ReactDOM from 'https://esm.sh/react-dom@18.2.0'
  import { QueryClient } from 'https://esm.sh/@tanstack/react-query'
</script>

```

> You can find instructions on how to use React without JSX [here](https://react.dev/reference/react/createElement#creating-an-element-without-jsx).

[**Requirements**](https://tanstack.com/query/latest/docs/framework/react/installation#requirements)

React Query is optimized for modern browsers. It is compatible with the following browsers config

```
Chrome >= 91
Firefox >= 90
Edge >= 91
Safari >= 15
iOS >= 15
Opera >= 77

```

```
Chrome >= 91
Firefox >= 90
Edge >= 91
Safari >= 15
iOS >= 15
Opera >= 77

```

> Depending on your environment, you might need to add polyfills. If you want to support older browsers, you need to transpile the library from node\_modules yourselves.

[**Recommendations**](https://tanstack.com/query/latest/docs/framework/react/installation#recommendations)

It is recommended to also use our [ESLint Plugin Query](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query) to help you catch bugs and inconsistencies while you code. You can install it via:

bash

```
npm i -D @tanstack/eslint-plugin-query

```

```
npm i -D @tanstack/eslint-plugin-query

```

or

bash

```
pnpm add -D @tanstack/eslint-plugin-query

```

```
pnpm add -D @tanstack/eslint-plugin-query

```

or

bash

```
yarn add -D @tanstack/eslint-plugin-query

```

```
yarn add -D @tanstack/eslint-plugin-query

```

or

bash

```
bun add -D @tanstack/eslint-plugin-query

```

```
bun add -D @tanstack/eslint-plugin-query

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/installation.md)

[Overview](https://tanstack.com/query/latest/docs/framework/react/overview)

[Quick Start](https://tanstack.com/query/latest/docs/framework/react/quick-start)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=rx212)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## TypeScript with React Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Type Inference](https://tanstack.com/query/latest/docs/framework/react/typescript#type-inference)
- [Type Narrowing](https://tanstack.com/query/latest/docs/framework/react/typescript#type-narrowing)
- [Typing the error field](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-the-error-field)
- [Registering a global Error](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-a-global-error)
- [Typing meta](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-meta)
- [Registering global Meta](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-global-meta)
- [Typing query and mutation keys](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-and-mutation-keys)
- [Registering the query and mutation key types](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-the-query-and-mutation-key-types)
- [Typing Query Options](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-options)
- [Further Reading](https://tanstack.com/query/latest/docs/framework/react/typescript#further-reading)
- [Typesafe disabling of queries using `skipToken`](https://tanstack.com/query/latest/docs/framework/react/typescript#typesafe-disabling-of-queries-using-skiptoken)

# TypeScript

React Query is now written in **TypeScript** to make sure the library and your projects are type-safe!

Things to keep in mind:

- Types currently require using TypeScript **v4.7** or greater
- Changes to types in this repository are considered **non-breaking** and are usually released as **patch** semver changes (otherwise every type enhancement would be a major version!).
- It is **highly recommended that you lock your react-query package version to a specific patch release and upgrade with the expectation that types may be fixed or upgraded between any release**
- The non-type-related public API of React Query still follows semver very strictly.

[**Type Inference**](https://tanstack.com/query/latest/docs/framework/react/typescript#type-inference)

Types in React Query generally flow through very well so that you don't have to provide type annotations for yourself

tsx

```
const { data } = useQuery({
  //    ^? const data: number | undefined
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
})

```

```
const { data } = useQuery({
  //    ^? const data: number | undefined
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
})

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAORToCGAxjALQCOO+VAsAFC8MQAdqnhIAJnRh0icALwoM2XHgAUAbSqDkIAEa4qAXQA0cFQEo5APjgAFciGAYAdLVQQANgDd0KgKxmzXgB6ILgw8IA9AH5eIA)

tsx

```
const { data } = useQuery({
  //      ^? const data: string | undefined
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
  select: (data) => data.toString(),
})

```

```
const { data } = useQuery({
  //      ^? const data: string | undefined
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
  select: (data) => data.toString(),
})

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAORToCGAxjALQCOO+VAsAFC8MQAdqnhIAJnRh0icALwoM2XHgAUAbSox0IqgF0ANHBUBKOQD44ABXIhgGAHS1UEADYA3dCoCsxw0gwu6EwAXHASUuZhknT2MBAAyjBQwIIA5iaExrwA9Nlw+QUAegD8vEA)

This works best if your queryFn has a well-defined returned type. Keep in mind that most data fetching libraries return any per default, so make sure to extract it to a properly typed function:

tsx

```
const fetchGroups = (): Promise<Group[]> =>
  axios.get('/groups').then((response) => response.data)

const { data } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const data: Group[] | undefined

```

```
const fetchGroups = (): Promise<Group[]> =>
  axios.get('/groups').then((response) => response.data)

const { data } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const data: Group[] | undefined

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAORToCGAxjALQCOO+VAsAFCiSw4dAB7AIqUuUpURY1Nx68YeMOjgBxcsjBwAvIjjAAJgC44AO2QgARriK9eDCOdTwS6GAwAWmiNon6ABQAlGYAClLAGAA8vtoA2gC6AHx6qbLiAHQA5h6BVAD02Vpg8sGZMF7o5oG0qJAuarqpdQ0YmUZ0MHTBDjxOLvBInd1EeigY2Lh4gfFUxX6lVIkANKQe3nGlvTwFBXAHhwB6APxwA65wI3RmW0lwAD4o5kboJMDm6Ea8QA)

[**Type Narrowing**](https://tanstack.com/query/latest/docs/framework/react/typescript#type-narrowing)

React Query uses a [discriminated union type](https://www.typescriptlang.org/docs/handbook/typescript-in-5-minutes-func.html#discriminated-unions) for the query result, discriminated by the status field and the derived status boolean flags. This will allow you to check for e.g. success status to make data defined:

tsx

```
const { data, isSuccess } = useQuery({
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
})

if (isSuccess) {
  data
  //  ^? const data: number
}

```

```
const { data, isSuccess } = useQuery({
  queryKey: ['test'],
  queryFn: () => Promise.resolve(5),
})

if (isSuccess) {
  data
  //  ^? const data: number
}

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAORToCGAxjALQCOO+VAsAFC8MQAdqnhIAJnRh0ANHGCoAysgYN0qVETgBeFBmy48ACgDaVGGphUAurMMBKbQD44ABXIh56AHS1UEADYAbuiGAKx2dry8wCRwhvJKKmqoDgi8cBlwElK8APS5GQB6APy8hLxAA)

[**Typing the error field**](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-the-error-field)

The type for error defaults to Error, because that is what most users expect.

tsx

```
const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: Error

```

```
const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: Error

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAOQACMAhgHaoMDGA1gPRTr2swBaAI458VALAAoUJFhx6AD2ARUpcpSqLlqCZKkw8YdHADi5ZGDgBeRHGAATAFxxGyEACNcRKVNYRm8CToMKwAFmYQFqo2ABQAlM4ACurAGAA8ERYA2gC6AHzWBVoqAHQA5sExVJxl5mA6cSUwoeiMMTyokMzGVgUdXRgl9vQMcT6SfgG2uORQRNYoGNi4eDFZVLWR9VQ5ADSkwWGZ9WOSnJxwl1cAegD8QA)

If you want to throw a custom error, or something that isn't an Error at all, you can specify the type of the error field:

tsx

```
const { error } = useQuery<Group[], string>(['groups'], fetchGroups)
//      ^? const error: string | null

```

```
const { error } = useQuery<Group[], string>(['groups'], fetchGroups)
//      ^? const error: string | null

```

However, this has the drawback that type inference for all other generics of useQuery will not work anymore. It is generally not considered a good practice to throw something that isn't an Error, so if you have a subclass like AxiosError you can use _type narrowing_ to make the error field more specific:

tsx

```
import axios from 'axios'

const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: Error | null

if (axios.isAxiosError(error)) {
  error
  // ^? const error: AxiosError
}

```

```
import axios from 'axios'

const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: Error | null

if (axios.isAxiosError(error)) {
  error
  // ^? const error: AxiosError
}

```

[typescript playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAbzgVwM4FMCKz1QJ5wC+cAZlBCHAOQACMAhgHaoMDGA1gPRTr2swBaAI458VALAAoUJFhx6AD2ARUpcpSqLlqCZKkw8YdHADi5ZGDgBeRHGAATAFxxGyEACNcRKVNYRm8CToMKwAFmYQFqo2ABQAlM4ACurAGAA8ERYA2gC6AHzWBVoqAHQA5sExVJxl5mA6cSUwoeiMMTyokMzGVgUdXRgl9vQMcT6SfgG2uORQRNYoGNi4eDFIIisA0uh4zllUtZH1VDkANHAb+ABijM5BIeF1qoRjkpyccJ9fAHoA-OPAEhwGLFVAlVIAQSUKgAolBZjEZtA4nFEFJPkioOi4O84H8pIQgA)

[**Registering a global Error**](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-a-global-error)

TanStack Query v5 allows for a way to set a global Error type for everything, without having to specify generics on call-sides, by amending the Register interface. This will make sure inference still works, but the error field will be of the specified type:

tsx

```
import '@tanstack/react-query'

declare module '@tanstack/react-query' {
  interface Register {
    defaultError: AxiosError
  }
}

const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: AxiosError | null

```

```
import '@tanstack/react-query'

declare module '@tanstack/react-query' {
  interface Register {
    defaultError: AxiosError
  }
}

const { error } = useQuery({ queryKey: ['groups'], queryFn: fetchGroups })
//      ^? const error: AxiosError | null

```

[**Typing meta**](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-meta) [**Registering global Meta**](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-global-meta)

Similarly to registering a [global error type](https://tanstack.com/query/latest/docs/framework/react/typescript/#registering-a-global-error) you can also register a global Meta type. This ensures the optional meta field on [queries](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery) and [mutations](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation) stays consistent and is type-safe. Note that the registered type must extend Record<string, unknown> so that meta remains an object.

ts

```
import '@tanstack/react-query'

interface MyMeta extends Record<string, unknown> {
  // Your meta type definition.
}

declare module '@tanstack/react-query' {
  interface Register {
    queryMeta: MyMeta
    mutationMeta: MyMeta
  }
}

```

```
import '@tanstack/react-query'

interface MyMeta extends Record<string, unknown> {
  // Your meta type definition.
}

declare module '@tanstack/react-query' {
  interface Register {
    queryMeta: MyMeta
    mutationMeta: MyMeta
  }
}

```

[**Typing query and mutation keys**](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-and-mutation-keys) [**Registering the query and mutation key types**](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-the-query-and-mutation-key-types)

Also similarly to registering a [global error type](https://tanstack.com/query/latest/docs/framework/react/typescript/#registering-a-global-error), you can also register a global QueryKey and MutationKey type. This allows you to provide more structure to your keys, that matches your application's hierarchy, and have them be typed across all of the library's surface area. Note that the registered type must extend the Array type, so that your keys remain an array.

ts

```
import '@tanstack/react-query'

type QueryKey = ['dashboard' | 'marketing', ...ReadonlyArray<unknown>]

declare module '@tanstack/react-query' {
  interface Register {
    queryKey: QueryKey
    mutationKey: QueryKey
  }
}

```

```
import '@tanstack/react-query'

type QueryKey = ['dashboard' | 'marketing', ...ReadonlyArray<unknown>]

declare module '@tanstack/react-query' {
  interface Register {
    queryKey: QueryKey
    mutationKey: QueryKey
  }
}

```

[**Typing Query Options**](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-options)

If you inline query options into useQuery, you'll get automatic type inference. However, you might want to extract the query options into a separate function to share them between useQuery and e.g. prefetchQuery. In that case, you'd lose type inference. To get it back, you can use the queryOptions helper:

ts

```
import { queryOptions } from '@tanstack/react-query'

function groupOptions() {
  return queryOptions({
    queryKey: ['groups'],
    queryFn: fetchGroups,
    staleTime: 5 * 1000,
  })
}

useQuery(groupOptions())
queryClient.prefetchQuery(groupOptions())

```

```
import { queryOptions } from '@tanstack/react-query'

function groupOptions() {
  return queryOptions({
    queryKey: ['groups'],
    queryFn: fetchGroups,
    staleTime: 5 * 1000,
  })
}

useQuery(groupOptions())
queryClient.prefetchQuery(groupOptions())

```

Further, the queryKey returned from queryOptions knows about the queryFn associated with it, and we can leverage that type information to make functions like queryClient.getQueryData aware of those types as well:

ts

```
function groupOptions() {
  return queryOptions({
    queryKey: ['groups'],
    queryFn: fetchGroups,
    staleTime: 5 * 1000,
  })
}

const data = queryClient.getQueryData(groupOptions().queryKey)
//     ^? const data: Group[] | undefined

```

```
function groupOptions() {
  return queryOptions({
    queryKey: ['groups'],
    queryFn: fetchGroups,
    staleTime: 5 * 1000,
  })
}

const data = queryClient.getQueryData(groupOptions().queryKey)
//     ^? const data: Group[] | undefined

```

Without queryOptions, the type of data would be unknown, unless we'd pass a generic to it:

ts

```
const data = queryClient.getQueryData<Group[]>(['groups'])

```

```
const data = queryClient.getQueryData<Group[]>(['groups'])

```

[**Further Reading**](https://tanstack.com/query/latest/docs/framework/react/typescript#further-reading)

For tips and tricks around type inference, have a look at [React Query and TypeScript](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#6-react-query-and-typescript) from
the Community Resources. To find out how to get the best possible type-safety, you can read [Type-safe React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#19-type-safe-react-query).

[**Typesafe disabling of queries using skipToken**](https://tanstack.com/query/latest/docs/framework/react/typescript#typesafe-disabling-of-queries-using-skiptoken)

If you are using TypeScript, you can use the skipToken to disable a query. This is useful when you want to disable a query based on a condition, but you still want to keep the query to be type safe.
Read more about it in the [Disabling Queries](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries) guide.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/typescript.md)

[Comparison](https://tanstack.com/query/latest/docs/framework/react/comparison)

[GraphQL](https://tanstack.com/query/latest/docs/framework/react/graphql)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=f6kmi)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query with GraphQL
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Type-Safety and Code Generation](https://tanstack.com/query/latest/docs/framework/react/graphql#type-safety-and-code-generation)

# GraphQL

Because React Query's fetching mechanisms are agnostically built on Promises, you can use React Query with literally any asynchronous data fetching client, including GraphQL!

> Keep in mind that React Query does not support normalized caching. While a vast majority of users do not actually need a normalized cache or even benefit from it as much as they believe they do, there may be very rare circumstances that may warrant it so be sure to check with us first to make sure it's truly something you need!

[**Type-Safety and Code Generation**](https://tanstack.com/query/latest/docs/framework/react/graphql#type-safety-and-code-generation)

React Query, used in combination with graphql-request^5 and [GraphQL Code Generator](https://graphql-code-generator.com/) provides full-typed GraphQL operations:

tsx

```
import request from 'graphql-request'
import { useQuery } from '@tanstack/react-query'

import { graphql } from './gql/gql'

const allFilmsWithVariablesQueryDocument = graphql(/* GraphQL */ `
  query allFilmsWithVariablesQuery($first: Int!) {
    allFilms(first: $first) {
      edges {
        node {
          id
          title
        }
      }
    }
  }
`)

function App() {
  // `data` is fully typed!
  const { data } = useQuery({
    queryKey: ['films'],
    queryFn: async () =>
      request(
        'https://swapi-graphql.netlify.app/.netlify/functions/index',
        allFilmsWithVariablesQueryDocument,
        // variables are type-checked too!
        { first: 10 },
      ),
  })
  // ...
}

```

```
import request from 'graphql-request'
import { useQuery } from '@tanstack/react-query'

import { graphql } from './gql/gql'

const allFilmsWithVariablesQueryDocument = graphql(/* GraphQL */ `
  query allFilmsWithVariablesQuery($first: Int!) {
    allFilms(first: $first) {
      edges {
        node {
          id
          title
        }
      }
    }
  }
`)

function App() {
  // `data` is fully typed!
  const { data } = useQuery({
    queryKey: ['films'],
    queryFn: async () =>
      request(
        'https://swapi-graphql.netlify.app/.netlify/functions/index',
        allFilmsWithVariablesQueryDocument,
        // variables are type-checked too!
        { first: 10 },
      ),
  })
  // ...
}

```

_You can find a [complete example in the repo](https://github.com/dotansimha/graphql-code-generator/tree/7c25c4eeb77f88677fd79da557b7b5326e3f3950/examples/front-end/react/tanstack-react-query)_

Get started with the [dedicated guide on GraphQL Code Generator documentation](https://www.the-guild.dev/graphql/codegen/docs/guides/react-vue).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/graphql.md)

[TypeScript](https://tanstack.com/query/latest/docs/framework/react/typescript)

[React Native](https://tanstack.com/query/latest/docs/framework/react/react-native)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=1sy8th)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Comparison
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Notes](https://tanstack.com/query/latest/docs/framework/react/comparison#notes)

# Comparison \| React Query vs SWR vs Apollo vs RTK Query vs React Router

> This comparison table strives to be as accurate and as unbiased as possible. If you use any of these libraries and feel the information could be improved, feel free to suggest changes (with notes or evidence of claims) using the "Edit this page on Github" link at the bottom of this page.

Feature/Capability Key:

- ✅ 1st-class, built-in, and ready to use with no added configuration or code
- 🟡 Supported, but as an unofficial 3rd party or community library/contribution
- 🔶 Supported and documented, but requires extra user-code to implement
- 🛑 Not officially supported or documented.

|  | React Query | SWR [_(Website)_](https://github.com/vercel/swr) | Apollo Client [_(Website)_](https://github.com/apollographql/apollo-client) | RTK-Query [_(Website)_](https://redux-toolkit.js.org/rtk-query/overview) | React Router [_(Website)_](https://github.com/remix-run/react-router) |
| --- | --- | --- | --- | --- | --- |
| Github Repo / Stars | [![](https://img.shields.io/github/stars/tannerlinsley/react-query?label=%F0%9F%8C%9F)](https://github.com/tannerlinsley/react-query) | [![](https://img.shields.io/github/stars/vercel/swr?label=%F0%9F%8C%9F)](https://github.com/vercel/swr) | [![](https://img.shields.io/github/stars/apollographql/apollo-client?label=%F0%9F%8C%9F)](https://github.com/apollographql/apollo-client) | [![](https://img.shields.io/github/stars/reduxjs/redux-toolkit?label=%F0%9F%8C%9F)](https://github.com/reduxjs/redux-toolkit) | [![](https://img.shields.io/github/stars/remix-run/react-router?label=%F0%9F%8C%9F)](https://github.com/remix-run/react-router) |
| Platform Requirements | React | React | React, GraphQL | Redux | React |
| Their Comparison |  | (none) | (none) | [Comparison](https://redux-toolkit.js.org/rtk-query/comparison) | (none) |
| Supported Query Syntax | Promise, REST, GraphQL | Promise, REST, GraphQL | GraphQL, Any (Reactive Variables) | Promise, REST, GraphQL | Promise, REST, GraphQL |
| Supported Frameworks | React | React | React + Others | Any | React |
| Caching Strategy | Hierarchical Key -> Value | Unique Key -> Value | Normalized Schema | Unique Key -> Value | Nested Route -> value |
| Cache Key Strategy | JSON | JSON | GraphQL Query | JSON | Route Path |
| Cache Change Detection | Deep Compare Keys (Stable Serialization) | Deep Compare Keys (Stable Serialization) | Deep Compare Keys (Unstable Serialization) | Key Referential Equality (===) | Route Change |
| Data Change Detection | Deep Comparison + Structural Sharing | Deep Compare (via stable-hash) | Deep Compare (Unstable Serialization) | Key Referential Equality (===) | Loader Run |
| Data Memoization | Full Structural Sharing | Identity (===) | Normalized Identity | Identity (===) | Identity (===) |
| Bundle Size | [![](https://badgen.net/bundlephobia/minzip/react-query?label=%F0%9F%92%BE)](https://bundlephobia.com/result?p=react-query) | [![](https://badgen.net/bundlephobia/minzip/swr?label=%F0%9F%92%BE)](https://bundlephobia.com/result?p=swr) | [![](https://badgen.net/bundlephobia/minzip/@apollo/client?label=%F0%9F%92%BE)](https://bundlephobia.com/result?p=@apollo/client) | [![](https://badgen.net/bundlephobia/minzip/@reduxjs/toolkit?label=%F0%9F%92%BE)](https://bundlephobia.com/package/@reduxjs/toolkit) | [![](https://badgen.net/bundlephobia/minzip/react-router-dom?label=%F0%9F%92%BE)](https://bundlephobia.com/result?p=react-router-dom) \+ [![](https://badgen.net/bundlephobia/minzip/history?label=%F0%9F%92%BE)](https://bundlephobia.com/result?p=history) |
| API Definition Location | Component, External Config | Component | GraphQL Schema | External Config | Route Tree Configuration |
| Queries | ✅ | ✅ | ✅ | ✅ | ✅ |
| Cache Persistence | ✅ | ✅ | ✅ | ✅ | 🛑 Active Routes Only 8 |
| Devtools | ✅ | ✅ | ✅ | ✅ | 🛑 |
| Polling/Intervals | ✅ | ✅ | ✅ | ✅ | 🛑 |
| Parallel Queries | ✅ | ✅ | ✅ | ✅ | ✅ |
| Dependent Queries | ✅ | ✅ | ✅ | ✅ | ✅ |
| Paginated Queries | ✅ | ✅ | ✅ | ✅ | ✅ |
| Infinite Queries | ✅ | ✅ | ✅ | 🛑 | 🛑 |
| Bi-directional Infinite Queries | ✅ | 🔶 | 🔶 | 🛑 | 🛑 |
| Infinite Query Refetching | ✅ | ✅ | 🛑 | 🛑 | 🛑 |
| Lagged Query Data1 | ✅ | ✅ | ✅ | ✅ | ✅ |
| Selectors | ✅ | 🛑 | ✅ | ✅ | N/A |
| Initial Data | ✅ | ✅ | ✅ | ✅ | ✅ |
| Scroll Recovery | ✅ | ✅ | ✅ | ✅ | ✅ |
| Cache Manipulation | ✅ | ✅ | ✅ | ✅ | 🛑 |
| Outdated Query Dismissal | ✅ | ✅ | ✅ | ✅ | ✅ |
| Render Batching & Optimization2 | ✅ | ✅ | 🛑 | ✅ | ✅ |
| Auto Garbage Collection | ✅ | 🛑 | 🛑 | ✅ | N/A |
| Mutation Hooks | ✅ | ✅ | ✅ | ✅ | ✅ |
| Offline Mutation Support | ✅ | 🛑 | 🟡 | 🛑 | 🛑 |
| Prefetching APIs | ✅ | ✅ | ✅ | ✅ | ✅ |
| Query Cancellation | ✅ | 🛑 | 🛑 | 🛑 | ✅ |
| Partial Query Matching3 | ✅ | 🔶 | ✅ | ✅ | N/A |
| Stale While Revalidate | ✅ | ✅ | ✅ | ✅ | 🛑 |
| Stale Time Configuration | ✅ | 🛑7 | 🛑 | ✅ | 🛑 |
| Pre-usage Query/Mutation Configuration4 | ✅ | 🛑 | ✅ | ✅ | ✅ |
| Window Focus Refetching | ✅ | ✅ | 🛑 | ✅ | 🛑 |
| Network Status Refetching | ✅ | ✅ | ✅ | ✅ | 🛑 |
| General Cache Dehydration/Rehydration | ✅ | 🛑 | ✅ | ✅ | ✅ |
| Offline Caching | ✅ | 🛑 | ✅ | 🔶 | 🛑 |
| React Suspense | ✅ | ✅ | ✅ | 🛑 | ✅ |
| Abstracted/Agnostic Core | ✅ | 🛑 | ✅ | ✅ | 🛑 |
| Automatic Refetch after Mutation5 | 🔶 | 🔶 | ✅ | ✅ | ✅ |
| Normalized Caching6 | 🛑 | 🛑 | ✅ | 🛑 | 🛑 |

[**Notes**](https://tanstack.com/query/latest/docs/framework/react/comparison#notes)

> **1 Lagged Query Data** \- React Query provides a way to continue to see an existing query's data while the next query loads (similar to the same UX that suspense will soon provide natively). This is extremely important when writing pagination UIs or infinite loading UIs where you do not want to show a hard loading state whenever a new query is requested. Other libraries do not have this capability and render a hard loading state for the new query (unless it has been prefetched), while the new query loads.

> **2 Render Optimization** \- React Query has excellent rendering performance. By default, it will automatically track which fields are accessed and only re-render if one of them changes. If you would like to opt-out of this optimization, setting notifyOnChangeProps to 'all' will re-render your components whenever the query is updated. For example because it has new data, or to indicate it is fetching. React Query also batches updates together to make sure your application only re-renders once when multiple components are using the same query. If you are only interested in the data or error properties, you can reduce the number of renders even more by setting notifyOnChangeProps to \['data', 'error'\].

> **3 Partial query matching** \- Because React Query uses deterministic query key serialization, this allows you to manipulate variable groups of queries without having to know each individual query-key that you want to match, eg. you can refetch every query that starts with todos in its key, regardless of variables, or you can target specific queries with (or without) variables or nested properties, and even use a filter function to only match queries that pass your specific conditions.

> **4 Pre-usage Query Configuration** \- This is simply a fancy name for being able to configure how queries and mutations will behave before they are used. For instance, a query can be fully configured with defaults beforehand and when the time comes to use it, only useQuery({ queryKey }) is necessary, instead of being required to pass the fetcher and/or options with every usage. SWR does have a partial form of this feature by allowing you to pre-configure a default fetcher, but only as a global fetcher, not on a per-query basis and definitely not for mutations.

> **5 Automatic Refetch after Mutation** \- For truly automatic refetching to happen after a mutation occurs, a schema is necessary (like the one graphQL provides) along with heuristics that help the library know how to identify individual entities and entities types in that schema.

> **6 Normalized Caching** \- React Query, SWR and RTK-Query do not currently support automatic-normalized caching which describes storing entities in a flat architecture to avoid some high-level data duplication.

> **7 SWR's Immutable Mode** \- SWR ships with an "immutable" mode that does allow you to only fetch a query once for the life of the cache, but it still does not have the concept of stale-time or conditional auto-revalidation

> **8 React Router cache persistence** \- React Router does not cache data beyond the currently matched routes. If a route is left, its data is lost.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/comparison.md)

[Videos & Talks](https://tanstack.com/query/latest/docs/framework/react/videos)

[TypeScript](https://tanstack.com/query/latest/docs/framework/react/typescript)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=tazjt)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Show Error

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=9td5o)

## React Query Suspense Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [throwOnError default](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#throwonerror-default)
- [Resetting Error Boundaries](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#resetting-error-boundaries)
- [Fetch-on-render vs Render-as-you-fetch](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#fetch-on-render-vs-render-as-you-fetch)
- [Suspense on the Server with streaming](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#suspense-on-the-server-with-streaming)
- [Using `useQuery().promise` and `React.use()` (Experimental)](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#using-usequerypromise-and-reactuse-experimental)

# Suspense

React Query can also be used with React's Suspense for Data Fetching API's. For this, we have dedicated hooks:

- [useSuspenseQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- Additionally, you can use the useQuery().promise and React.use() (Experimental)

When using suspense mode, status states and error objects are not needed and are then replaced by usage of the React.Suspense component (including the use of the fallback prop and React error boundaries for catching errors). Please read the [Resetting Error Boundaries](https://tanstack.com/query/latest/docs/framework/react/guides/suspense/#resetting-error-boundaries) and look at the [Suspense Example](https://tanstack.com/query/latest/docs/framework/react/examples/react/suspense) for more information on how to set up suspense mode.

If you want mutations to propagate errors to the nearest error boundary (similar to queries), you can set the throwOnError option to true as well.

Enabling suspense mode for a query:

tsx

```
import { useSuspenseQuery } from '@tanstack/react-query'

const { data } = useSuspenseQuery({ queryKey, queryFn })

```

```
import { useSuspenseQuery } from '@tanstack/react-query'

const { data } = useSuspenseQuery({ queryKey, queryFn })

```

This works nicely in TypeScript, because data is guaranteed to be defined (as errors and loading states are handled by Suspense- and ErrorBoundaries).

On the flip side, you therefore can't conditionally enable / disable the Query. This generally shouldn't be necessary for dependent Queries because with suspense, all your Queries inside one component are fetched in serial.

placeholderData also doesn't exist for this Query. To prevent the UI from being replaced by a fallback during an update, wrap your updates that change the QueryKey into [startTransition](https://react.dev/reference/react/Suspense#preventing-unwanted-fallbacks).

[**throwOnError default**](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#throwonerror-default)

Not all errors are thrown to the nearest Error Boundary per default - we're only throwing errors if there is no other data to show. That means if a Query ever successfully got data in the cache, the component will render, even if data is stale. Thus, the default for throwOnError is:

```
throwOnError: (error, query) => typeof query.state.data === 'undefined'

```

```
throwOnError: (error, query) => typeof query.state.data === 'undefined'

```

Since you can't change throwOnError (because it would allow for data to become potentially undefined), you have to throw errors manually if you want all errors to be handled by Error Boundaries:

tsx

```
import { useSuspenseQuery } from '@tanstack/react-query'

const { data, error, isFetching } = useSuspenseQuery({ queryKey, queryFn })

if (error && !isFetching) {
  throw error
}

// continue rendering data

```

```
import { useSuspenseQuery } from '@tanstack/react-query'

const { data, error, isFetching } = useSuspenseQuery({ queryKey, queryFn })

if (error && !isFetching) {
  throw error
}

// continue rendering data

```

[**Resetting Error Boundaries**](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#resetting-error-boundaries)

Whether you are using **suspense** or **throwOnError** in your queries, you will need a way to let queries know that you want to try again when re-rendering after some error occurred.

Query errors can be reset with the QueryErrorResetBoundary component or with the useQueryErrorResetBoundary hook.

When using the component it will reset any query errors within the boundaries of the component:

tsx

```
import { QueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => (
  <QueryErrorResetBoundary>
    {({ reset }) => (
      <ErrorBoundary
        onReset={reset}
        fallbackRender={({ resetErrorBoundary }) => (
          <div>
            There was an error!
            <Button onClick={() => resetErrorBoundary()}>Try again</Button>
          </div>
        )}
      >
        <Page />
      </ErrorBoundary>
    )}
  </QueryErrorResetBoundary>
)

```

```
import { QueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => (
  <QueryErrorResetBoundary>
    {({ reset }) => (
      <ErrorBoundary
        onReset={reset}
        fallbackRender={({ resetErrorBoundary }) => (
          <div>
            There was an error!
            <Button onClick={() => resetErrorBoundary()}>Try again</Button>
          </div>
        )}
      >
        <Page />
      </ErrorBoundary>
    )}
  </QueryErrorResetBoundary>
)

```

When using the hook it will reset any query errors within the closest QueryErrorResetBoundary. If there is no boundary defined it will reset them globally:

tsx

```
import { useQueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => {
  const { reset } = useQueryErrorResetBoundary()
  return (
    <ErrorBoundary
      onReset={reset}
      fallbackRender={({ resetErrorBoundary }) => (
        <div>
          There was an error!
          <Button onClick={() => resetErrorBoundary()}>Try again</Button>
        </div>
      )}
    >
      <Page />
    </ErrorBoundary>
  )
}

```

```
import { useQueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => {
  const { reset } = useQueryErrorResetBoundary()
  return (
    <ErrorBoundary
      onReset={reset}
      fallbackRender={({ resetErrorBoundary }) => (
        <div>
          There was an error!
          <Button onClick={() => resetErrorBoundary()}>Try again</Button>
        </div>
      )}
    >
      <Page />
    </ErrorBoundary>
  )
}

```

[**Fetch-on-render vs Render-as-you-fetch**](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#fetch-on-render-vs-render-as-you-fetch)

Out of the box, React Query in suspense mode works really well as a **Fetch-on-render** solution with no additional configuration. This means that when your components attempt to mount, they will trigger query fetching and suspend, but only once you have imported them and mounted them. If you want to take it to the next level and implement a **Render-as-you-fetch** model, we recommend implementing [Prefetching](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching) on routing callbacks and/or user interactions events to start loading queries before they are mounted and hopefully even before you start importing or mounting their parent components.

[**Suspense on the Server with streaming**](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#suspense-on-the-server-with-streaming)

If you are using NextJs, you can use our **experimental** integration for Suspense on the Server: @tanstack/react-query-next-experimental. This package will allow you to fetch data on the server (in a client component) by just calling useSuspenseQuery in your component. Results will then be streamed from the server to the client as SuspenseBoundaries resolve.

To achieve this, wrap your app in the ReactQueryStreamedHydration component:

tsx

```
// app/providers.tsx
'use client'

import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import * as React from 'react'
import { ReactQueryStreamedHydration } from '@tanstack/react-query-next-experimental'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export function Providers(props: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryStreamedHydration>
        {props.children}
      </ReactQueryStreamedHydration>
    </QueryClientProvider>
  )
}

```

```
// app/providers.tsx
'use client'

import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import * as React from 'react'
import { ReactQueryStreamedHydration } from '@tanstack/react-query-next-experimental'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export function Providers(props: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryStreamedHydration>
        {props.children}
      </ReactQueryStreamedHydration>
    </QueryClientProvider>
  )
}

```

For more information, check out the [NextJs Suspense Streaming Example](https://tanstack.com/query/latest/docs/framework/react/examples/react/nextjs-suspense-streaming) and the [Advanced Rendering & Hydration](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr) guide.

[**Using useQuery().promise and React.use() (Experimental)**](https://tanstack.com/query/latest/docs/framework/react/guides/suspense#using-usequerypromise-and-reactuse-experimental)

> To enable this feature, you need to set the experimental\_prefetchInRender option to true when creating your QueryClient

**Example code:**

tsx

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      experimental_prefetchInRender: true,
    },
  },
})

```

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      experimental_prefetchInRender: true,
    },
  },
})

```

**Usage:**

tsx

```
import React from 'react'
import { useQuery } from '@tanstack/react-query'
import { fetchTodos, type Todo } from './api'

function TodoList({ query }: { query: UseQueryResult<Todo[]> }) {
  const data = React.use(query.promise)

  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

export function App() {
  const query = useQuery({ queryKey: ['todos'], queryFn: fetchTodos })

  return (
    <>
      <h1>Todos</h1>
      <React.Suspense fallback={<div>Loading...</div>}>
        <TodoList query={query} />
      </React.Suspense>
    </>
  )
}

```

```
import React from 'react'
import { useQuery } from '@tanstack/react-query'
import { fetchTodos, type Todo } from './api'

function TodoList({ query }: { query: UseQueryResult<Todo[]> }) {
  const data = React.use(query.promise)

  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

export function App() {
  const query = useQuery({ queryKey: ['todos'], queryFn: fetchTodos })

  return (
    <>
      <h1>Todos</h1>
      <React.Suspense fallback={<div>Loading...</div>}>
        <TodoList query={query} />
      </React.Suspense>
    </>
  )
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/suspense.md)

[Default Query Fn](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)

[Testing](https://tanstack.com/query/latest/docs/framework/react/guides/testing)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=1b2fm)

## Next.js TanStack Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Nextjs  [Github](https://github.com/tanstack/query/tree/main/examples/react/nextjs) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/nextjs?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/nextjs?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - components

  - hooks

  - pages

    - ![_app.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)\_app.tsx

    - ![client-only.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)client-only.tsx

    - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![next-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)next-env.d.ts

- ![next.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)next.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import React from 'react'
import { QueryClient, dehydrate } from '@tanstack/react-query'
import { Header, InfoBox, Layout, PostList } from '../components'
import { fetchPosts } from '../hooks/usePosts'

const Home = () => {
  return (
    <Layout>
      <Header />
      <InfoBox>ℹ️ This page shows how to use SSG with React-Query.</InfoBox>
      <PostList />
    </Layout>
  )
}

export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts', 10],
    queryFn: () => fetchPosts(10),
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

export default Home

```

```
import React from 'react'
import { QueryClient, dehydrate } from '@tanstack/react-query'
import { Header, InfoBox, Layout, PostList } from '../components'
import { fetchPosts } from '../hooks/usePosts'

const Home = () => {
  return (
    <Layout>
      <Header />
      <InfoBox>ℹ️ This page shows how to use SSG with React-Query.</InfoBox>
      <PostList />
    </Layout>
  )
}

export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts', 10],
    queryFn: () => fetchPosts(10),
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

export default Home

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/nextjs?embed=1&theme=light&preset=node&file=index.tsx)

[Rick And Morty](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)

[Next.js app with prefetching](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=snxlh)

## React Mutations Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Resetting Mutation State](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#resetting-mutation-state)
- [Mutation Side Effects](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#mutation-side-effects)
- [Consecutive mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#consecutive-mutations)
- [Promises](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#promises)
- [Retry](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#retry)
- [Persist mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#persist-mutations)
- [Persisting Offline mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#persisting-offline-mutations)
- [Mutation Scopes](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#mutation-scopes)
- [Further reading](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#further-reading)

# Mutations

Unlike queries, mutations are typically used to create/update/delete data or perform server side-effects. For this purpose, TanStack Query exports a useMutation hook.

Here's an example of a mutation that adds a new todo to the server:

tsx

```
function App() {
  const mutation = useMutation({
    mutationFn: (newTodo) => {
      return axios.post('/todos', newTodo)
    },
  })

  return (
    <div>
      {mutation.isPending ? (
        'Adding todo...'
      ) : (
        <>
          {mutation.isError ? (
            <div>An error occurred: {mutation.error.message}</div>
          ) : null}

          {mutation.isSuccess ? <div>Todo added!</div> : null}

          <button
            onClick={() => {
              mutation.mutate({ id: new Date(), title: 'Do Laundry' })
            }}
          >
            Create Todo
          </button>
        </>
      )}
    </div>
  )
}

```

```
function App() {
  const mutation = useMutation({
    mutationFn: (newTodo) => {
      return axios.post('/todos', newTodo)
    },
  })

  return (
    <div>
      {mutation.isPending ? (
        'Adding todo...'
      ) : (
        <>
          {mutation.isError ? (
            <div>An error occurred: {mutation.error.message}</div>
          ) : null}

          {mutation.isSuccess ? <div>Todo added!</div> : null}

          <button
            onClick={() => {
              mutation.mutate({ id: new Date(), title: 'Do Laundry' })
            }}
          >
            Create Todo
          </button>
        </>
      )}
    </div>
  )
}

```

A mutation can only be in one of the following states at any given moment:

- isIdle or status === 'idle' \- The mutation is currently idle or in a fresh/reset state
- isPending or status === 'pending' \- The mutation is currently running
- isError or status === 'error' \- The mutation encountered an error
- isSuccess or status === 'success' \- The mutation was successful and mutation data is available

Beyond those primary states, more information is available depending on the state of the mutation:

- error \- If the mutation is in an error state, the error is available via the error property.
- data \- If the mutation is in a success state, the data is available via the data property.

In the example above, you also saw that you can pass variables to your mutations function by calling the mutate function with a **single variable or object**.

Even with just variables, mutations aren't all that special, but when used with the onSuccess option, the [Query Client's invalidateQueries method](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientinvalidatequeries) and the [Query Client's setQueryData method](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientsetquerydata), mutations become a very powerful tool.

> IMPORTANT: The mutate function is an asynchronous function, which means you cannot use it directly in an event callback in **React 16 and earlier**. If you need to access the event in onSubmit you need to wrap mutate in another function. This is due to [React event pooling](https://reactjs.org/docs/legacy-event-pooling.html).

tsx

```
// This will not work in React 16 and earlier
const CreateTodo = () => {
  const mutation = useMutation({
    mutationFn: (event) => {
      event.preventDefault()
      return fetch('/api', new FormData(event.target))
    },
  })

  return <form onSubmit={mutation.mutate}>...</form>
}

// This will work
const CreateTodo = () => {
  const mutation = useMutation({
    mutationFn: (formData) => {
      return fetch('/api', formData)
    },
  })
  const onSubmit = (event) => {
    event.preventDefault()
    mutation.mutate(new FormData(event.target))
  }

  return <form onSubmit={onSubmit}>...</form>
}

```

```
// This will not work in React 16 and earlier
const CreateTodo = () => {
  const mutation = useMutation({
    mutationFn: (event) => {
      event.preventDefault()
      return fetch('/api', new FormData(event.target))
    },
  })

  return <form onSubmit={mutation.mutate}>...</form>
}

// This will work
const CreateTodo = () => {
  const mutation = useMutation({
    mutationFn: (formData) => {
      return fetch('/api', formData)
    },
  })
  const onSubmit = (event) => {
    event.preventDefault()
    mutation.mutate(new FormData(event.target))
  }

  return <form onSubmit={onSubmit}>...</form>
}

```

[**Resetting Mutation State**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#resetting-mutation-state)

It's sometimes the case that you need to clear the error or data of a mutation request. To do this, you can use the reset function to handle this:

tsx

```
const CreateTodo = () => {
  const [title, setTitle] = useState('')
  const mutation = useMutation({ mutationFn: createTodo })

  const onCreateTodo = (e) => {
    e.preventDefault()
    mutation.mutate({ title })
  }

  return (
    <form onSubmit={onCreateTodo}>
      {mutation.error && (
        <h5 onClick={() => mutation.reset()}>{mutation.error}</h5>
      )}
      <input
        type="text"
        value={title}
        onChange={(e) => setTitle(e.target.value)}
      />
      <br />
      <button type="submit">Create Todo</button>
    </form>
  )
}

```

```
const CreateTodo = () => {
  const [title, setTitle] = useState('')
  const mutation = useMutation({ mutationFn: createTodo })

  const onCreateTodo = (e) => {
    e.preventDefault()
    mutation.mutate({ title })
  }

  return (
    <form onSubmit={onCreateTodo}>
      {mutation.error && (
        <h5 onClick={() => mutation.reset()}>{mutation.error}</h5>
      )}
      <input
        type="text"
        value={title}
        onChange={(e) => setTitle(e.target.value)}
      />
      <br />
      <button type="submit">Create Todo</button>
    </form>
  )
}

```

[**Mutation Side Effects**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#mutation-side-effects)

useMutation comes with some helper options that allow quick and easy side-effects at any stage during the mutation lifecycle. These come in handy for both [invalidating and refetching queries after mutations](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations) and even [optimistic updates](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)

tsx

```
useMutation({
  mutationFn: addTodo,
  onMutate: (variables) => {
    // A mutation is about to happen!

    // Optionally return a context containing data to use when for example rolling back
    return { id: 1 }
  },
  onError: (error, variables, context) => {
    // An error happened!
    console.log(`rolling back optimistic update with id ${context.id}`)
  },
  onSuccess: (data, variables, context) => {
    // Boom baby!
  },
  onSettled: (data, error, variables, context) => {
    // Error or success... doesn't matter!
  },
})

```

```
useMutation({
  mutationFn: addTodo,
  onMutate: (variables) => {
    // A mutation is about to happen!

    // Optionally return a context containing data to use when for example rolling back
    return { id: 1 }
  },
  onError: (error, variables, context) => {
    // An error happened!
    console.log(`rolling back optimistic update with id ${context.id}`)
  },
  onSuccess: (data, variables, context) => {
    // Boom baby!
  },
  onSettled: (data, error, variables, context) => {
    // Error or success... doesn't matter!
  },
})

```

When returning a promise in any of the callback functions it will first be awaited before the next callback is called:

tsx

```
useMutation({
  mutationFn: addTodo,
  onSuccess: async () => {
    console.log("I'm first!")
  },
  onSettled: async () => {
    console.log("I'm second!")
  },
})

```

```
useMutation({
  mutationFn: addTodo,
  onSuccess: async () => {
    console.log("I'm first!")
  },
  onSettled: async () => {
    console.log("I'm second!")
  },
})

```

You might find that you want to **trigger additional callbacks** beyond the ones defined on useMutation when calling mutate. This can be used to trigger component-specific side effects. To do that, you can provide any of the same callback options to the mutate function after your mutation variable. Supported options include: onSuccess, onError and onSettled. Please keep in mind that those additional callbacks won't run if your component unmounts _before_ the mutation finishes.

tsx

```
useMutation({
  mutationFn: addTodo,
  onSuccess: (data, variables, context) => {
    // I will fire first
  },
  onError: (error, variables, context) => {
    // I will fire first
  },
  onSettled: (data, error, variables, context) => {
    // I will fire first
  },
})

mutate(todo, {
  onSuccess: (data, variables, context) => {
    // I will fire second!
  },
  onError: (error, variables, context) => {
    // I will fire second!
  },
  onSettled: (data, error, variables, context) => {
    // I will fire second!
  },
})

```

```
useMutation({
  mutationFn: addTodo,
  onSuccess: (data, variables, context) => {
    // I will fire first
  },
  onError: (error, variables, context) => {
    // I will fire first
  },
  onSettled: (data, error, variables, context) => {
    // I will fire first
  },
})

mutate(todo, {
  onSuccess: (data, variables, context) => {
    // I will fire second!
  },
  onError: (error, variables, context) => {
    // I will fire second!
  },
  onSettled: (data, error, variables, context) => {
    // I will fire second!
  },
})

```

[**Consecutive mutations**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#consecutive-mutations)

There is a slight difference in handling onSuccess, onError and onSettled callbacks when it comes to consecutive mutations. When passed to the mutate function, they will be fired up only _once_ and only if the component is still mounted. This is due to the fact that mutation observer is removed and resubscribed every time when the mutate function is called. On the contrary, useMutation handlers execute for each mutate call.

> Be aware that most likely, mutationFn passed to useMutation is asynchronous. In that case, the order in which mutations are fulfilled may differ from the order of mutate function calls.

tsx

```
useMutation({
  mutationFn: addTodo,
  onSuccess: (data, variables, context) => {
    // Will be called 3 times
  },
})

const todos = ['Todo 1', 'Todo 2', 'Todo 3']
todos.forEach((todo) => {
  mutate(todo, {
    onSuccess: (data, variables, context) => {
      // Will execute only once, for the last mutation (Todo 3),
      // regardless which mutation resolves first
    },
  })
})

```

```
useMutation({
  mutationFn: addTodo,
  onSuccess: (data, variables, context) => {
    // Will be called 3 times
  },
})

const todos = ['Todo 1', 'Todo 2', 'Todo 3']
todos.forEach((todo) => {
  mutate(todo, {
    onSuccess: (data, variables, context) => {
      // Will execute only once, for the last mutation (Todo 3),
      // regardless which mutation resolves first
    },
  })
})

```

[**Promises**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#promises)

Use mutateAsync instead of mutate to get a promise which will resolve on success or throw on an error. This can for example be used to compose side effects.

tsx

```
const mutation = useMutation({ mutationFn: addTodo })

try {
  const todo = await mutation.mutateAsync(todo)
  console.log(todo)
} catch (error) {
  console.error(error)
} finally {
  console.log('done')
}

```

```
const mutation = useMutation({ mutationFn: addTodo })

try {
  const todo = await mutation.mutateAsync(todo)
  console.log(todo)
} catch (error) {
  console.error(error)
} finally {
  console.log('done')
}

```

[**Retry**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#retry)

By default, TanStack Query will not retry a mutation on error, but it is possible with the retry option:

tsx

```
const mutation = useMutation({
  mutationFn: addTodo,
  retry: 3,
})

```

```
const mutation = useMutation({
  mutationFn: addTodo,
  retry: 3,
})

```

If mutations fail because the device is offline, they will be retried in the same order when the device reconnects.

[**Persist mutations**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#persist-mutations)

Mutations can be persisted to storage if needed and resumed at a later point. This can be done with the hydration functions:

tsx

```
const queryClient = new QueryClient()

// Define the "addTodo" mutation
queryClient.setMutationDefaults(['addTodo'], {
  mutationFn: addTodo,
  onMutate: async (variables) => {
    // Cancel current queries for the todos list
    await queryClient.cancelQueries({ queryKey: ['todos'] })

    // Create optimistic todo
    const optimisticTodo = { id: uuid(), title: variables.title }

    // Add optimistic todo to todos list
    queryClient.setQueryData(['todos'], (old) => [...old, optimisticTodo])

    // Return context with the optimistic todo
    return { optimisticTodo }
  },
  onSuccess: (result, variables, context) => {
    // Replace optimistic todo in the todos list with the result
    queryClient.setQueryData(['todos'], (old) =>
      old.map((todo) =>
        todo.id === context.optimisticTodo.id ? result : todo,
      ),
    )
  },
  onError: (error, variables, context) => {
    // Remove optimistic todo from the todos list
    queryClient.setQueryData(['todos'], (old) =>
      old.filter((todo) => todo.id !== context.optimisticTodo.id),
    )
  },
  retry: 3,
})

// Start mutation in some component:
const mutation = useMutation({ mutationKey: ['addTodo'] })
mutation.mutate({ title: 'title' })

// If the mutation has been paused because the device is for example offline,
// Then the paused mutation can be dehydrated when the application quits:
const state = dehydrate(queryClient)

// The mutation can then be hydrated again when the application is started:
hydrate(queryClient, state)

// Resume the paused mutations:
queryClient.resumePausedMutations()

```

```
const queryClient = new QueryClient()

// Define the "addTodo" mutation
queryClient.setMutationDefaults(['addTodo'], {
  mutationFn: addTodo,
  onMutate: async (variables) => {
    // Cancel current queries for the todos list
    await queryClient.cancelQueries({ queryKey: ['todos'] })

    // Create optimistic todo
    const optimisticTodo = { id: uuid(), title: variables.title }

    // Add optimistic todo to todos list
    queryClient.setQueryData(['todos'], (old) => [...old, optimisticTodo])

    // Return context with the optimistic todo
    return { optimisticTodo }
  },
  onSuccess: (result, variables, context) => {
    // Replace optimistic todo in the todos list with the result
    queryClient.setQueryData(['todos'], (old) =>
      old.map((todo) =>
        todo.id === context.optimisticTodo.id ? result : todo,
      ),
    )
  },
  onError: (error, variables, context) => {
    // Remove optimistic todo from the todos list
    queryClient.setQueryData(['todos'], (old) =>
      old.filter((todo) => todo.id !== context.optimisticTodo.id),
    )
  },
  retry: 3,
})

// Start mutation in some component:
const mutation = useMutation({ mutationKey: ['addTodo'] })
mutation.mutate({ title: 'title' })

// If the mutation has been paused because the device is for example offline,
// Then the paused mutation can be dehydrated when the application quits:
const state = dehydrate(queryClient)

// The mutation can then be hydrated again when the application is started:
hydrate(queryClient, state)

// Resume the paused mutations:
queryClient.resumePausedMutations()

```

[**Persisting Offline mutations**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#persisting-offline-mutations)

If you persist offline mutations with the [persistQueryClient plugin](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient), mutations cannot be resumed when the page is reloaded unless you provide a default mutation function.

This is a technical limitation. When persisting to an external storage, only the state of mutations is persisted, as functions cannot be serialized. After hydration, the component that triggers the mutation might not be mounted, so calling resumePausedMutations might yield an error: No mutationFn found.

tsx

```
const persister = createSyncStoragePersister({
  storage: window.localStorage,
})
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

// we need a default mutation function so that paused mutations can resume after a page reload
queryClient.setMutationDefaults(['todos'], {
  mutationFn: ({ id, data }) => {
    return api.updateTodo(id, data)
  },
})

export default function App() {
  return (
    <PersistQueryClientProvider
      client={queryClient}
      persistOptions={{ persister }}
      onSuccess={() => {
        // resume mutations after initial restore from localStorage was successful
        queryClient.resumePausedMutations()
      }}
    >
      <RestOfTheApp />
    </PersistQueryClientProvider>
  )
}

```

```
const persister = createSyncStoragePersister({
  storage: window.localStorage,
})
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

// we need a default mutation function so that paused mutations can resume after a page reload
queryClient.setMutationDefaults(['todos'], {
  mutationFn: ({ id, data }) => {
    return api.updateTodo(id, data)
  },
})

export default function App() {
  return (
    <PersistQueryClientProvider
      client={queryClient}
      persistOptions={{ persister }}
      onSuccess={() => {
        // resume mutations after initial restore from localStorage was successful
        queryClient.resumePausedMutations()
      }}
    >
      <RestOfTheApp />
    </PersistQueryClientProvider>
  )
}

```

We also have an extensive [offline example](https://tanstack.com/query/latest/docs/framework/react/examples/react/offline) that covers both queries and mutations.

[**Mutation Scopes**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#mutation-scopes)

Per default, all mutations run in parallel - even if you invoke .mutate() of the same mutation multiple times. Mutations can be given a scope with an id to avoid that. All mutations with the same scope.id will run in serial, which means when they are triggered, they will start in isPaused: true state if there is already a mutation for that scope in progress. They will be put into a queue and will automatically resume once their time in the queue has come.

tsx

```
const mutation = useMutation({
  mutationFn: addTodo,
  scope: {
    id: 'todo',
  },
})

```

```
const mutation = useMutation({
  mutationFn: addTodo,
  scope: {
    id: 'todo',
  },
})

```

[**Further reading**](https://tanstack.com/query/latest/docs/framework/react/guides/mutations#further-reading)

For more information about mutations, have a look at [#12: Mastering Mutations in React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#12-mastering-mutations-in-react-query) from
the Community Resources.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/mutations.md)

[iframe](https://9f2e64d45f323e03aa9331e3589af4bf.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)

[Placeholder Query Data](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)

[Query Invalidation](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://9f2e64d45f323e03aa9331e3589af4bf.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=zxfmf)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Playground
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Playground  [Github](https://github.com/tanstack/query/tree/main/examples/react/playground) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/playground?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/playground?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![styles.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)styles.css
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useMutation,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import './styles.css'

let id = 0
let list = [\
  'apple',\
  'banana',\
  'pineapple',\
  'grapefruit',\
  'dragonfruit',\
  'grapes',\
].map((d) => ({ id: id++, name: d, notes: 'These are some notes' }))

type Todos = typeof list
type Todo = Todos[0]

let errorRate = 0.05
let queryTimeMin = 1000
let queryTimeMax = 2000

const queryClient = new QueryClient()

function Root() {
  const [staleTime, setStaleTime] = React.useState(1000)
  const [gcTime, setGcTime] = React.useState(3000)
  const [localErrorRate, setErrorRate] = React.useState(errorRate)
  const [localFetchTimeMin, setLocalFetchTimeMin] = React.useState(queryTimeMin)
  const [localFetchTimeMax, setLocalFetchTimeMax] = React.useState(queryTimeMax)

  React.useEffect(() => {
    errorRate = localErrorRate
    queryTimeMin = localFetchTimeMin
    queryTimeMax = localFetchTimeMax
  }, [localErrorRate, localFetchTimeMax, localFetchTimeMin])

  React.useEffect(() => {
    queryClient.setDefaultOptions({
      queries: {
        staleTime,
        gcTime,
      },
    })
  }, [gcTime, staleTime])

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        The "staleTime" and "gcTime" durations have been altered in this example
        to show how query stale-ness and query caching work on a granular level
      </p>
      <div>
        Stale Time:{' '}
        <input
          type="number"
          min="0"
          step="1000"
          value={staleTime}
          onChange={(e) => setStaleTime(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <div>
        Garbage collection Time:{' '}
        <input
          type="number"
          min="0"
          step="1000"
          value={gcTime}
          onChange={(e) => setGcTime(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <br />
      <div>
        Error Rate:{' '}
        <input
          type="number"
          min="0"
          max="1"
          step=".05"
          value={localErrorRate}
          onChange={(e) => setErrorRate(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <div>
        Fetch Time Min:{' '}
        <input
          type="number"
          min="1"
          step="500"
          value={localFetchTimeMin}
          onChange={(e) => setLocalFetchTimeMin(parseFloat(e.target.value))}
          style={{ width: '60px' }}
        />{' '}
      </div>
      <div>
        Fetch Time Max:{' '}
        <input
          type="number"
          min="1"
          step="500"
          value={localFetchTimeMax}
          onChange={(e) => setLocalFetchTimeMax(parseFloat(e.target.value))}
          style={{ width: '60px' }}
        />
      </div>
      <br />
      <App />
      <br />
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function App() {
  const queryClient = useQueryClient()
  const [editingIndex, setEditingIndex] = React.useState<number | null>(null)
  const [views, setViews] = React.useState(['', 'fruit', 'grape'])
  // const [views, setViews] = React.useState([""]);

  return (
    <div className="App">
      <div>
        <button onClick={() => queryClient.invalidateQueries()}>
          Force Refetch All
        </button>
      </div>
      <br />
      <hr />
      {views.map((view, index) => (
        <div key={index}>
          <Todos
            initialFilter={view}
            setEditingIndex={setEditingIndex}
            onRemove={() => {
              setViews((old) => [...old, ''])
            }}
          />
          <br />
        </div>
      ))}
      <button
        onClick={() => {
          setViews((old) => [...old, ''])
        }}
      >
        Add Filter List
      </button>
      <hr />
      {editingIndex !== null ? (
        <>
          <EditTodo
            editingIndex={editingIndex}
            setEditingIndex={setEditingIndex}
          />
          <hr />
        </>
      ) : null}
      <AddTodo />
    </div>
  )
}

function Todos({
  initialFilter = '',
  setEditingIndex,
}: {
  initialFilter: string
  setEditingIndex: React.Dispatch<React.SetStateAction<number | null>>
}) {
  const [filter, setFilter] = React.useState(initialFilter)

  const { status, data, isFetching, error, failureCount, refetch } = useQuery({
    queryKey: ['todos', { filter }],
    queryFn: fetchTodos,
  })

  return (
    <div>
      <div>
        <label>
          Filter:{' '}
          <input value={filter} onChange={(e) => setFilter(e.target.value)} />
        </label>
      </div>
      {status === 'pending' ? (
        <span>Loading... (Attempt: {failureCount + 1})</span>
      ) : status === 'error' ? (
        <span>
          Error: {error.message}
          <br />
          <button onClick={() => refetch()}>Retry</button>
        </span>
      ) : (
        <>
          <ul>
            {data
              ? data.map((todo) => (
                  <li key={todo.id}>
                    {todo.name}{' '}
                    <button onClick={() => setEditingIndex(todo.id)}>
                      Edit
                    </button>
                  </li>
                ))
              : null}
          </ul>
          <div>
            {isFetching ? (
              <span>
                Background Refreshing... (Attempt: {failureCount + 1})
              </span>
            ) : (
              <span>&nbsp;</span>
            )}
          </div>
        </>
      )}
    </div>
  )
}

function EditTodo({
  editingIndex,
  setEditingIndex,
}: {
  editingIndex: number
  setEditingIndex: React.Dispatch<React.SetStateAction<number | null>>
}) {
  const queryClient = useQueryClient()

  // Don't attempt to query until editingIndex is truthy
  const { status, data, isFetching, error, failureCount, refetch } = useQuery({
    queryKey: ['todo', { id: editingIndex }],
    queryFn: () => fetchTodoById({ id: editingIndex }),
  })

  const [todo, setTodo] = React.useState(data || {})

  React.useEffect(() => {
    if (editingIndex !== null && data) {
      setTodo(data)
    } else {
      setTodo({})
    }
  }, [data, editingIndex])

  const saveMutation = useMutation({
    mutationFn: patchTodo,
    onSuccess: (data) => {
      // Update `todos` and the individual todo queries when this mutation succeeds
      queryClient.invalidateQueries({ queryKey: ['todos'] })
      queryClient.setQueryData(['todo', { id: editingIndex }], data)
    },
  })

  const onSave = () => {
    saveMutation.mutate(todo)
  }

  const disableEditSave =
    status === 'pending' || saveMutation.status === 'pending'

  return (
    <div>
      <div>
        {data ? (
          <>
            <button onClick={() => setEditingIndex(null)}>Back</button> Editing
            Todo "{data.name}" (#
            {editingIndex})
          </>
        ) : null}
      </div>
      {status === 'pending' ? (
        <span>Loading... (Attempt: {failureCount + 1})</span>
      ) : error ? (
        <span>
          Error! <button onClick={() => refetch()}>Retry</button>
        </span>
      ) : (
        <>
          <label>
            Name:{' '}
            <input
              value={todo.name}
              onChange={(e) =>
                e.persist() ||
                setTodo((old) => ({ ...old, name: e.target.value }))
              }
              disabled={disableEditSave}
            />
          </label>
          <label>
            Notes:{' '}
            <input
              value={todo.notes}
              onChange={(e) =>
                e.persist() ||
                setTodo((old) => ({ ...old, notes: e.target.value }))
              }
              disabled={disableEditSave}
            />
          </label>
          <div>
            <button onClick={onSave} disabled={disableEditSave}>
              Save
            </button>
          </div>
          <div>
            {saveMutation.status === 'pending'
              ? 'Saving...'
              : saveMutation.status === 'error'
                ? saveMutation.error.message
                : 'Saved!'}
          </div>
          <div>
            {isFetching ? (
              <span>
                Background Refreshing... (Attempt: {failureCount + 1})
              </span>
            ) : (
              <span>&nbsp;</span>
            )}
          </div>
        </>
      )}
    </div>
  )
}

function AddTodo() {
  const queryClient = useQueryClient()
  const [name, setName] = React.useState('')

  const addMutation = useMutation({
    mutationFn: postTodo,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['todos'] })
    },
  })

  return (
    <div>
      <input
        value={name}
        onChange={(e) => setName(e.target.value)}
        disabled={addMutation.status === 'pending'}
      />
      <button
        onClick={() => {
          addMutation.mutate({ name, notes: 'These are some notes' })
        }}
        disabled={addMutation.status === 'pending' || !name}
      >
        Add Todo
      </button>
      <div>
        {addMutation.status === 'pending'
          ? 'Saving...'
          : addMutation.status === 'error'
            ? addMutation.error.message
            : 'Saved!'}
      </div>
    </div>
  )
}

function fetchTodos({ signal, queryKey: [, { filter }] }): Promise<Todos> {
  console.info('fetchTodos', { filter })

  if (signal) {
    signal.addEventListener('abort', () => {
      console.info('cancelled', filter)
    })
  }

  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ fetchTodos: { filter } }, null, 2)),
          )
        }
        resolve(list.filter((d) => d.name.includes(filter)))
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function fetchTodoById({ id }: { id: number }): Promise<Todo> {
  console.info('fetchTodoById', { id })
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ fetchTodoById: { id } }, null, 2)),
          )
        }
        resolve(list.find((d) => d.id === id))
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function postTodo({ name, notes }: Omit<Todo, 'id'>) {
  console.info('postTodo', { name, notes })
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ postTodo: { name, notes } }, null, 2)),
          )
        }
        const todo = { name, notes, id: id++ }
        list = [...list, todo]
        resolve(todo)
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function patchTodo(todo?: Todo): Promise<Todo> {
  console.info('patchTodo', todo)
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(new Error(JSON.stringify({ patchTodo: todo }, null, 2)))
        }
        list = list.map((d) => {
          if (d.id === todo.id) {
            return todo
          }
          return d
        })
        resolve(todo)
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<Root />)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useMutation,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import './styles.css'

let id = 0
let list = [\
  'apple',\
  'banana',\
  'pineapple',\
  'grapefruit',\
  'dragonfruit',\
  'grapes',\
].map((d) => ({ id: id++, name: d, notes: 'These are some notes' }))

type Todos = typeof list
type Todo = Todos[0]

let errorRate = 0.05
let queryTimeMin = 1000
let queryTimeMax = 2000

const queryClient = new QueryClient()

function Root() {
  const [staleTime, setStaleTime] = React.useState(1000)
  const [gcTime, setGcTime] = React.useState(3000)
  const [localErrorRate, setErrorRate] = React.useState(errorRate)
  const [localFetchTimeMin, setLocalFetchTimeMin] = React.useState(queryTimeMin)
  const [localFetchTimeMax, setLocalFetchTimeMax] = React.useState(queryTimeMax)

  React.useEffect(() => {
    errorRate = localErrorRate
    queryTimeMin = localFetchTimeMin
    queryTimeMax = localFetchTimeMax
  }, [localErrorRate, localFetchTimeMax, localFetchTimeMin])

  React.useEffect(() => {
    queryClient.setDefaultOptions({
      queries: {
        staleTime,
        gcTime,
      },
    })
  }, [gcTime, staleTime])

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        The "staleTime" and "gcTime" durations have been altered in this example
        to show how query stale-ness and query caching work on a granular level
      </p>
      <div>
        Stale Time:{' '}
        <input
          type="number"
          min="0"
          step="1000"
          value={staleTime}
          onChange={(e) => setStaleTime(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <div>
        Garbage collection Time:{' '}
        <input
          type="number"
          min="0"
          step="1000"
          value={gcTime}
          onChange={(e) => setGcTime(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <br />
      <div>
        Error Rate:{' '}
        <input
          type="number"
          min="0"
          max="1"
          step=".05"
          value={localErrorRate}
          onChange={(e) => setErrorRate(parseFloat(e.target.value))}
          style={{ width: '100px' }}
        />
      </div>
      <div>
        Fetch Time Min:{' '}
        <input
          type="number"
          min="1"
          step="500"
          value={localFetchTimeMin}
          onChange={(e) => setLocalFetchTimeMin(parseFloat(e.target.value))}
          style={{ width: '60px' }}
        />{' '}
      </div>
      <div>
        Fetch Time Max:{' '}
        <input
          type="number"
          min="1"
          step="500"
          value={localFetchTimeMax}
          onChange={(e) => setLocalFetchTimeMax(parseFloat(e.target.value))}
          style={{ width: '60px' }}
        />
      </div>
      <br />
      <App />
      <br />
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function App() {
  const queryClient = useQueryClient()
  const [editingIndex, setEditingIndex] = React.useState<number | null>(null)
  const [views, setViews] = React.useState(['', 'fruit', 'grape'])
  // const [views, setViews] = React.useState([""]);

  return (
    <div className="App">
      <div>
        <button onClick={() => queryClient.invalidateQueries()}>
          Force Refetch All
        </button>
      </div>
      <br />
      <hr />
      {views.map((view, index) => (
        <div key={index}>
          <Todos
            initialFilter={view}
            setEditingIndex={setEditingIndex}
            onRemove={() => {
              setViews((old) => [...old, ''])
            }}
          />
          <br />
        </div>
      ))}
      <button
        onClick={() => {
          setViews((old) => [...old, ''])
        }}
      >
        Add Filter List
      </button>
      <hr />
      {editingIndex !== null ? (
        <>
          <EditTodo
            editingIndex={editingIndex}
            setEditingIndex={setEditingIndex}
          />
          <hr />
        </>
      ) : null}
      <AddTodo />
    </div>
  )
}

function Todos({
  initialFilter = '',
  setEditingIndex,
}: {
  initialFilter: string
  setEditingIndex: React.Dispatch<React.SetStateAction<number | null>>
}) {
  const [filter, setFilter] = React.useState(initialFilter)

  const { status, data, isFetching, error, failureCount, refetch } = useQuery({
    queryKey: ['todos', { filter }],
    queryFn: fetchTodos,
  })

  return (
    <div>
      <div>
        <label>
          Filter:{' '}
          <input value={filter} onChange={(e) => setFilter(e.target.value)} />
        </label>
      </div>
      {status === 'pending' ? (
        <span>Loading... (Attempt: {failureCount + 1})</span>
      ) : status === 'error' ? (
        <span>
          Error: {error.message}
          <br />
          <button onClick={() => refetch()}>Retry</button>
        </span>
      ) : (
        <>
          <ul>
            {data
              ? data.map((todo) => (
                  <li key={todo.id}>
                    {todo.name}{' '}
                    <button onClick={() => setEditingIndex(todo.id)}>
                      Edit
                    </button>
                  </li>
                ))
              : null}
          </ul>
          <div>
            {isFetching ? (
              <span>
                Background Refreshing... (Attempt: {failureCount + 1})
              </span>
            ) : (
              <span>&nbsp;</span>
            )}
          </div>
        </>
      )}
    </div>
  )
}

function EditTodo({
  editingIndex,
  setEditingIndex,
}: {
  editingIndex: number
  setEditingIndex: React.Dispatch<React.SetStateAction<number | null>>
}) {
  const queryClient = useQueryClient()

  // Don't attempt to query until editingIndex is truthy
  const { status, data, isFetching, error, failureCount, refetch } = useQuery({
    queryKey: ['todo', { id: editingIndex }],
    queryFn: () => fetchTodoById({ id: editingIndex }),
  })

  const [todo, setTodo] = React.useState(data || {})

  React.useEffect(() => {
    if (editingIndex !== null && data) {
      setTodo(data)
    } else {
      setTodo({})
    }
  }, [data, editingIndex])

  const saveMutation = useMutation({
    mutationFn: patchTodo,
    onSuccess: (data) => {
      // Update `todos` and the individual todo queries when this mutation succeeds
      queryClient.invalidateQueries({ queryKey: ['todos'] })
      queryClient.setQueryData(['todo', { id: editingIndex }], data)
    },
  })

  const onSave = () => {
    saveMutation.mutate(todo)
  }

  const disableEditSave =
    status === 'pending' || saveMutation.status === 'pending'

  return (
    <div>
      <div>
        {data ? (
          <>
            <button onClick={() => setEditingIndex(null)}>Back</button> Editing
            Todo "{data.name}" (#
            {editingIndex})
          </>
        ) : null}
      </div>
      {status === 'pending' ? (
        <span>Loading... (Attempt: {failureCount + 1})</span>
      ) : error ? (
        <span>
          Error! <button onClick={() => refetch()}>Retry</button>
        </span>
      ) : (
        <>
          <label>
            Name:{' '}
            <input
              value={todo.name}
              onChange={(e) =>
                e.persist() ||
                setTodo((old) => ({ ...old, name: e.target.value }))
              }
              disabled={disableEditSave}
            />
          </label>
          <label>
            Notes:{' '}
            <input
              value={todo.notes}
              onChange={(e) =>
                e.persist() ||
                setTodo((old) => ({ ...old, notes: e.target.value }))
              }
              disabled={disableEditSave}
            />
          </label>
          <div>
            <button onClick={onSave} disabled={disableEditSave}>
              Save
            </button>
          </div>
          <div>
            {saveMutation.status === 'pending'
              ? 'Saving...'
              : saveMutation.status === 'error'
                ? saveMutation.error.message
                : 'Saved!'}
          </div>
          <div>
            {isFetching ? (
              <span>
                Background Refreshing... (Attempt: {failureCount + 1})
              </span>
            ) : (
              <span>&nbsp;</span>
            )}
          </div>
        </>
      )}
    </div>
  )
}

function AddTodo() {
  const queryClient = useQueryClient()
  const [name, setName] = React.useState('')

  const addMutation = useMutation({
    mutationFn: postTodo,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['todos'] })
    },
  })

  return (
    <div>
      <input
        value={name}
        onChange={(e) => setName(e.target.value)}
        disabled={addMutation.status === 'pending'}
      />
      <button
        onClick={() => {
          addMutation.mutate({ name, notes: 'These are some notes' })
        }}
        disabled={addMutation.status === 'pending' || !name}
      >
        Add Todo
      </button>
      <div>
        {addMutation.status === 'pending'
          ? 'Saving...'
          : addMutation.status === 'error'
            ? addMutation.error.message
            : 'Saved!'}
      </div>
    </div>
  )
}

function fetchTodos({ signal, queryKey: [, { filter }] }): Promise<Todos> {
  console.info('fetchTodos', { filter })

  if (signal) {
    signal.addEventListener('abort', () => {
      console.info('cancelled', filter)
    })
  }

  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ fetchTodos: { filter } }, null, 2)),
          )
        }
        resolve(list.filter((d) => d.name.includes(filter)))
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function fetchTodoById({ id }: { id: number }): Promise<Todo> {
  console.info('fetchTodoById', { id })
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ fetchTodoById: { id } }, null, 2)),
          )
        }
        resolve(list.find((d) => d.id === id))
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function postTodo({ name, notes }: Omit<Todo, 'id'>) {
  console.info('postTodo', { name, notes })
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(
            new Error(JSON.stringify({ postTodo: { name, notes } }, null, 2)),
          )
        }
        const todo = { name, notes, id: id++ }
        list = [...list, todo]
        resolve(todo)
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

function patchTodo(todo?: Todo): Promise<Todo> {
  console.info('patchTodo', todo)
  return new Promise((resolve, reject) => {
    setTimeout(
      () => {
        if (Math.random() < errorRate) {
          return reject(new Error(JSON.stringify({ patchTodo: todo }, null, 2)))
        }
        list = list.map((d) => {
          if (d.id === todo.id) {
            return todo
          }
          return d
        })
        resolve(todo)
      },
      queryTimeMin + Math.random() * (queryTimeMax - queryTimeMin),
    )
  })
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<Root />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/playground?embed=1&theme=light&preset=node&file=index.tsx)

[Default Query Function](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)

[Prefetching](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=uuwhx)

## AsyncStorage Persister Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Installation](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#installation)
- [Usage](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#usage)
- [Retries](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#retries)
- [API](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#api)
- [`createAsyncStoragePersister`](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#createasyncstoragepersister)
- [`Options`](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#options)

# createAsyncStoragePersister

[**Installation**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#installation)

This utility comes as a separate package and is available under the '@tanstack/query-async-storage-persister' import.

bash

```
npm install @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

```
npm install @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
pnpm add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

```
pnpm add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
yarn add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

```
yarn add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
bun add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

```
bun add @tanstack/query-async-storage-persister @tanstack/react-query-persist-client

```

[**Usage**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#usage)

- Import the createAsyncStoragePersister function
- Create a new asyncStoragePersister
  - you can pass any storage to it that adheres to the AsyncStorage interface - the example below uses the async-storage from React Native
- Wrap your app by using [PersistQueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientprovider) component.

tsx

```
import AsyncStorage from '@react-native-async-storage/async-storage'
import { QueryClient } from '@tanstack/react-query'
import { PersistQueryClientProvider } from '@tanstack/react-query-persist-client'
import { createAsyncStoragePersister } from '@tanstack/query-async-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const asyncStoragePersister = createAsyncStoragePersister({
  storage: AsyncStorage,
})

const Root = () => (
  <PersistQueryClientProvider
    client={queryClient}
    persistOptions={{ persister: asyncStoragePersister }}
  >
    <App />
  </PersistQueryClientProvider>
)

export default Root

```

```
import AsyncStorage from '@react-native-async-storage/async-storage'
import { QueryClient } from '@tanstack/react-query'
import { PersistQueryClientProvider } from '@tanstack/react-query-persist-client'
import { createAsyncStoragePersister } from '@tanstack/query-async-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const asyncStoragePersister = createAsyncStoragePersister({
  storage: AsyncStorage,
})

const Root = () => (
  <PersistQueryClientProvider
    client={queryClient}
    persistOptions={{ persister: asyncStoragePersister }}
  >
    <App />
  </PersistQueryClientProvider>
)

export default Root

```

[**Retries**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#retries)

Retries work the same as for a [SyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister), except that they can also be asynchronous. You can also use all the predefined retry handlers.

[**API**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#api) [**createAsyncStoragePersister**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#createasyncstoragepersister)

Call this function to create an asyncStoragePersister that you can use later with persistQueryClient.

tsx

```
createAsyncStoragePersister(options: CreateAsyncStoragePersisterOptions)

```

```
createAsyncStoragePersister(options: CreateAsyncStoragePersisterOptions)

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister#options)

tsx

```
interface CreateAsyncStoragePersisterOptions {
  /** The storage client used for setting an retrieving items from cache */
  storage: AsyncStorage | undefined | null
  /** The key to use when storing the cache to localStorage */
  key?: string
  /** To avoid localStorage spamming,
   * pass a time in ms to throttle saving the cache to disk */
  throttleTime?: number
  /** How to serialize the data to storage */
  serialize?: (client: PersistedClient) => string
  /** How to deserialize the data from storage */
  deserialize?: (cachedString: string) => PersistedClient
  /** How to retry persistence on error **/
  retry?: AsyncPersistRetryer
}

interface AsyncStorage {
  getItem: (key: string) => Promise<string | null>
  setItem: (key: string, value: string) => Promise<unknown>
  removeItem: (key: string) => Promise<void>
}

```

```
interface CreateAsyncStoragePersisterOptions {
  /** The storage client used for setting an retrieving items from cache */
  storage: AsyncStorage | undefined | null
  /** The key to use when storing the cache to localStorage */
  key?: string
  /** To avoid localStorage spamming,
   * pass a time in ms to throttle saving the cache to disk */
  throttleTime?: number
  /** How to serialize the data to storage */
  serialize?: (client: PersistedClient) => string
  /** How to deserialize the data from storage */
  deserialize?: (cachedString: string) => PersistedClient
  /** How to retry persistence on error **/
  retry?: AsyncPersistRetryer
}

interface AsyncStorage {
  getItem: (key: string) => Promise<string | null>
  setItem: (key: string, value: string) => Promise<unknown>
  removeItem: (key: string) => Promise<void>
}

```

The default options are:

tsx

```
{
  key = `REACT_QUERY_OFFLINE_CACHE`,
  throttleTime = 1000,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

```
{
  key = `REACT_QUERY_OFFLINE_CACHE`,
  throttleTime = 1000,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/plugins/createAsyncStoragePersister.md)

[createSyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)

[broadcastQueryClient (Experimental)](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=zeti2)

## React QueryClient Hook
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useQueryClient

The useQueryClient hook returns the current QueryClient instance.

tsx

```
import { useQueryClient } from '@tanstack/react-query'

const queryClient = useQueryClient(queryClient?: QueryClient)

```

```
import { useQueryClient } from '@tanstack/react-query'

const queryClient = useQueryClient(queryClient?: QueryClient)

```

**Options**

- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useQueryClient.md)

[QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)

[queryOptions](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=e0j3j)

## React Mutation State
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useMutationState

useMutationState is a hook that gives you access to all mutations in the MutationCache. You can pass filters to it to narrow down your mutations, and select to transform the mutation state.

**Example 1: Get all variables of all running mutations**

tsx

```
import { useMutationState } from '@tanstack/react-query'

const variables = useMutationState({
  filters: { status: 'pending' },
  select: (mutation) => mutation.state.variables,
})

```

```
import { useMutationState } from '@tanstack/react-query'

const variables = useMutationState({
  filters: { status: 'pending' },
  select: (mutation) => mutation.state.variables,
})

```

**Example 2: Get all data for specific mutations via the mutationKey**

tsx

```
import { useMutation, useMutationState } from '@tanstack/react-query'

const mutationKey = ['posts']

// Some mutation that we want to get the state for
const mutation = useMutation({
  mutationKey,
  mutationFn: (newPost) => {
    return axios.post('/posts', newPost)
  },
})

const data = useMutationState({
  // this mutation key needs to match the mutation key of the given mutation (see above)
  filters: { mutationKey },
  select: (mutation) => mutation.state.data,
})

```

```
import { useMutation, useMutationState } from '@tanstack/react-query'

const mutationKey = ['posts']

// Some mutation that we want to get the state for
const mutation = useMutation({
  mutationKey,
  mutationFn: (newPost) => {
    return axios.post('/posts', newPost)
  },
})

const data = useMutationState({
  // this mutation key needs to match the mutation key of the given mutation (see above)
  filters: { mutationKey },
  select: (mutation) => mutation.state.data,
})

```

**Example 3: Access the latest mutation data via the mutationKey**
Each invocation of mutate adds a new entry to the mutation cache for gcTime milliseconds.

To access the latest invocation, you can check for the last item that useMutationState returns.

tsx

```
import { useMutation, useMutationState } from '@tanstack/react-query'

const mutationKey = ['posts']

// Some mutation that we want to get the state for
const mutation = useMutation({
  mutationKey,
  mutationFn: (newPost) => {
    return axios.post('/posts', newPost)
  },
})

const data = useMutationState({
  // this mutation key needs to match the mutation key of the given mutation (see above)
  filters: { mutationKey },
  select: (mutation) => mutation.state.data,
})

// Latest mutation data
const latest = data[data.length - 1]

```

```
import { useMutation, useMutationState } from '@tanstack/react-query'

const mutationKey = ['posts']

// Some mutation that we want to get the state for
const mutation = useMutation({
  mutationKey,
  mutationFn: (newPost) => {
    return axios.post('/posts', newPost)
  },
})

const data = useMutationState({
  // this mutation key needs to match the mutation key of the given mutation (see above)
  filters: { mutationKey },
  select: (mutation) => mutation.state.data,
})

// Latest mutation data
const latest = data[data.length - 1]

```

**Options**

- options
  - filters?: MutationFilters: [Mutation Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters#mutation-filters)
  - select?: (mutation: Mutation) => TResult
    - Use this to transform the mutation state.
- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

**Returns**

- Array<TResult>
  - Will be an Array of whatever select returns for each matching mutation.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useMutationState.md)

[useIsMutating](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)

[useSuspenseQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=e6ftx)

## useQueries Hook Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Combine](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries#combine)
- [Memoization](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries#memoization)

# useQueries

The useQueries hook can be used to fetch a variable number of queries:

tsx

```
const ids = [1, 2, 3]
const results = useQueries({
  queries: ids.map((id) => ({
    queryKey: ['post', id],
    queryFn: () => fetchPost(id),
    staleTime: Infinity,
  })),
})

```

```
const ids = [1, 2, 3]
const results = useQueries({
  queries: ids.map((id) => ({
    queryKey: ['post', id],
    queryFn: () => fetchPost(id),
    staleTime: Infinity,
  })),
})

```

**Options**

The useQueries hook accepts an options object with a **queries** key whose value is an array with query option objects identical to the [useQuery hook](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery) (excluding the queryClient option - because the QueryClient can be passed in on the top level).

- queryClient?: QueryClient
  - Use this to provide a custom QueryClient. Otherwise, the one from the nearest context will be used.
- combine?: (result: UseQueriesResults) => TCombinedResult
  - Use this to combine the results of the queries into a single value.

> Having the same query key more than once in the array of query objects may cause some data to be shared between queries. To avoid this, consider de-duplicating the queries and map the results back to the desired structure.

**placeholderData**

The placeholderData option exists for useQueries as well, but it doesn't get information passed from previously rendered Queries like useQuery does, because the input to useQueries can be a different number of Queries on each render.

**Returns**

The useQueries hook returns an array with all the query results. The order returned is the same as the input order.

[**Combine**](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries#combine)

If you want to combine data (or other Query information) from the results into a single value, you can use the combine option. The result will be structurally shared to be as referentially stable as possible.

tsx

```
const ids = [1, 2, 3]
const combinedQueries = useQueries({
  queries: ids.map((id) => ({
    queryKey: ['post', id],
    queryFn: () => fetchPost(id),
  })),
  combine: (results) => {
    return {
      data: results.map((result) => result.data),
      pending: results.some((result) => result.isPending),
    }
  },
})

```

```
const ids = [1, 2, 3]
const combinedQueries = useQueries({
  queries: ids.map((id) => ({
    queryKey: ['post', id],
    queryFn: () => fetchPost(id),
  })),
  combine: (results) => {
    return {
      data: results.map((result) => result.data),
      pending: results.some((result) => result.isPending),
    }
  },
})

```

In the above example, combinedQueries will be an object with a data and a pending property. Note that all other properties of the Query results will be lost.

[**Memoization**](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries#memoization)

The combine function will only re-run if:

- the combine function itself changed referentially
- any of the query results changed

This means that an inlined combine function, as shown above, will run on every render. To avoid this, you can wrap the combine function in useCallback, or extract it to a stable function reference if it doesn't have any dependencies.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useQueries.md)

[useQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)

[useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=20pty)

## React Query Quick Start
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# Quick Start

This code snippet very briefly illustrates the 3 core concepts of React Query:

- [Queries](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)

If you're looking for a fully functioning example, please have a look at our [simple StackBlitz example](https://tanstack.com/query/latest/docs/framework/react/examples/simple)

tsx

```
import {
  useQuery,
  useMutation,
  useQueryClient,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import { getTodos, postTodo } from '../my-api'

// Create a client
const queryClient = new QueryClient()

function App() {
  return (
    // Provide the client to your App
    <QueryClientProvider client={queryClient}>
      <Todos />
    </QueryClientProvider>
  )
}

function Todos() {
  // Access the client
  const queryClient = useQueryClient()

  // Queries
  const query = useQuery({ queryKey: ['todos'], queryFn: getTodos })

  // Mutations
  const mutation = useMutation({
    mutationFn: postTodo,
    onSuccess: () => {
      // Invalidate and refetch
      queryClient.invalidateQueries({ queryKey: ['todos'] })
    },
  })

  return (
    <div>
      <ul>{query.data?.map((todo) => <li key={todo.id}>{todo.title}</li>)}</ul>

      <button
        onClick={() => {
          mutation.mutate({
            id: Date.now(),
            title: 'Do Laundry',
          })
        }}
      >
        Add Todo
      </button>
    </div>
  )
}

render(<App />, document.getElementById('root'))

```

```
import {
  useQuery,
  useMutation,
  useQueryClient,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import { getTodos, postTodo } from '../my-api'

// Create a client
const queryClient = new QueryClient()

function App() {
  return (
    // Provide the client to your App
    <QueryClientProvider client={queryClient}>
      <Todos />
    </QueryClientProvider>
  )
}

function Todos() {
  // Access the client
  const queryClient = useQueryClient()

  // Queries
  const query = useQuery({ queryKey: ['todos'], queryFn: getTodos })

  // Mutations
  const mutation = useMutation({
    mutationFn: postTodo,
    onSuccess: () => {
      // Invalidate and refetch
      queryClient.invalidateQueries({ queryKey: ['todos'] })
    },
  })

  return (
    <div>
      <ul>{query.data?.map((todo) => <li key={todo.id}>{todo.title}</li>)}</ul>

      <button
        onClick={() => {
          mutation.mutate({
            id: Date.now(),
            title: 'Do Laundry',
          })
        }}
      >
        Add Todo
      </button>
    </div>
  )
}

render(<App />, document.getElementById('root'))

```

These three concepts make up most of the core functionality of React Query. The next sections of the documentation will go over each of these core concepts in great detail.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/quick-start.md)

[Installation](https://tanstack.com/query/latest/docs/framework/react/installation)

[Devtools](https://tanstack.com/query/latest/docs/framework/react/devtools)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=smrh2i)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query for React Native
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Online status management](https://tanstack.com/query/latest/docs/framework/react/react-native#online-status-management)
- [Refetch on App focus](https://tanstack.com/query/latest/docs/framework/react/react-native#refetch-on-app-focus)
- [Refresh on Screen focus](https://tanstack.com/query/latest/docs/framework/react/react-native#refresh-on-screen-focus)
- [Disable queries on out of focus screens](https://tanstack.com/query/latest/docs/framework/react/react-native#disable-queries-on-out-of-focus-screens)

# React Native

React Query is designed to work out of the box with React Native, with the exception of the devtools, which are only supported with React DOM at this time.

There is a 3rd party [Expo](https://docs.expo.dev/) plugin which you can try: [https://github.com/expo/dev-plugins/tree/main/packages/react-query](https://github.com/expo/dev-plugins/tree/main/packages/react-query)

There is a 3rd party [Flipper](https://fbflipper.com/docs/getting-started/react-native/) plugin which you can try: [https://github.com/bgaleotti/react-query-native-devtools](https://github.com/bgaleotti/react-query-native-devtools)

There is a 3rd party [Reactotron](https://github.com/infinitered/reactotron/) plugin which you can try: [https://github.com/hsndmr/reactotron-react-query](https://github.com/hsndmr/reactotron-react-query)

If you would like to help us make the built-in devtools platform agnostic, please let us know!

[**Online status management**](https://tanstack.com/query/latest/docs/framework/react/react-native#online-status-management)

React Query already supports auto refetch on reconnect in web browser.
To add this behavior in React Native you have to use React Query onlineManager as in the example below:

tsx

```
import NetInfo from '@react-native-community/netinfo'
import { onlineManager } from '@tanstack/react-query'

onlineManager.setEventListener((setOnline) => {
  return NetInfo.addEventListener((state) => {
    setOnline(!!state.isConnected)
  })
})

```

```
import NetInfo from '@react-native-community/netinfo'
import { onlineManager } from '@tanstack/react-query'

onlineManager.setEventListener((setOnline) => {
  return NetInfo.addEventListener((state) => {
    setOnline(!!state.isConnected)
  })
})

```

or

tsx

```
import { onlineManager } from '@tanstack/react-query'
import * as Network from 'expo-network'

onlineManager.setEventListener((setOnline) => {
  const eventSubscription = Network.addNetworkStateListener((state) => {
    setOnline(!!state.isConnected)
  })
  return eventSubscription.remove
})

```

```
import { onlineManager } from '@tanstack/react-query'
import * as Network from 'expo-network'

onlineManager.setEventListener((setOnline) => {
  const eventSubscription = Network.addNetworkStateListener((state) => {
    setOnline(!!state.isConnected)
  })
  return eventSubscription.remove
})

```

[**Refetch on App focus**](https://tanstack.com/query/latest/docs/framework/react/react-native#refetch-on-app-focus)

Instead of event listeners on window, React Native provides focus information through the [AppState module](https://reactnative.dev/docs/appstate#app-states). You can use the AppState "change" event to trigger an update when the app state changes to "active":

tsx

```
import { useEffect } from 'react'
import { AppState, Platform } from 'react-native'
import type { AppStateStatus } from 'react-native'
import { focusManager } from '@tanstack/react-query'

function onAppStateChange(status: AppStateStatus) {
  if (Platform.OS !== 'web') {
    focusManager.setFocused(status === 'active')
  }
}

useEffect(() => {
  const subscription = AppState.addEventListener('change', onAppStateChange)

  return () => subscription.remove()
}, [])

```

```
import { useEffect } from 'react'
import { AppState, Platform } from 'react-native'
import type { AppStateStatus } from 'react-native'
import { focusManager } from '@tanstack/react-query'

function onAppStateChange(status: AppStateStatus) {
  if (Platform.OS !== 'web') {
    focusManager.setFocused(status === 'active')
  }
}

useEffect(() => {
  const subscription = AppState.addEventListener('change', onAppStateChange)

  return () => subscription.remove()
}, [])

```

[**Refresh on Screen focus**](https://tanstack.com/query/latest/docs/framework/react/react-native#refresh-on-screen-focus)

In some situations, you may want to refetch the query when a React Native Screen is focused again.
This custom hook will call the provided refetch function when the screen is focused again.

tsx

```
import React from 'react'
import { useFocusEffect } from '@react-navigation/native'

export function useRefreshOnFocus<T>(refetch: () => Promise<T>) {
  const firstTimeRef = React.useRef(true)

  useFocusEffect(
    React.useCallback(() => {
      if (firstTimeRef.current) {
        firstTimeRef.current = false
        return
      }

      refetch()
    }, [refetch]),
  )
}

```

```
import React from 'react'
import { useFocusEffect } from '@react-navigation/native'

export function useRefreshOnFocus<T>(refetch: () => Promise<T>) {
  const firstTimeRef = React.useRef(true)

  useFocusEffect(
    React.useCallback(() => {
      if (firstTimeRef.current) {
        firstTimeRef.current = false
        return
      }

      refetch()
    }, [refetch]),
  )
}

```

In the above code, refetch is skipped the first time because useFocusEffect calls our callback on mount in addition to screen focus.

[**Disable queries on out of focus screens**](https://tanstack.com/query/latest/docs/framework/react/react-native#disable-queries-on-out-of-focus-screens)

If you don’t want certain queries to remain “live” while a screen is out of focus, you can use the subscribed prop on useQuery. This prop lets you control whether a query stays subscribed to updates. Combined with React Navigation’s useIsFocused, it allows you to seamlessly unsubscribe from queries when a screen isn’t in focus:

Example usage:

tsx

```
import React from 'react'
import { useIsFocused } from '@react-navigation/native'
import { useQuery } from '@tanstack/react-query'
import { Text } from 'react-native'

function MyComponent() {
  const isFocused = useIsFocused()

  const { dataUpdatedAt } = useQuery({
    queryKey: ['key'],
    queryFn: () => fetch(...),
    subscribed: isFocused,
  })

  return <Text>DataUpdatedAt: {dataUpdatedAt}</Text>
}

```

```
import React from 'react'
import { useIsFocused } from '@react-navigation/native'
import { useQuery } from '@tanstack/react-query'
import { Text } from 'react-native'

function MyComponent() {
  const isFocused = useIsFocused()

  const { dataUpdatedAt } = useQuery({
    queryKey: ['key'],
    queryFn: () => fetch(...),
    subscribed: isFocused,
  })

  return <Text>DataUpdatedAt: {dataUpdatedAt}</Text>
}

```

When subscribed is false, the query unsubscribes from updates and won’t trigger re-renders or fetch new data for that screen. Once it becomes true again (e.g., when the screen regains focus), the query re-subscribes and stays up to date.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/react-native.md)

[GraphQL](https://tanstack.com/query/latest/docs/framework/react/graphql)

[Important Defaults](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=9g04sg)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## TanStack Query Filters
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [`Query Filters`](https://tanstack.com/query/latest/docs/framework/react/guides/filters#query-filters)
- [`Mutation Filters`](https://tanstack.com/query/latest/docs/framework/react/guides/filters#mutation-filters)
- [Utils](https://tanstack.com/query/latest/docs/framework/react/guides/filters#utils)
- [`matchQuery`](https://tanstack.com/query/latest/docs/framework/react/guides/filters#matchquery)
- [`matchMutation`](https://tanstack.com/query/latest/docs/framework/react/guides/filters#matchmutation)

# Filters

Some methods within TanStack Query accept a QueryFilters or MutationFilters object.

[**Query Filters**](https://tanstack.com/query/latest/docs/framework/react/guides/filters#query-filters)

A query filter is an object with certain conditions to match a query with:

tsx

```
// Cancel all queries
await queryClient.cancelQueries()

// Remove all inactive queries that begin with `posts` in the key
queryClient.removeQueries({ queryKey: ['posts'], type: 'inactive' })

// Refetch all active queries
await queryClient.refetchQueries({ type: 'active' })

// Refetch all active queries that begin with `posts` in the key
await queryClient.refetchQueries({ queryKey: ['posts'], type: 'active' })

```

```
// Cancel all queries
await queryClient.cancelQueries()

// Remove all inactive queries that begin with `posts` in the key
queryClient.removeQueries({ queryKey: ['posts'], type: 'inactive' })

// Refetch all active queries
await queryClient.refetchQueries({ type: 'active' })

// Refetch all active queries that begin with `posts` in the key
await queryClient.refetchQueries({ queryKey: ['posts'], type: 'active' })

```

A query filter object supports the following properties:

- queryKey?: QueryKey
  - Set this property to define a query key to match on.
- exact?: boolean
  - If you don't want to search queries inclusively by query key, you can pass the exact: true option to return only the query with the exact query key you have passed.
- type?: 'active' \| 'inactive' \| 'all'
  - Defaults to all
  - When set to active it will match active queries.
  - When set to inactive it will match inactive queries.
- stale?: boolean
  - When set to true it will match stale queries.
  - When set to false it will match fresh queries.
- fetchStatus?: FetchStatus
  - When set to fetching it will match queries that are currently fetching.
  - When set to paused it will match queries that wanted to fetch, but have been paused.
  - When set to idle it will match queries that are not fetching.
- predicate?: (query: Query) => boolean
  - This predicate function will be used as a final filter on all matching queries. If no other filters are specified, this function will be evaluated against every query in the cache.

[**Mutation Filters**](https://tanstack.com/query/latest/docs/framework/react/guides/filters#mutation-filters)

A mutation filter is an object with certain conditions to match a mutation with:

tsx

```
// Get the number of all fetching mutations
await queryClient.isMutating()

// Filter mutations by mutationKey
await queryClient.isMutating({ mutationKey: ['post'] })

// Filter mutations using a predicate function
await queryClient.isMutating({
  predicate: (mutation) => mutation.state.variables?.id === 1,
})

```

```
// Get the number of all fetching mutations
await queryClient.isMutating()

// Filter mutations by mutationKey
await queryClient.isMutating({ mutationKey: ['post'] })

// Filter mutations using a predicate function
await queryClient.isMutating({
  predicate: (mutation) => mutation.state.variables?.id === 1,
})

```

A mutation filter object supports the following properties:

- mutationKey?: MutationKey
  - Set this property to define a mutation key to match on.
- exact?: boolean
  - If you don't want to search mutations inclusively by mutation key, you can pass the exact: true option to return only the mutation with the exact mutation key you have passed.
- status?: MutationStatus
  - Allows for filtering mutations according to their status.
- predicate?: (mutation: Mutation) => boolean
  - This predicate function will be used as a final filter on all matching mutations. If no other filters are specified, this function will be evaluated against every mutation in the cache.

[**Utils**](https://tanstack.com/query/latest/docs/framework/react/guides/filters#utils) [**matchQuery**](https://tanstack.com/query/latest/docs/framework/react/guides/filters#matchquery)

tsx

```
const isMatching = matchQuery(filters, query)

```

```
const isMatching = matchQuery(filters, query)

```

Returns a boolean that indicates whether a query matches the provided set of query filters.

[**matchMutation**](https://tanstack.com/query/latest/docs/framework/react/guides/filters#matchmutation)

tsx

```
const isMatching = matchMutation(filters, mutation)

```

```
const isMatching = matchMutation(filters, mutation)

```

Returns a boolean that indicates whether a mutation matches the provided set of mutation filters.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/filters.md)

[Scroll Restoration](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)

[Performance & Request Waterfalls](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=13fkfl)

## useSuspenseQueries Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useSuspenseQueries

tsx

```
const result = useSuspenseQueries(options)

```

```
const result = useSuspenseQueries(options)

```

**Options**

The same as for [useQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries), except that each query can't have:

- suspense
- throwOnError
- enabled
- placeholderData

**Returns**

Same structure as [useQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries), except that for each query:

- data is guaranteed to be defined
- isPlaceholderData is missing
- status is always success
  - the derived flags are set accordingly.

**Caveats**

Keep in mind that the component will only re-mount after **all queries** have finished loading. Hence, if a query has gone stale in the time it took for all the queries to complete, it will be fetched again at re-mount. To avoid this, make sure to set a high enough staleTime.

[Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation) does not work.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useSuspenseQueries.md)

[useSuspenseInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)

[QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=xrfo6)

## React Query Prefetching Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [prefetchQuery & prefetchInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetchquery--prefetchinfinitequery)
- [Prefetch in event handlers](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetch-in-event-handlers)
- [Prefetch in components](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetch-in-components)
- [Dependent Queries & Code Splitting](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#dependent-queries--code-splitting)
- [Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#router-integration)
- [Manually Priming a Query](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#manually-priming-a-query)
- [Further reading](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#further-reading)

# Prefetching & Router Integration

When you know or suspect that a certain piece of data will be needed, you can use prefetching to populate the cache with that data ahead of time, leading to a faster experience.

There are a few different prefetching patterns:

1. In event handlers
2. In components
3. Via router integration
4. During Server Rendering (another form of router integration)

In this guide, we'll take a look at the first three, while the fourth will be covered in depth in the [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/guides/ssr) and the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

One specific use of prefetching is to avoid Request Waterfalls, for an in-depth background and explanation of those, see the [Performance & Request Waterfalls guide](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls).

[**prefetchQuery & prefetchInfiniteQuery**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetchquery--prefetchinfinitequery)

Before jumping into the different specific prefetch patterns, let's look at the prefetchQuery and prefetchInfiniteQuery functions. First a few basics:

- Out of the box, these functions use the default staleTime configured for the queryClient to determine whether existing data in the cache is fresh or needs to be fetched again
- You can also pass a specific staleTime like this: prefetchQuery({ queryKey: \['todos'\], queryFn: fn, staleTime: 5000 })
  - This staleTime is only used for the prefetch, you still need to set it for any useQuery call as well
  - If you want to ignore staleTime and instead always return data if it's available in the cache, you can use the ensureQueryData function.
  - Tip: If you are prefetching on the server, set a default staleTime higher than 0 for that queryClient to avoid having to pass in a specific staleTime to each prefetch call
- If no instances of useQuery appear for a prefetched query, it will be deleted and garbage collected after the time specified in gcTime
- These functions returns Promise<void> and thus never return query data. If that's something you need, use fetchQuery/fetchInfiniteQuery instead.
- The prefetch functions never throws errors because they usually try to fetch again in a useQuery which is a nice graceful fallback. If you need to catch errors, use fetchQuery/fetchInfiniteQuery instead.

This is how you use prefetchQuery:

tsx

```
const prefetchTodos = async () => {
  // The results of this query will be cached like a normal query
  await queryClient.prefetchQuery({
    queryKey: ['todos'],
    queryFn: fetchTodos,
  })
}

```

```
const prefetchTodos = async () => {
  // The results of this query will be cached like a normal query
  await queryClient.prefetchQuery({
    queryKey: ['todos'],
    queryFn: fetchTodos,
  })
}

```

Infinite Queries can be prefetched like regular Queries. Per default, only the first page of the Query will be prefetched and will be stored under the given QueryKey. If you want to prefetch more than one page, you can use the pages option, in which case you also have to provide a getNextPageParam function:

tsx

```
const prefetchProjects = async () => {
  // The results of this query will be cached like a normal query
  await queryClient.prefetchInfiniteQuery({
    queryKey: ['projects'],
    queryFn: fetchProjects,
    initialPageParam: 0,
    getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
    pages: 3, // prefetch the first 3 pages
  })
}

```

```
const prefetchProjects = async () => {
  // The results of this query will be cached like a normal query
  await queryClient.prefetchInfiniteQuery({
    queryKey: ['projects'],
    queryFn: fetchProjects,
    initialPageParam: 0,
    getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
    pages: 3, // prefetch the first 3 pages
  })
}

```

Next, let's look at how you can use these and other ways to prefetch in different situations.

[**Prefetch in event handlers**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetch-in-event-handlers)

A straightforward form of prefetching is doing it when the user interacts with something. In this example we'll use queryClient.prefetchQuery to start a prefetch on onMouseEnter or onFocus.

tsx

```
function ShowDetailsButton() {
  const queryClient = useQueryClient()

  const prefetch = () => {
    queryClient.prefetchQuery({
      queryKey: ['details'],
      queryFn: getDetailsData,
      // Prefetch only fires when data is older than the staleTime,
      // so in a case like this you definitely want to set one
      staleTime: 60000,
    })
  }

  return (
    <button onMouseEnter={prefetch} onFocus={prefetch} onClick={...}>
      Show Details
    </button>
  )
}

```

```
function ShowDetailsButton() {
  const queryClient = useQueryClient()

  const prefetch = () => {
    queryClient.prefetchQuery({
      queryKey: ['details'],
      queryFn: getDetailsData,
      // Prefetch only fires when data is older than the staleTime,
      // so in a case like this you definitely want to set one
      staleTime: 60000,
    })
  }

  return (
    <button onMouseEnter={prefetch} onFocus={prefetch} onClick={...}>
      Show Details
    </button>
  )
}

```

[**Prefetch in components**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#prefetch-in-components)

Prefetching during the component lifecycle is useful when we know some child or descendant will need a particular piece of data, but we can't render that until some other query has finished loading. Let's borrow an example from the Request Waterfall guide to explain:

tsx

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )
}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )
}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

This results in a request waterfall looking like this:

```
1. |> getArticleById()
2.   |> getArticleCommentsById()

```

```
1. |> getArticleById()
2.   |> getArticleCommentsById()

```

As mentioned in that guide, one way to flatten this waterfall and improve performance is to hoist the getArticleCommentsById query to the parent and pass down the result as a prop, but what if this is not feasible or desirable, for example when the components are unrelated and have multiple levels between them?

In that case, we can instead prefetch the query in the parent. The simplest way to do this is to use a query but ignore the result:

tsx

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  // Prefetch
  useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
    // Optional optimization to avoid rerenders when this query changes:
    notifyOnChangeProps: [],
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )
}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  // Prefetch
  useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
    // Optional optimization to avoid rerenders when this query changes:
    notifyOnChangeProps: [],
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )
}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

This starts fetching 'article-comments' immediately and flattens the waterfall:

```
1. |> getArticleById()
1. |> getArticleCommentsById()

```

```
1. |> getArticleById()
1. |> getArticleCommentsById()

```

If you want to prefetch together with Suspense, you will have to do things a bit differently. You can't use useSuspenseQueries to prefetch, since the prefetch would block the component from rendering. You also can not use useQuery for the prefetch, because that wouldn't start the prefetch until after suspenseful query had resolved. For this scenario, you can use the [usePrefetchQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery) or the [usePrefetchInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery) hooks available in the library.

You can now use useSuspenseQuery in the component that actually needs the data. You _might_ want to wrap this later component in its own <Suspense> boundary so the "secondary" query we are prefetching does not block rendering of the "primary" data.

tsx

```
function ArticleLayout({ id }) {
  usePrefetchQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  return (
    <Suspense fallback="Loading article">
      <Article id={id} />
    </Suspense>
  )
}

function Article({ id }) {
  const { data: articleData, isPending } = useSuspenseQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  ...
}

```

```
function ArticleLayout({ id }) {
  usePrefetchQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  return (
    <Suspense fallback="Loading article">
      <Article id={id} />
    </Suspense>
  )
}

function Article({ id }) {
  const { data: articleData, isPending } = useSuspenseQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  ...
}

```

Another way is to prefetch inside of the query function. This makes sense if you know that every time an article is fetched it's very likely comments will also be needed. For this, we'll use queryClient.prefetchQuery:

tsx

```
const queryClient = useQueryClient()
const { data: articleData, isPending } = useQuery({
  queryKey: ['article', id],
  queryFn: (...args) => {
    queryClient.prefetchQuery({
      queryKey: ['article-comments', id],
      queryFn: getArticleCommentsById,
    })

    return getArticleById(...args)
  },
})

```

```
const queryClient = useQueryClient()
const { data: articleData, isPending } = useQuery({
  queryKey: ['article', id],
  queryFn: (...args) => {
    queryClient.prefetchQuery({
      queryKey: ['article-comments', id],
      queryFn: getArticleCommentsById,
    })

    return getArticleById(...args)
  },
})

```

Prefetching in an effect also works, but note that if you are using useSuspenseQuery in the same component, this effect wont run until _after_ the query finishes which might not be what you want.

tsx

```
const queryClient = useQueryClient()

useEffect(() => {
  queryClient.prefetchQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })
}, [queryClient, id])

```

```
const queryClient = useQueryClient()

useEffect(() => {
  queryClient.prefetchQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })
}, [queryClient, id])

```

To recap, if you want to prefetch a query during the component lifecycle, there are a few different ways to do it, pick the one that suits your situation best:

- Prefetch before a suspense boundary using usePrefetchQuery or usePrefetchInfiniteQuery hooks
- Use useQuery or useSuspenseQueries and ignore the result
- Prefetch inside the query function
- Prefetch in an effect

Let's look at a slightly more advanced case next.

[**Dependent Queries & Code Splitting**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#dependent-queries--code-splitting)

Sometimes we want to prefetch conditionally, based on the result of another fetch. Consider this example borrowed from the [Performance & Request Waterfalls guide](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls):

tsx

```
// This lazy loads the GraphFeedItem component, meaning
// it wont start loading until something renders it
const GraphFeedItem = React.lazy(() => import('./GraphFeedItem'))

function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

// GraphFeedItem.tsx
function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

```
// This lazy loads the GraphFeedItem component, meaning
// it wont start loading until something renders it
const GraphFeedItem = React.lazy(() => import('./GraphFeedItem'))

function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

// GraphFeedItem.tsx
function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

As noted over in that guide, this example leads to the following double request waterfall:

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
3.     |> getGraphDataById()

```

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
3.     |> getGraphDataById()

```

If we can not restructure our API so getFeed() also returns the getGraphDataById() data when necessary, there is no way to get rid of the getFeed->getGraphDataById waterfall, but by leveraging conditional prefetching, we can at least load the code and data in parallel. Just like described above, there are multiple ways to do this, but for this example, we'll do it in the query function:

tsx

```
function Feed() {
  const queryClient = useQueryClient()
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: async (...args) => {
      const feed = await getFeed(...args)

      for (const feedItem of feed) {
        if (feedItem.type === 'GRAPH') {
          queryClient.prefetchQuery({
            queryKey: ['graph', feedItem.id],
            queryFn: getGraphDataById,
          })
        }
      }

      return feed
    }
  })

  ...
}

```

```
function Feed() {
  const queryClient = useQueryClient()
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: async (...args) => {
      const feed = await getFeed(...args)

      for (const feedItem of feed) {
        if (feedItem.type === 'GRAPH') {
          queryClient.prefetchQuery({
            queryKey: ['graph', feedItem.id],
            queryFn: getGraphDataById,
          })
        }
      }

      return feed
    }
  })

  ...
}

```

This would load the code and data in parallel:

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
2.   |> getGraphDataById()

```

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
2.   |> getGraphDataById()

```

There is a tradeoff however, in that the code for getGraphDataById is now included in the parent bundle instead of in JS for <GraphFeedItem> so you'll need to determine what's the best performance tradeoff on a case by case basis. If GraphFeedItem are likely, it's probably worth to include the code in the parent. If they are exceedingly rare, it's probably not.

[**Router Integration**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#router-integration)

Because data fetching in the component tree itself can easily lead to request waterfalls and the different fixes for that can be cumbersome as they accumulate throughout the application, an attractive way to do prefetching is integrating it at the router level.

In this approach, you explicitly declare for each _route_ what data is going to be needed for that component tree, ahead of time. Because Server Rendering has traditionally needed all data to be loaded before rendering starts, this has been the dominating approach for SSR'd apps for a long time. This is still a common approach and you can read more about it in the [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/guides/ssr).

For now, let's focus on the client side case and look at an example of how you can make this work with [Tanstack Router](https://tanstack.com/router). These examples leave out a lot of setup and boilerplate to stay concise, you can check out a [full React Query example](https://tanstack.com/router/.latest/docs/framework/react/examples/basic-react-query-file-based) over in the [Tanstack Router docs](https://tanstack.com/router/latest/docs).

When integrating at the router level, you can choose to either _block_ rendering of that route until all data is present, or you can start a prefetch but not await the result. That way, you can start rendering the route as soon as possible. You can also mix these two approaches and await some critical data, but start rendering before all the secondary data has finished loading. In this example, we'll configure an /article route to not render until the article data has finished loading, as well as start prefetching comments as soon as possible, but not block rendering the route if comments haven't finished loading yet.

tsx

```
const queryClient = new QueryClient()
const routerContext = new RouterContext()
const rootRoute = routerContext.createRootRoute({
  component: () => { ... }
})

const articleRoute = new Route({
  getParentRoute: () => rootRoute,
  path: 'article',
  beforeLoad: () => {
    return {
      articleQueryOptions: { queryKey: ['article'], queryFn: fetchArticle },
      commentsQueryOptions: { queryKey: ['comments'], queryFn: fetchComments },
    }
  },
  loader: async ({
    context: { queryClient },
    routeContext: { articleQueryOptions, commentsQueryOptions },
  }) => {
    // Fetch comments asap, but don't block
    queryClient.prefetchQuery(commentsQueryOptions)

    // Don't render the route at all until article has been fetched
    await queryClient.prefetchQuery(articleQueryOptions)
  },
  component: ({ useRouteContext }) => {
    const { articleQueryOptions, commentsQueryOptions } = useRouteContext()
    const articleQuery = useQuery(articleQueryOptions)
    const commentsQuery = useQuery(commentsQueryOptions)

    return (
      ...
    )
  },
  errorComponent: () => 'Oh crap!',
})

```

```
const queryClient = new QueryClient()
const routerContext = new RouterContext()
const rootRoute = routerContext.createRootRoute({
  component: () => { ... }
})

const articleRoute = new Route({
  getParentRoute: () => rootRoute,
  path: 'article',
  beforeLoad: () => {
    return {
      articleQueryOptions: { queryKey: ['article'], queryFn: fetchArticle },
      commentsQueryOptions: { queryKey: ['comments'], queryFn: fetchComments },
    }
  },
  loader: async ({
    context: { queryClient },
    routeContext: { articleQueryOptions, commentsQueryOptions },
  }) => {
    // Fetch comments asap, but don't block
    queryClient.prefetchQuery(commentsQueryOptions)

    // Don't render the route at all until article has been fetched
    await queryClient.prefetchQuery(articleQueryOptions)
  },
  component: ({ useRouteContext }) => {
    const { articleQueryOptions, commentsQueryOptions } = useRouteContext()
    const articleQuery = useQuery(articleQueryOptions)
    const commentsQuery = useQuery(commentsQueryOptions)

    return (
      ...
    )
  },
  errorComponent: () => 'Oh crap!',
})

```

Integration with other routers is also possible, see the [React Router example](https://tanstack.com/query/latest/docs/framework/react/examples/react/react-router) for another demonstration.

[**Manually Priming a Query**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#manually-priming-a-query)

If you already have the data for your query synchronously available, you don't need to prefetch it. You can just use the [Query Client's setQueryData method](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientsetquerydata) to directly add or update a query's cached result by key.

tsx

```
queryClient.setQueryData(['todos'], todos)

```

```
queryClient.setQueryData(['todos'], todos)

```

[**Further reading**](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#further-reading)

For a deep-dive on how to get data into your Query Cache before you fetch, have a look at [#17: Seeding the Query Cache](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#17-seeding-the-query-cache) from the Community Resources.

Integrating with Server Side routers and frameworks is very similar to what we just saw, with the addition that the data has to passed from the server to the client to be hydrated into the cache there. To learn how, continue on to the [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/guides/ssr).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/prefetching.md)

[Performance & Request Waterfalls](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)

[Server Rendering & Hydration](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=2w8mt)

## Testing React Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Our First Test](https://tanstack.com/query/latest/docs/framework/react/guides/testing#our-first-test)
- [Turn off retries](https://tanstack.com/query/latest/docs/framework/react/guides/testing#turn-off-retries)
- [Set gcTime to Infinity with Jest](https://tanstack.com/query/latest/docs/framework/react/guides/testing#set-gctime-to-infinity-with-jest)
- [Testing Network Calls](https://tanstack.com/query/latest/docs/framework/react/guides/testing#testing-network-calls)
- [Testing Load More / Infinite Scroll](https://tanstack.com/query/latest/docs/framework/react/guides/testing#testing-load-more--infinite-scroll)
- [Further reading](https://tanstack.com/query/latest/docs/framework/react/guides/testing#further-reading)

# Testing

React Query works by means of hooks - either the ones we offer or custom ones that wrap around them.

With React 17 or earlier, writing unit tests for these custom hooks can be done by means of the [React Hooks Testing Library](https://react-hooks-testing-library.com/) library.

Install this by running:

sh

```
npm install @testing-library/react-hooks react-test-renderer --save-dev

```

```
npm install @testing-library/react-hooks react-test-renderer --save-dev

```

(The react-test-renderer library is needed as a peer dependency of @testing-library/react-hooks, and needs to correspond to the version of React that you are using.)

_Note_: when using React 18 or later, renderHook is available directly through the @testing-library/react package, and @testing-library/react-hooks is no longer required.

[**Our First Test**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#our-first-test)

Once installed, a simple test can be written. Given the following custom hook:

tsx

```
export function useCustomHook() {
  return useQuery({ queryKey: ['customHook'], queryFn: () => 'Hello' })
}

```

```
export function useCustomHook() {
  return useQuery({ queryKey: ['customHook'], queryFn: () => 'Hello' })
}

```

We can write a test for this as follows:

tsx

```
import { renderHook, waitFor } from '@testing-library/react'

const queryClient = new QueryClient()
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

const { result } = renderHook(() => useCustomHook(), { wrapper })

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data).toEqual('Hello')

```

```
import { renderHook, waitFor } from '@testing-library/react'

const queryClient = new QueryClient()
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

const { result } = renderHook(() => useCustomHook(), { wrapper })

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data).toEqual('Hello')

```

Note that we provide a custom wrapper that builds the QueryClient and QueryClientProvider. This helps to ensure that our test is completely isolated from any other tests.

It is possible to write this wrapper only once, but if so we need to ensure that the QueryClient gets cleared before every test, and that tests don't run in parallel otherwise one test will influence the results of others.

[**Turn off retries**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#turn-off-retries)

The library defaults to three retries with exponential backoff, which means that your tests are likely to timeout if you want to test an erroneous query. The easiest way to turn retries off is via the QueryClientProvider. Let's extend the above example:

tsx

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      // ✅ turns retries off
      retry: false,
    },
  },
})
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

```

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      // ✅ turns retries off
      retry: false,
    },
  },
})
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

```

This will set the defaults for all queries in the component tree to "no retries". It is important to know that this will only work if your actual useQuery has no explicit retries set. If you have a query that wants 5 retries, this will still take precedence, because defaults are only taken as a fallback.

[**Set gcTime to Infinity with Jest**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#set-gctime-to-infinity-with-jest)

If you use Jest, you can set the gcTime to Infinity to prevent "Jest did not exit one second after the test run completed" error message. This is the default behavior on the server, and is only necessary to set if you are explicitly setting a gcTime.

[**Testing Network Calls**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#testing-network-calls)

The primary use for React Query is to cache network requests, so it's important that we can test our code is making the correct network requests in the first place.

There are plenty of ways that these can be tested, but for this example we are going to use [nock](https://www.npmjs.com/package/nock).

Given the following custom hook:

tsx

```
function useFetchData() {
  return useQuery({
    queryKey: ['fetchData'],
    queryFn: () => request('/api/data'),
  })
}

```

```
function useFetchData() {
  return useQuery({
    queryKey: ['fetchData'],
    queryFn: () => request('/api/data'),
  })
}

```

We can write a test for this as follows:

tsx

```
const queryClient = new QueryClient()
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

const expectation = nock('http://example.com').get('/api/data').reply(200, {
  answer: 42,
})

const { result } = renderHook(() => useFetchData(), { wrapper })

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data).toEqual({ answer: 42 })

```

```
const queryClient = new QueryClient()
const wrapper = ({ children }) => (
  <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
)

const expectation = nock('http://example.com').get('/api/data').reply(200, {
  answer: 42,
})

const { result } = renderHook(() => useFetchData(), { wrapper })

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data).toEqual({ answer: 42 })

```

Here we are making use of waitFor and waiting until the query status indicates that the request has succeeded. This way we know that our hook has finished and should have the correct data. _Note_: when using React 18, the semantics of waitFor have changed as noted above.

[**Testing Load More / Infinite Scroll**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#testing-load-more--infinite-scroll)

First we need to mock our API response

tsx

```
function generateMockedResponse(page) {
  return {
    page: page,
    items: [...]
  }
}

```

```
function generateMockedResponse(page) {
  return {
    page: page,
    items: [...]
  }
}

```

Then, our nock configuration needs to differentiate responses based on the page, and we'll be using uri to do this.
uri's value here will be something like "/?page=1 or /?page=2

tsx

```
const expectation = nock('http://example.com')
  .persist()
  .query(true)
  .get('/api/data')
  .reply(200, (uri) => {
    const url = new URL(`http://example.com${uri}`)
    const { page } = Object.fromEntries(url.searchParams)
    return generateMockedResponse(page)
  })

```

```
const expectation = nock('http://example.com')
  .persist()
  .query(true)
  .get('/api/data')
  .reply(200, (uri) => {
    const url = new URL(`http://example.com${uri}`)
    const { page } = Object.fromEntries(url.searchParams)
    return generateMockedResponse(page)
  })

```

(Notice the .persist(), because we'll be calling from this endpoint multiple times)

Now we can safely run our tests, the trick here is to await for the data assertion to pass:

tsx

```
const { result } = renderHook(() => useInfiniteQueryCustomHook(), {
  wrapper,
})

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data.pages).toStrictEqual(generateMockedResponse(1))

result.current.fetchNextPage()

await waitFor(() =>
  expect(result.current.data.pages).toStrictEqual([\
    ...generateMockedResponse(1),\
    ...generateMockedResponse(2),\
  ]),
)

expectation.done()

```

```
const { result } = renderHook(() => useInfiniteQueryCustomHook(), {
  wrapper,
})

await waitFor(() => expect(result.current.isSuccess).toBe(true))

expect(result.current.data.pages).toStrictEqual(generateMockedResponse(1))

result.current.fetchNextPage()

await waitFor(() =>
  expect(result.current.data.pages).toStrictEqual([\
    ...generateMockedResponse(1),\
    ...generateMockedResponse(2),\
  ]),
)

expectation.done()

```

_Note_: when using React 18, the semantics of waitFor have changed as noted above.

[**Further reading**](https://tanstack.com/query/latest/docs/framework/react/guides/testing#further-reading)

For additional tips and an alternative setup using mock-service-worker, have a look at [Testing React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#5-testing-react-query) from
the Community Resources.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/testing.md)

[Suspense](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)

[Does this replace \[Redux, MobX, etc\]?](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=ouvns)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Show Error

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=rdg5d)

## Background Fetching Status
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useIsFetching

useIsFetching is an optional hook that returns the number of the queries that your application is loading or fetching in the background (useful for app-wide loading indicators).

tsx

```
import { useIsFetching } from '@tanstack/react-query'
// How many queries are fetching?
const isFetching = useIsFetching()
// How many queries matching the posts prefix are fetching?
const isFetchingPosts = useIsFetching({ queryKey: ['posts'] })

```

```
import { useIsFetching } from '@tanstack/react-query'
// How many queries are fetching?
const isFetching = useIsFetching()
// How many queries matching the posts prefix are fetching?
const isFetchingPosts = useIsFetching({ queryKey: ['posts'] })

```

**Options**

- filters?: QueryFilters: [Query Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters#query-filters)
- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

**Returns**

- isFetching: number
  - Will be the number of the queries that your application is currently loading or fetching in the background.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useIsFetching.md)

[useMutation](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)

[useIsMutating](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=0kn3j)

## React Query Persister
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Installation](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#installation)
- [Usage](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#usage)
- [Adapted defaults](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#adapted-defaults)
- [API](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#api)
- [`experimental_createPersister`](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#experimental_createpersister)
- [`Options`](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#options)

# experimental\_createPersister

[**Installation**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#installation)

This utility comes as a separate package and is available under the '@tanstack/query-persist-client-core' import.

bash

```
npm install @tanstack/query-persist-client-core

```

```
npm install @tanstack/query-persist-client-core

```

or

bash

```
pnpm add @tanstack/query-persist-client-core

```

```
pnpm add @tanstack/query-persist-client-core

```

or

bash

```
yarn add @tanstack/query-persist-client-core

```

```
yarn add @tanstack/query-persist-client-core

```

or

bash

```
bun add @tanstack/query-persist-client-core

```

```
bun add @tanstack/query-persist-client-core

```

> Note: This util is also included in the @tanstack/react-query-persist-client package, so you do not need to install it separately if you are using that package.

[**Usage**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#usage)

- Import the experimental\_createPersister function
- Create a new experimental\_createPersister
  - you can pass any storage to it that adheres to the AsyncStorage or Storage interface - the example below uses the async-storage from React Native.
- Pass that persister as an option to your Query. This can be done either by passing it to the defaultOptions of the QueryClient or to any useQuery hook instance.
  - If you pass this persister as defaultOptions, all queries will be persisted to the provided storage. You can additionally narrow this down by passing filters. In contrast to the persistClient plugin, this will not persist the whole query client as a single item, but each query separately. As a key, the query hash is used.
  - If you provide this persister to a single useQuery hook, only this Query will be persisted.

This way, you do not need to store whole QueryClient, but choose what is worth to be persisted in your application. Each query is lazily restored (when the Query is first used) and persisted (after each run of the queryFn), so it does not need to be throttled. staleTime is also respected after restoring the Query, so if data is considered stale, it will be refetched immediately after restoring. If data is fresh, the queryFn will not run.

Garbage collecting a Query from memory **does not** affect the persisted data. That means Queries can be kept in memory for a shorter period of time to be more **memory efficient**. If they are used the next time, they will just be restored from the persistent storage again.

tsx

```
import AsyncStorage from '@react-native-async-storage/async-storage'
import { QueryClient } from '@tanstack/react-query'
import { experimental_createPersister } from '@tanstack/query-persist-client-core'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 30, // 30 seconds
      persister: experimental_createPersister({
        storage: AsyncStorage,
        maxAge: 1000 * 60 * 60 * 12, // 12 hours
      }),
    },
  },
})

```

```
import AsyncStorage from '@react-native-async-storage/async-storage'
import { QueryClient } from '@tanstack/react-query'
import { experimental_createPersister } from '@tanstack/query-persist-client-core'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 30, // 30 seconds
      persister: experimental_createPersister({
        storage: AsyncStorage,
        maxAge: 1000 * 60 * 60 * 12, // 12 hours
      }),
    },
  },
})

```

[**Adapted defaults**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#adapted-defaults)

The createPersister plugin technically wraps the queryFn, so it doesn't restore if the queryFn doesn't run. In that way, it acts as a caching layer between the Query and the network. Thus, the networkMode defaults to 'offlineFirst' when a persister is used, so that restoring from the persistent storage can also happen even if there is no network connection.

[**API**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#api) [**experimental\_createPersister**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#experimental_createpersister)

tsx

```
experimental_createPersister(options: StoragePersisterOptions)

```

```
experimental_createPersister(options: StoragePersisterOptions)

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister#options)

tsx

```
export interface StoragePersisterOptions {
  /** The storage client used for setting and retrieving items from cache.
   * For SSR pass in `undefined`.
   */
  storage: AsyncStorage | Storage | undefined | null
  /**
   * How to serialize the data to storage.
   * @default `JSON.stringify`
   */
  serialize?: (persistedQuery: PersistedQuery) => string
  /**
   * How to deserialize the data from storage.
   * @default `JSON.parse`
   */
  deserialize?: (cachedString: string) => PersistedQuery
  /**
   * A unique string that can be used to forcefully invalidate existing caches,
   * if they do not share the same buster string
   */
  buster?: string
  /**
   * The max-allowed age of the cache in milliseconds.
   * If a persisted cache is found that is older than this
   * time, it will be discarded
   * @default 24 hours
   */
  maxAge?: number
  /**
   * Prefix to be used for storage key.
   * Storage key is a combination of prefix and query hash in a form of `prefix-queryHash`.
   */
  prefix?: string
  /**
   * Filters to narrow down which Queries should be persisted.
   */
  filters?: QueryFilters
}

interface AsyncStorage {
  getItem: (key: string) => Promise<string | undefined | null>
  setItem: (key: string, value: string) => Promise<unknown>
  removeItem: (key: string) => Promise<void>
}

```

```
export interface StoragePersisterOptions {
  /** The storage client used for setting and retrieving items from cache.
   * For SSR pass in `undefined`.
   */
  storage: AsyncStorage | Storage | undefined | null
  /**
   * How to serialize the data to storage.
   * @default `JSON.stringify`
   */
  serialize?: (persistedQuery: PersistedQuery) => string
  /**
   * How to deserialize the data from storage.
   * @default `JSON.parse`
   */
  deserialize?: (cachedString: string) => PersistedQuery
  /**
   * A unique string that can be used to forcefully invalidate existing caches,
   * if they do not share the same buster string
   */
  buster?: string
  /**
   * The max-allowed age of the cache in milliseconds.
   * If a persisted cache is found that is older than this
   * time, it will be discarded
   * @default 24 hours
   */
  maxAge?: number
  /**
   * Prefix to be used for storage key.
   * Storage key is a combination of prefix and query hash in a form of `prefix-queryHash`.
   */
  prefix?: string
  /**
   * Filters to narrow down which Queries should be persisted.
   */
  filters?: QueryFilters
}

interface AsyncStorage {
  getItem: (key: string) => Promise<string | undefined | null>
  setItem: (key: string, value: string) => Promise<unknown>
  removeItem: (key: string) => Promise<void>
}

```

The default options are:

tsx

```
{
  prefix = 'tanstack-query',
  maxAge = 1000 * 60 * 60 * 24,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

```
{
  prefix = 'tanstack-query',
  maxAge = 1000 * 60 * 60 * 24,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/plugins/createPersister.md)

[broadcastQueryClient (Experimental)](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=5aceoj)

## Broadcast Query Client
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Installation](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#installation)
- [Usage](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#usage)
- [API](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#api)
- [`broadcastQueryClient`](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#broadcastqueryclient)
- [`Options`](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#options)

# broadcastQueryClient (Experimental)

> VERY IMPORTANT: This utility is currently in an experimental stage. This means that breaking changes will happen in minor AND patch releases. Use at your own risk. If you choose to rely on this in production in an experimental stage, please lock your version to a patch-level version to avoid unexpected breakages.

broadcastQueryClient is a utility for broadcasting and syncing the state of your queryClient between browser tabs/windows with the same origin.

[**Installation**](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#installation)

This utility comes as a separate package and is available under the '@tanstack/query-broadcast-client-experimental' import.

[**Usage**](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#usage)

Import the broadcastQueryClient function, and pass it your QueryClient instance, and optionally, set a broadcastChannel.

tsx

```
import { broadcastQueryClient } from '@tanstack/query-broadcast-client-experimental'

const queryClient = new QueryClient()

broadcastQueryClient({
  queryClient,
  broadcastChannel: 'my-app',
})

```

```
import { broadcastQueryClient } from '@tanstack/query-broadcast-client-experimental'

const queryClient = new QueryClient()

broadcastQueryClient({
  queryClient,
  broadcastChannel: 'my-app',
})

```

[**API**](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#api) [**broadcastQueryClient**](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#broadcastqueryclient)

Pass this function a QueryClient instance and optionally, a broadcastChannel.

tsx

```
broadcastQueryClient({ queryClient, broadcastChannel })

```

```
broadcastQueryClient({ queryClient, broadcastChannel })

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient#options)

An object of options:

tsx

```
interface BroadcastQueryClientOptions {
  /** The QueryClient to sync */
  queryClient: QueryClient
  /** This is the unique channel name that will be used
   * to communicate between tabs and windows */
  broadcastChannel?: string
  /** Options for the BroadcastChannel API */
  options?: BroadcastChannelOptions
}

```

```
interface BroadcastQueryClientOptions {
  /** The QueryClient to sync */
  queryClient: QueryClient
  /** This is the unique channel name that will be used
   * to communicate between tabs and windows */
  broadcastChannel?: string
  /** Options for the BroadcastChannel API */
  options?: BroadcastChannelOptions
}

```

The default options are:

tsx

```
{
  broadcastChannel = 'tanstack-query',
}

```

```
{
  broadcastChannel = 'tanstack-query',
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/plugins/broadcastQueryClient.md)

[createAsyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)

[createPersister (Experimental)](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=jg4xm)

## React Query Prefetching
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Prefetching  [Github](https://github.com/tanstack/query/tree/main/examples/react/prefetching) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/prefetching?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/prefetching?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - pages

    - \[user\]

    - ![_app.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)\_app.tsx

    - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![next-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)next-env.d.ts

- ![next.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)next.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import React from 'react'
import { useQuery, useQueryClient } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const getCharacters = async (): Promise<{
  results: Array<{ id: number; name: string }>
}> => {
  await new Promise((r) => setTimeout(r, 500))
  const response = await fetch('https://rickandmortyapi.com/api/character/')
  return await response.json()
}

const getCharacter = async (selectedChar: number) => {
  await new Promise((r) => setTimeout(r, 500))
  const response = await fetch(
    `https://rickandmortyapi.com/api/character/${selectedChar}`,
  )
  return await response.json()
}

export default function Example() {
  const queryClient = useQueryClient()
  const rerender = React.useState(0)[1]
  const [selectedChar, setSelectedChar] = React.useState(1)

  const charactersQuery = useQuery({
    queryKey: ['characters'],
    queryFn: getCharacters,
  })

  const characterQuery = useQuery({
    queryKey: ['character', selectedChar],
    queryFn: () => getCharacter(selectedChar),
  })

  return (
    <div className="App">
      <p>
        Hovering over a character will prefetch it, and when it's been
        prefetched it will turn <strong>bold</strong>. Clicking on a prefetched
        character will show their stats below immediately.
      </p>
      <h2>Characters</h2>
      {charactersQuery.isPending ? (
        'Loading...'
      ) : (
        <>
          <ul>
            {charactersQuery.data?.results.map((char) => (
              <li
                key={char.id}
                onClick={() => {
                  setSelectedChar(char.id)
                }}
                onMouseEnter={async () => {
                  await queryClient.prefetchQuery({
                    queryKey: ['character', char.id],
                    queryFn: () => getCharacter(char.id),
                    staleTime: 10 * 1000, // only prefetch if older than 10 seconds
                  })

                  setTimeout(() => {
                    rerender({})
                  }, 1)
                }}
              >
                <div
                  style={
                    queryClient.getQueryData(['character', char.id])
                      ? {
                          fontWeight: 'bold',
                        }
                      : {}
                  }
                >
                  {char.id} - {char.name}
                </div>
              </li>
            ))}
          </ul>

          <h3>Selected Character</h3>
          {characterQuery.isPending ? (
            'Loading...'
          ) : (
            <>
              <pre>{JSON.stringify(characterQuery.data, null, 2)}</pre>
            </>
          )}
          <ReactQueryDevtools initialIsOpen />
        </>
      )}
    </div>
  )
}

```

```
import React from 'react'
import { useQuery, useQueryClient } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const getCharacters = async (): Promise<{
  results: Array<{ id: number; name: string }>
}> => {
  await new Promise((r) => setTimeout(r, 500))
  const response = await fetch('https://rickandmortyapi.com/api/character/')
  return await response.json()
}

const getCharacter = async (selectedChar: number) => {
  await new Promise((r) => setTimeout(r, 500))
  const response = await fetch(
    `https://rickandmortyapi.com/api/character/${selectedChar}`,
  )
  return await response.json()
}

export default function Example() {
  const queryClient = useQueryClient()
  const rerender = React.useState(0)[1]
  const [selectedChar, setSelectedChar] = React.useState(1)

  const charactersQuery = useQuery({
    queryKey: ['characters'],
    queryFn: getCharacters,
  })

  const characterQuery = useQuery({
    queryKey: ['character', selectedChar],
    queryFn: () => getCharacter(selectedChar),
  })

  return (
    <div className="App">
      <p>
        Hovering over a character will prefetch it, and when it's been
        prefetched it will turn <strong>bold</strong>. Clicking on a prefetched
        character will show their stats below immediately.
      </p>
      <h2>Characters</h2>
      {charactersQuery.isPending ? (
        'Loading...'
      ) : (
        <>
          <ul>
            {charactersQuery.data?.results.map((char) => (
              <li
                key={char.id}
                onClick={() => {
                  setSelectedChar(char.id)
                }}
                onMouseEnter={async () => {
                  await queryClient.prefetchQuery({
                    queryKey: ['character', char.id],
                    queryFn: () => getCharacter(char.id),
                    staleTime: 10 * 1000, // only prefetch if older than 10 seconds
                  })

                  setTimeout(() => {
                    rerender({})
                  }, 1)
                }}
              >
                <div
                  style={
                    queryClient.getQueryData(['character', char.id])
                      ? {
                          fontWeight: 'bold',
                        }
                      : {}
                  }
                >
                  {char.id} - {char.name}
                </div>
              </li>
            ))}
          </ul>

          <h3>Selected Character</h3>
          {characterQuery.isPending ? (
            'Loading...'
          ) : (
            <>
              <pre>{JSON.stringify(characterQuery.data, null, 2)}</pre>
            </>
          )}
          <ReactQueryDevtools initialIsOpen />
        </>
      )}
    </div>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/prefetching?embed=1&theme=light&preset=node&file=index.tsx)

[Playground](https://tanstack.com/query/latest/docs/framework/react/examples/playground)

[Star Wars](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=6ld89)

## Query Error Reset
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useQueryErrorResetBoundary

This hook will reset any query errors within the closest QueryErrorResetBoundary. If there is no boundary defined it will reset them globally:

tsx

```
import { useQueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => {
  const { reset } = useQueryErrorResetBoundary()
  return (
    <ErrorBoundary
      onReset={reset}
      fallbackRender={({ resetErrorBoundary }) => (
        <div>
          There was an error!
          <Button onClick={() => resetErrorBoundary()}>Try again</Button>
        </div>
      )}
    >
      <Page />
    </ErrorBoundary>
  )
}

```

```
import { useQueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => {
  const { reset } = useQueryErrorResetBoundary()
  return (
    <ErrorBoundary
      onReset={reset}
      fallbackRender={({ resetErrorBoundary }) => (
        <div>
          There was an error!
          <Button onClick={() => resetErrorBoundary()}>Try again</Button>
        </div>
      )}
    >
      <Page />
    </ErrorBoundary>
  )
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useQueryErrorResetBoundary.md)

[QueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)

[hydration](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=2vrcf)

## React useMutation Hook
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useMutation

tsx

```
const {
  data,
  error,
  isError,
  isIdle,
  isPending,
  isPaused,
  isSuccess,
  failureCount,
  failureReason,
  mutate,
  mutateAsync,
  reset,
  status,
  submittedAt,
  variables,
} = useMutation(
  {
    mutationFn,
    gcTime,
    meta,
    mutationKey,
    networkMode,
    onError,
    onMutate,
    onSettled,
    onSuccess,
    retry,
    retryDelay,
    scope,
    throwOnError,
  },
  queryClient,
)

mutate(variables, {
  onError,
  onSettled,
  onSuccess,
})

```

```
const {
  data,
  error,
  isError,
  isIdle,
  isPending,
  isPaused,
  isSuccess,
  failureCount,
  failureReason,
  mutate,
  mutateAsync,
  reset,
  status,
  submittedAt,
  variables,
} = useMutation(
  {
    mutationFn,
    gcTime,
    meta,
    mutationKey,
    networkMode,
    onError,
    onMutate,
    onSettled,
    onSuccess,
    retry,
    retryDelay,
    scope,
    throwOnError,
  },
  queryClient,
)

mutate(variables, {
  onError,
  onSettled,
  onSuccess,
})

```

**Parameter1 (Options)**

- mutationFn: (variables: TVariables) => Promise<TData>
  - **Required, but only if no default mutation function has been defined**
  - A function that performs an asynchronous task and returns a promise.
  - variables is an object that mutate will pass to your mutationFn
- gcTime: number \| Infinity
  - The time in milliseconds that unused/inactive cache data remains in memory. When a mutation's cache becomes unused or inactive, that cache data will be garbage collected after this duration. When different cache times are specified, the longest one will be used.
  - If set to Infinity, will disable garbage collection
  - Note: the maximum allowed time is about 24 days. See [more](https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value).
- mutationKey: unknown\[\]
  - Optional
  - A mutation key can be set to inherit defaults set with queryClient.setMutationDefaults.
- networkMode: 'online' \| 'always' \| 'offlineFirst'
  - Optional
  - defaults to 'online'
  - see [Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode) for more information.
- onMutate: (variables: TVariables) => Promise<TContext \| void> \| TContext \| void
  - Optional
  - This function will fire before the mutation function is fired and is passed the same variables the mutation function would receive
  - Useful to perform optimistic updates to a resource in hopes that the mutation succeeds
  - The value returned from this function will be passed to both the onError and onSettled functions in the event of a mutation failure and can be useful for rolling back optimistic updates.
- onSuccess: (data: TData, variables: TVariables, context: TContext) => Promise<unknown> \| unknown
  - Optional
  - This function will fire when the mutation is successful and will be passed the mutation's result.
  - If a promise is returned, it will be awaited and resolved before proceeding
- onError: (err: TError, variables: TVariables, context?: TContext) => Promise<unknown> \| unknown
  - Optional
  - This function will fire if the mutation encounters an error and will be passed the error.
  - If a promise is returned, it will be awaited and resolved before proceeding
- onSettled: (data: TData, error: TError, variables: TVariables, context?: TContext) => Promise<unknown> \| unknown
  - Optional
  - This function will fire when the mutation is either successfully fetched or encounters an error and be passed either the data or error
  - If a promise is returned, it will be awaited and resolved before proceeding
- retry: boolean \| number \| (failureCount: number, error: TError) => boolean
  - Defaults to 0.
  - If false, failed mutations will not retry.
  - If true, failed mutations will retry infinitely.
  - If set to an number, e.g. 3, failed mutations will retry until the failed mutations count meets that number.
- retryDelay: number \| (retryAttempt: number, error: TError) => number
  - This function receives a retryAttempt integer and the actual Error and returns the delay to apply before the next attempt in milliseconds.
  - A function like attempt => Math.min(attempt > 1 ? 2 \*\* attempt \* 1000 : 1000, 30 \* 1000) applies exponential backoff.
  - A function like attempt => attempt \* 1000 applies linear backoff.
- scope: { id: string }
  - Optional
  - Defaults to a unique id (so that all mutations run in parallel)
  - Mutations with the same scope id will run in serial
- throwOnError: undefined \| boolean \| (error: TError) => boolean
  - Set this to true if you want mutation errors to be thrown in the render phase and propagate to the nearest error boundary
  - Set this to false to disable the behavior of throwing errors to the error boundary.
  - If set to a function, it will be passed the error and should return a boolean indicating whether to show the error in an error boundary (true) or return the error as state (false)
- meta: Record<string, unknown>
  - Optional
  - If set, stores additional information on the mutation cache entry that can be used as needed. It will be accessible wherever the mutation is available (eg. onError, onSuccess functions of the MutationCache).

**Parameter2 (QueryClient)**

- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

**Returns**

- mutate: (variables: TVariables, { onSuccess, onSettled, onError }) => void
  - The mutation function you can call with variables to trigger the mutation and optionally hooks on additional callback options.
  - variables: TVariables
    - Optional
    - The variables object to pass to the mutationFn.
  - onSuccess: (data: TData, variables: TVariables, context: TContext) => void
    - Optional
    - This function will fire when the mutation is successful and will be passed the mutation's result.
    - Void function, the returned value will be ignored
  - onError: (err: TError, variables: TVariables, context: TContext \| undefined) => void
    - Optional
    - This function will fire if the mutation encounters an error and will be passed the error.
    - Void function, the returned value will be ignored
  - onSettled: (data: TData \| undefined, error: TError \| null, variables: TVariables, context: TContext \| undefined) => void
    - Optional
    - This function will fire when the mutation is either successfully fetched or encounters an error and be passed either the data or error
    - Void function, the returned value will be ignored
  - If you make multiple requests, onSuccess will fire only after the latest call you've made.
- mutateAsync: (variables: TVariables, { onSuccess, onSettled, onError }) => Promise<TData>
  - Similar to mutate but returns a promise which can be awaited.
- status: string
  - Will be:
    - idle initial status prior to the mutation function executing.
    - pending if the mutation is currently executing.
    - error if the last mutation attempt resulted in an error.
    - success if the last mutation attempt was successful.
- isIdle, isPending, isSuccess, isError: boolean variables derived from status
- isPaused: boolean
  - will be true if the mutation has been paused
  - see [Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode) for more information.
- data: undefined \| unknown
  - Defaults to undefined
  - The last successfully resolved data for the mutation.
- error: null \| TError
  - The error object for the query, if an error was encountered.
- reset: () => void
  - A function to clean the mutation internal state (i.e., it resets the mutation to its initial state).
- failureCount: number
  - The failure count for the mutation.
  - Incremented every time the mutation fails.
  - Reset to 0 when the mutation succeeds.
- failureReason: null \| TError
  - The failure reason for the mutation retry.
  - Reset to null when the mutation succeeds.
- submittedAt: number
  - The timestamp for when the mutation was submitted.
  - Defaults to 0.
- variables: undefined \| TVariables
  - The variables object passed to the mutationFn.
  - Defaults to undefined.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useMutation.md)

[useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)

[useIsFetching](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=0wz55)

## Server Rendering with React Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Server Rendering & React Query](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#server-rendering--react-query)
- [A quick note on Suspense](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#a-quick-note-on-suspense)
- [Initial setup](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#initial-setup)
- [Get started fast with `initialData`](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#get-started-fast-with-initialdata)
- [Using the Hydration APIs](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#using-the-hydration-apis)
- [Full Next.js pages router example](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#full-nextjs-pages-router-example)
- [Full Remix example](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#full-remix-example)
- [Optional - Remove boilerplate](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#optional---remove-boilerplate)
- [Prefetching dependent queries](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#prefetching-dependent-queries)
- [Error handling](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#error-handling)
- [Serialization](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#serialization)
- [A note about request waterfalls](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#a-note-about-request-waterfalls)
- [Tips, Tricks and Caveats](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#tips-tricks-and-caveats)
- [Staleness is measured from when the query was fetched on the server](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#staleness-is-measured-from-when-the-query-was-fetched-on-the-server)
- [High memory consumption on server](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#high-memory-consumption-on-server)
- [Caveat for Next.js rewrites](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#caveat-for-nextjs-rewrites)

# Server Rendering & Hydration

In this guide you'll learn how to use React Query with server rendering.

See the guide on [Prefetching & Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching) for some background. You might also want to check out the [Performance & Request Waterfalls guide](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls) before that.

For advanced server rendering patterns, such as streaming, Server Components and the new Next.js app router, see the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

If you just want to see some code, you can skip ahead to the [Full Next.js pages router example](https://tanstack.com/query/latest/docs/framework/react/guides/ssr/#full-nextjs-pages-router-example) or the [Full Remix example](https://tanstack.com/query/latest/docs/framework/react/guides/ssr/#full-remix-example) below.

[**Server Rendering & React Query**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#server-rendering--react-query)

So what is server rendering anyway? The rest of this guide will assume you are familiar with the concept, but let's spend some time to look at how it relates to React Query. Server rendering is the act of generating the initial html on the server, so that the user has some content to look at as soon as the page loads. This can happen on demand when a page is requested (SSR). It can also happen ahead of time either because a previous request was cached, or at build time (SSG).

If you've read the Request Waterfalls guide, you might remember this:

```
1. |-> Markup (without content)
2.   |-> JS
3.     |-> Query

```

```
1. |-> Markup (without content)
2.   |-> JS
3.     |-> Query

```

With a client rendered application, these are the minimum 3 server roundtrips you will need to make before getting any content on the screen for the user. One way of viewing server rendering is that it turns the above into this:

```
1. |-> Markup (with content AND initial data)
2.   |-> JS

```

```
1. |-> Markup (with content AND initial data)
2.   |-> JS

```

As soon as **1.** is complete, the user can see the content and when **2.** finishes, the page is interactive and clickable. Because the markup also contains the initial data we need, step **3.** does not need to run on the client at all, at least until you want to revalidate the data for some reason.

This is all from the clients perspective. On the server, we need to **prefetch** that data before we generate/render the markup, we need to **dehydrate** that data into a serializable format we can embed in the markup, and on the client we need to **hydrate** that data into a React Query cache so we can avoid doing a new fetch on the client.

Read on to learn how to implement these three steps with React Query.

[**A quick note on Suspense**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#a-quick-note-on-suspense)

This guide uses the regular useQuery API. While we don't necessarily recommend it, it is possible to replace this with useSuspenseQuery instead **as long as you always prefetch all your queries**. The upside is that you get to use <Suspense> for loading states on the client.

If you do forget to prefetch a query when you are using useSuspenseQuery, the consequences will depend on the framework you are using. In some cases, the data will Suspend and get fetched on the server but never be hydrated to the client, where it will fetch again. In these cases you will get a markup hydration mismatch, because the server and the client tried to render different things.

[**Initial setup**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#initial-setup)

The first steps of using React Query is always to create a queryClient and wrap the application in a <QueryClientProvider>. When doing server rendering, it's important to create the queryClient instance **inside of your app**, in React state (an instance ref works fine too). **This ensures that data is not shared between different users and requests**, while still only creating the queryClient once per component lifecycle.

Next.js pages router:

tsx

```
// _app.tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

// NEVER DO THIS:
// const queryClient = new QueryClient()
//
// Creating the queryClient at the file root level makes the cache shared
// between all requests and means _all_ data gets passed to _all_ users.
// Besides being bad for performance, this also leaks any sensitive data.

export default function MyApp({ Component, pageProps }) {
  // Instead do this, which ensures each request has its own cache:
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Component {...pageProps} />
    </QueryClientProvider>
  )
}

```

```
// _app.tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

// NEVER DO THIS:
// const queryClient = new QueryClient()
//
// Creating the queryClient at the file root level makes the cache shared
// between all requests and means _all_ data gets passed to _all_ users.
// Besides being bad for performance, this also leaks any sensitive data.

export default function MyApp({ Component, pageProps }) {
  // Instead do this, which ensures each request has its own cache:
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Component {...pageProps} />
    </QueryClientProvider>
  )
}

```

Remix:

tsx

```
// app/root.tsx
import { Outlet } from '@remix-run/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp() {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Outlet />
    </QueryClientProvider>
  )
}

```

```
// app/root.tsx
import { Outlet } from '@remix-run/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp() {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Outlet />
    </QueryClientProvider>
  )
}

```

[**Get started fast with initialData**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#get-started-fast-with-initialdata)

The quickest way to get started is to not involve React Query at all when it comes to prefetching and not use the dehydrate/hydrate APIs. What you do instead is passing the raw data in as the initialData option to useQuery. Let's look at an example using Next.js pages router, using getServerSideProps.

tsx

```
export async function getServerSideProps() {
  const posts = await getPosts()
  return { props: { posts } }
}

function Posts(props) {
  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
    initialData: props.posts,
  })

  // ...
}

```

```
export async function getServerSideProps() {
  const posts = await getPosts()
  return { props: { posts } }
}

function Posts(props) {
  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
    initialData: props.posts,
  })

  // ...
}

```

This also works with getStaticProps or even the older getInitialProps and the same pattern can be applied in any other framework that has equivalent functions. This is what the same example looks like with Remix:

tsx

```
export async function loader() {
  const posts = await getPosts()
  return json({ posts })
}

function Posts() {
  const { posts } = useLoaderData<typeof loader>()

  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
    initialData: posts,
  })

  // ...
}

```

```
export async function loader() {
  const posts = await getPosts()
  return json({ posts })
}

function Posts() {
  const { posts } = useLoaderData<typeof loader>()

  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
    initialData: posts,
  })

  // ...
}

```

The setup is minimal and this can be a quick solution for some cases, but there are a **few tradeoffs to consider** when compared to the full approach:

- If you are calling useQuery in a component deeper down in the tree you need to pass the initialData down to that point
- If you are calling useQuery with the same query in multiple locations, passing initialData to only one of them can be brittle and break when your app changes since. If you remove or move the component that has the useQuery with initialData, the more deeply nested useQuery might no longer have any data. Passing initialData to **all** queries that needs it can also be cumbersome.
- There is no way to know at what time the query was fetched on the server, so dataUpdatedAt and determining if the query needs refetching is based on when the page loaded instead
- If there is already data in the cache for a query, initialData will never overwrite this data, **even if the new data is fresher than the old one**.
  - To understand why this is especially bad, consider the getServerSideProps example above. If you navigate back and forth to a page several times, getServerSideProps would get called each time and fetch new data, but because we are using the initialData option, the client cache and data would never be updated.

Setting up the full hydration solution is straightforward and does not have these drawbacks, this will be the focus for the rest of the documentation.

[**Using the Hydration APIs**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#using-the-hydration-apis)

With just a little more setup, you can use a queryClient to prefetch queries during a preload phase, pass a serialized version of that queryClient to the rendering part of the app and reuse it there. This avoid the drawbacks above. Feel free to skip ahead for full Next.js pages router and Remix examples, but at a general level these are the extra steps:

- In the framework loader function, create a const queryClient = new QueryClient(options)
- In the loader function, do await queryClient.prefetchQuery(...) for each query you want to prefetch
  - You want to use await Promise.all(...) to fetch the queries in parallel when possible
  - It's fine to have queries that aren't prefetched. These wont be server rendered, instead they will be fetched on the client after the application is interactive. This can be great for content that are shown only after user interaction, or is far down on the page to avoid blocking more critical content.
- From the loader, return dehydrate(queryClient), note that the exact syntax to return this differs between frameworks
- Wrap your tree with <HydrationBoundary state={dehydratedState}> where dehydratedState comes from the framework loader. How you get dehydratedState also differs between frameworks.
  - This can be done for each route, or at the top of the application to avoid boilerplate, see examples

> An interesting detail is that there are actually _three_ queryClients involved. The framework loaders are a form of "preloading" phase that happens before rendering, and this phase has its own queryClient that does the prefetching. The dehydrated result of this phase gets passed to **both** the server rendering process **and** the client rendering process which each has its own queryClient. This ensures they both start with the same data so they can return the same markup.

> Server Components are another form of "preloading" phase, that can also "preload" (pre-render) parts of a React component tree. Read more in the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

[**Full Next.js pages router example**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#full-nextjs-pages-router-example)

> For app router documentation, see the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

Initial setup:

tsx

```
// _app.tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp({ Component, pageProps }) {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Component {...pageProps} />
    </QueryClientProvider>
  )
}

```

```
// _app.tsx
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp({ Component, pageProps }) {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Component {...pageProps} />
    </QueryClientProvider>
  )
}

```

In each route:

tsx

```
// pages/posts.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

// This could also be getServerSideProps
export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// pages/posts.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

// This could also be getServerSideProps
export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

[**Full Remix example**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#full-remix-example)

Initial setup:

tsx

```
// app/root.tsx
import { Outlet } from '@remix-run/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp() {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Outlet />
    </QueryClientProvider>
  )
}

```

```
// app/root.tsx
import { Outlet } from '@remix-run/react'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

export default function MyApp() {
  const [queryClient] = React.useState(
    () =>
      new QueryClient({
        defaultOptions: {
          queries: {
            // With SSR, we usually want to set some default staleTime
            // above 0 to avoid refetching immediately on the client
            staleTime: 60 * 1000,
          },
        },
      }),
  )

  return (
    <QueryClientProvider client={queryClient}>
      <Outlet />
    </QueryClientProvider>
  )
}

```

In each route, note that it's fine to do this in nested routes too:

tsx

```
// app/routes/posts.tsx
import { json } from '@remix-run/node'
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

export async function loader() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return json({ dehydratedState: dehydrate(queryClient) })
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute() {
  const { dehydratedState } = useLoaderData<typeof loader>()
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// app/routes/posts.tsx
import { json } from '@remix-run/node'
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

export async function loader() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return json({ dehydratedState: dehydrate(queryClient) })
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute() {
  const { dehydratedState } = useLoaderData<typeof loader>()
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

[**Optional - Remove boilerplate**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#optional---remove-boilerplate)

Having this part in every route might seem like a lot of boilerplate:

tsx

```
export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

While there is nothing wrong with this approach, if you want to get rid of this boilerplate, here's how you can modify your setup in Next.js:

tsx

```
// _app.tsx
import {
  HydrationBoundary,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

export default function MyApp({ Component, pageProps }) {
  const [queryClient] = React.useState(() => new QueryClient())

  return (
    <QueryClientProvider client={queryClient}>
      <HydrationBoundary state={pageProps.dehydratedState}>
        <Component {...pageProps} />
      </HydrationBoundary>
    </QueryClientProvider>
  )
}

// pages/posts.tsx
// Remove PostsRoute with the HydrationBoundary and instead export Posts directly:
export default function Posts() { ... }

```

```
// _app.tsx
import {
  HydrationBoundary,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

export default function MyApp({ Component, pageProps }) {
  const [queryClient] = React.useState(() => new QueryClient())

  return (
    <QueryClientProvider client={queryClient}>
      <HydrationBoundary state={pageProps.dehydratedState}>
        <Component {...pageProps} />
      </HydrationBoundary>
    </QueryClientProvider>
  )
}

// pages/posts.tsx
// Remove PostsRoute with the HydrationBoundary and instead export Posts directly:
export default function Posts() { ... }

```

With Remix, this is a little bit more involved, we recommend checking out the [use-dehydrated-state](https://github.com/maplegrove-io/use-dehydrated-state) package.

[**Prefetching dependent queries**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#prefetching-dependent-queries)

Over in the Prefetching guide we learned how to [prefetch dependent queries](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching#dependent-queries--code-splitting), but how do we do this in framework loaders? Consider the following code, taken from the [Dependent Queries guide](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries):

tsx

```
// Get the user
const { data: user } = useQuery({
  queryKey: ['user', email],
  queryFn: getUserByEmail,
})

const userId = user?.id

// Then get the user's projects
const {
  status,
  fetchStatus,
  data: projects,
} = useQuery({
  queryKey: ['projects', userId],
  queryFn: getProjectsByUser,
  // The query will not execute until the userId exists
  enabled: !!userId,
})

```

```
// Get the user
const { data: user } = useQuery({
  queryKey: ['user', email],
  queryFn: getUserByEmail,
})

const userId = user?.id

// Then get the user's projects
const {
  status,
  fetchStatus,
  data: projects,
} = useQuery({
  queryKey: ['projects', userId],
  queryFn: getProjectsByUser,
  // The query will not execute until the userId exists
  enabled: !!userId,
})

```

How would we prefetch this so it can be server rendered? Here's an example:

tsx

```
// For Remix, rename this to loader instead
export async function getServerSideProps() {
  const queryClient = new QueryClient()

  const user = await queryClient.fetchQuery({
    queryKey: ['user', email],
    queryFn: getUserByEmail,
  })

  if (user?.userId) {
    await queryClient.prefetchQuery({
      queryKey: ['projects', userId],
      queryFn: getProjectsByUser,
    })
  }

  // For Remix:
  // return json({ dehydratedState: dehydrate(queryClient) })
  return { props: { dehydratedState: dehydrate(queryClient) } }
}

```

```
// For Remix, rename this to loader instead
export async function getServerSideProps() {
  const queryClient = new QueryClient()

  const user = await queryClient.fetchQuery({
    queryKey: ['user', email],
    queryFn: getUserByEmail,
  })

  if (user?.userId) {
    await queryClient.prefetchQuery({
      queryKey: ['projects', userId],
      queryFn: getProjectsByUser,
    })
  }

  // For Remix:
  // return json({ dehydratedState: dehydrate(queryClient) })
  return { props: { dehydratedState: dehydrate(queryClient) } }
}

```

This can get more complex of course, but since these loader functions are just JavaScript, you can use the full power of the language to build your logic. Make sure you prefetch all queries that you want to be server rendered.

[**Error handling**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#error-handling)

React Query defaults to a graceful degradation strategy. This means:

- queryClient.prefetchQuery(...) never throws errors
- dehydrate(...) only includes successful queries, not failed ones

This will lead to any failed queries being retried on the client and that the server rendered output will include loading states instead of the full content.

While a good default, sometimes this is not what you want. When critical content is missing, you might want to respond with a 404 or 500 status code depending on the situation. For these cases, use queryClient.fetchQuery(...) instead, which will throw errors when it fails, letting you handle things in a suitable way.

tsx

```
let result

try {
  result = await queryClient.fetchQuery(...)
} catch (error) {
  // Handle the error, refer to your framework documentation
}

// You might also want to check and handle any invalid `result` here

```

```
let result

try {
  result = await queryClient.fetchQuery(...)
} catch (error) {
  // Handle the error, refer to your framework documentation
}

// You might also want to check and handle any invalid `result` here

```

If you for some reason want to include failed queries in the dehydrated state to avoid retries, you can use the option shouldDehydrateQuery to override the default function and implement your own logic:

tsx

```
dehydrate(queryClient, {
  shouldDehydrateQuery: (query) => {
    // This will include all queries, including failed ones,
    // but you can also implement your own logic by inspecting `query`
    return true
  },
})

```

```
dehydrate(queryClient, {
  shouldDehydrateQuery: (query) => {
    // This will include all queries, including failed ones,
    // but you can also implement your own logic by inspecting `query`
    return true
  },
})

```

[**Serialization**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#serialization)

When doing return { props: { dehydratedState: dehydrate(queryClient) } } in Next.js, or return json({ dehydratedState: dehydrate(queryClient) }) in Remix, what happens is that the dehydratedState representation of the queryClient is serialized by the framework so it can be embedded into the markup and transported to the client.

By default, these frameworks only supports returning things that are safely serializable/parsable, and therefore does not support undefined, Error, Date, Map, Set, BigInt, Infinity, NaN, -0, regular expressions etc. This also means that you can not return any of these things from your queries. If returning these values is something you want, check out [superjson](https://github.com/blitz-js/superjson) or similar packages.

If you are using a custom SSR setup, you need to take care of this step yourself. Your first instinct might be to use JSON.stringify(dehydratedState), but because this doesn't escape things like <script>alert('Oh no..')</script> by default, this can easily lead to **XSS-vulnerabilities** in your application. [superjson](https://github.com/blitz-js/superjson) also **does not** escape values and is unsafe to use by itself in a custom SSR setup (unless you add an extra step for escaping the output). Instead we recommend using a library like [Serialize JavaScript](https://github.com/yahoo/serialize-javascript) or [devalue](https://github.com/Rich-Harris/devalue) which are both safe against XSS injections out of the box.

[**A note about request waterfalls**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#a-note-about-request-waterfalls)

In the [Performance & Request Waterfalls guide](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls) we mentioned we would revisit how server rendering changes one of the more complex nested waterfalls. Check back for the [specific code example](https://tanstack.com/query/latest/docs/framework/react/request-waterfalls#code-splitting), but as a refresher, we have a code split <GraphFeedItem> component inside a <Feed> component. This only renders if the feed contains a graph item and both of these components fetches their own data. With client rendering, this leads to the following request waterfall:

```
1. |> Markup (without content)
2.   |> JS for <Feed>
3.     |> getFeed()
4.       |> JS for <GraphFeedItem>
5.         |> getGraphDataById()

```

```
1. |> Markup (without content)
2.   |> JS for <Feed>
3.     |> getFeed()
4.       |> JS for <GraphFeedItem>
5.         |> getGraphDataById()

```

The nice thing about server rendering is that we can turn the above into:

```
1. |> Markup (with content AND initial data)
2.   |> JS for <Feed>
2.   |> JS for <GraphFeedItem>

```

```
1. |> Markup (with content AND initial data)
2.   |> JS for <Feed>
2.   |> JS for <GraphFeedItem>

```

Note that the queries are no longer fetched on the client, instead their data was included in the markup. The reason we can now load the JS in parallel is that since <GraphFeedItem> was rendered on the server we know that we are going to need this JS on the client as well and can insert a script-tag for this chunk in the markup. On the server, we would still have this request waterfall:

```
1. |> getFeed()
2.   |> getGraphDataById()

```

```
1. |> getFeed()
2.   |> getGraphDataById()

```

We simply can not know before we have fetched the feed if we also need to fetch graph data, they are dependent queries. Because this happens on the server where latency is generally both lower and more stable, this often isn't such a big deal.

Amazing, we've mostly flattened our waterfalls! There's a catch though. Let's call this page the /feed page, and let's pretend we also have another page like /posts. If we type in www.example.com/feed directly in the url bar and hit enter, we get all these great server rendering benefits, BUT, if we instead type in www.example.com/posts and then **click a link** to /feed, we're back to to this:

```
1. |> JS for <Feed>
2.   |> getFeed()
3.     |> JS for <GraphFeedItem>
4.       |> getGraphDataById()

```

```
1. |> JS for <Feed>
2.   |> getFeed()
3.     |> JS for <GraphFeedItem>
4.       |> getGraphDataById()

```

This is because with SPA's, server rendering only works for the initial page load, not for any subsequent navigation.

Modern frameworks often try to solve this by fetching the initial code and data in parallel, so if you were using Next.js or Remix with the prefetching patterns we outlined in this guide, including how to prefetch dependent queries, it would actually look like this instead:

```
1. |> JS for <Feed>
1. |> getFeed() + getGraphDataById()
2.   |> JS for <GraphFeedItem>

```

```
1. |> JS for <Feed>
1. |> getFeed() + getGraphDataById()
2.   |> JS for <GraphFeedItem>

```

This is much better, but if we want to improve this further we can flatten this to a single roundtrip with Server Components. Learn how in the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

[**Tips, Tricks and Caveats**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#tips-tricks-and-caveats) [**Staleness is measured from when the query was fetched on the server**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#staleness-is-measured-from-when-the-query-was-fetched-on-the-server)

A query is considered stale depending on when it was dataUpdatedAt. A caveat here is that the server needs to have the correct time for this to work properly, but UTC time is used, so timezones do not factor into this.

Because staleTime defaults to 0, queries will be refetched in the background on page load by default. You might want to use a higher staleTime to avoid this double fetching, especially if you don't cache your markup.

This refetching of stale queries is a perfect match when caching markup in a CDN! You can set the cache time of the page itself decently high to avoid having to re-render pages on the server, but configure the staleTime of the queries lower to make sure data is refetched in the background as soon as a user visits the page. Maybe you want to cache the pages for a week, but refetch the data automatically on page load if it's older than a day?

[**High memory consumption on server**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#high-memory-consumption-on-server)

In case you are creating the QueryClient for every request, React Query creates the isolated cache for this client, which is preserved in memory for the gcTime period. That may lead to high memory consumption on server in case of high number of requests during that period.

On the server, gcTime defaults to Infinity which disables manual garbage collection and will automatically clear memory once a request has finished. If you are explicitly setting a non-Infinity gcTime then you will be responsible for clearing the cache early.

Avoid setting gcTime to 0 as it may result in a hydration error. This occurs because the [Hydration Boundary](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrationboundary) places necessary data into the cache for rendering, but if the garbage collector removes the data before the rendering completes, issues may arise. If you require a shorter gcTime, we recommend setting it to 2 \* 1000 to allow sufficient time for the app to reference the data.

To clear the cache after it is not needed and to lower memory consumption, you can add a call to [queryClient.clear()](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientclear) after the request is handled and dehydrated state has been sent to the client.

Alternatively, you can set a smaller gcTime.

[**Caveat for Next.js rewrites**](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#caveat-for-nextjs-rewrites)

There's a catch if you're using [Next.js' rewrites feature](https://nextjs.org/docs/app/api-reference/next-config-js/rewrites) together with [Automatic Static Optimization](https://nextjs.org/docs/pages/building-your-application/rendering/automatic-static-optimization) or getStaticProps: It will cause a second hydration by React Query. That's because [Next.js needs to ensure that they parse the rewrites](https://nextjs.org/docs/app/api-reference/next-config-js/rewrites#rewrite-parameters) on the client and collect any params after hydration so that they can be provided in router.query.

The result is missing referential equality for all the hydration data, which for example triggers wherever your data is used as props of components or in the dependency array of useEffects/useMemos.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/ssr.md)

[Prefetching & Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)

[Advanced Server Rendering](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=jua6y)

## React Prefetch Queries
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# usePrefetchQuery

tsx

```
usePrefetchQuery(options)

```

```
usePrefetchQuery(options)

```

**Options**

You can pass everything to usePrefetchQuery that you can pass to [queryClient.prefetchQuery](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientprefetchquery). Remember that some of them are required as below:

- queryKey: QueryKey

  - **Required**
  - The query key to prefetch during render
- queryFn: (context: QueryFunctionContext) => Promise<TData>

  - **Required, but only if no default query function has been defined** See [Default Query Function](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function) for more information.

**Returns**

The usePrefetchQuery does not return anything, it should be used just to fire a prefetch during render, before a suspense boundary that wraps a component that uses [useSuspenseQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/usePrefetchQuery.md)

[infiniteQueryOptions](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)

[usePrefetchInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Hydration
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [`dehydrate`](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#dehydrate)
- [Limitations](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#limitations)
- [`hydrate`](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrate)
- [Limitations](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#limitations-1)
- [`HydrationBoundary`](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrationboundary)

# hydration

[**dehydrate**](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#dehydrate)

dehydrate creates a frozen representation of a cache that can later be hydrated with HydrationBoundary or hydrate. This is useful for passing prefetched queries from server to client or persisting queries to localStorage or other persistent locations. It only includes currently successful queries by default.

tsx

```
import { dehydrate } from '@tanstack/react-query'

const dehydratedState = dehydrate(queryClient, {
  shouldDehydrateQuery,
  shouldDehydrateMutation,
})

```

```
import { dehydrate } from '@tanstack/react-query'

const dehydratedState = dehydrate(queryClient, {
  shouldDehydrateQuery,
  shouldDehydrateMutation,
})

```

**Options**

- client: QueryClient
  - **Required**
  - The queryClient that should be dehydrated
- options: DehydrateOptions
  - Optional
  - shouldDehydrateMutation: (mutation: Mutation) => boolean
    - Optional
    - Whether to dehydrate mutations.
    - The function is called for each mutation in the cache
      - Return true to include this mutation in dehydration, or false otherwise
    - Defaults to only including paused mutations
    - If you would like to extend the function while retaining the default behavior, import and execute defaultShouldDehydrateMutation as part of the return statement
  - shouldDehydrateQuery: (query: Query) => boolean
    - Optional
    - Whether to dehydrate queries.
    - The function is called for each query in the cache
      - Return true to include this query in dehydration, or false otherwise
    - Defaults to only including successful queries
    - If you would like to extend the function while retaining the default behavior, import and execute defaultShouldDehydrateQuery as part of the return statement
  - serializeData?: (data: any) => any A function to transform (serialize) data during dehydration.
  - shouldRedactErrors?: (error: unknown) => boolean
    - Optional
    - Whether to redact errors from the server during dehydration.
    - The function is called for each error in the cache
      - Return true to redact this error, or false otherwise
    - Defaults to redacting all errors

**Returns**

- dehydratedState: DehydratedState
  - This includes everything that is needed to hydrate the queryClient at a later point
  - You **should not** rely on the exact format of this response, it is not part of the public API and can change at any time
  - This result is not in serialized form, you need to do that yourself if desired

[**Limitations**](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#limitations)

Some storage systems (such as browser [Web Storage API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)) require values to be JSON serializable. If you need to dehydrate values that are not automatically serializable to JSON (like Error or undefined), you have to serialize them for yourself. Since only successful queries are included per default, to also include Errors, you have to provide shouldDehydrateQuery, e.g.:

tsx

```
// server
const state = dehydrate(client, { shouldDehydrateQuery: () => true }) // to also include Errors
const serializedState = mySerialize(state) // transform Error instances to objects

// client
const state = myDeserialize(serializedState) // transform objects back to Error instances
hydrate(client, state)

```

```
// server
const state = dehydrate(client, { shouldDehydrateQuery: () => true }) // to also include Errors
const serializedState = mySerialize(state) // transform Error instances to objects

// client
const state = myDeserialize(serializedState) // transform objects back to Error instances
hydrate(client, state)

```

[**hydrate**](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrate)

hydrate adds a previously dehydrated state into a cache.

tsx

```
import { hydrate } from '@tanstack/react-query'

hydrate(queryClient, dehydratedState, options)

```

```
import { hydrate } from '@tanstack/react-query'

hydrate(queryClient, dehydratedState, options)

```

**Options**

- client: QueryClient
  - **Required**
  - The queryClient to hydrate the state into
- dehydratedState: DehydratedState
  - **Required**
  - The state to hydrate into the client
- options: HydrateOptions
  - Optional
  - defaultOptions: DefaultOptions
    - Optional
    - mutations: MutationOptions The default mutation options to use for the hydrated mutations.
    - queries: QueryOptions The default query options to use for the hydrated queries.
    - deserializeData?: (data: any) => any A function to transform (deserialize) data before it is put into the cache.
  - queryClient?: QueryClient,
    - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

[**Limitations**](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#limitations-1)

If the queries you're trying to hydrate already exist in the queryCache, hydrate will only overwrite them if the data is newer than the data present in the cache. Otherwise, it will **not** get applied.

[**HydrationBoundary**](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrationboundary)

HydrationBoundary adds a previously dehydrated state into the queryClient that would be returned by useQueryClient(). If the client already contains data, the new queries will be intelligently merged based on update timestamp.

tsx

```
import { HydrationBoundary } from '@tanstack/react-query'

function App() {
  return <HydrationBoundary state={dehydratedState}>...</HydrationBoundary>
}

```

```
import { HydrationBoundary } from '@tanstack/react-query'

function App() {
  return <HydrationBoundary state={dehydratedState}>...</HydrationBoundary>
}

```

> Note: Only queries can be dehydrated with an HydrationBoundary.

**Options**

- state: DehydratedState
  - The state to hydrate
- options: HydrateOptions
  - Optional
  - defaultOptions: QueryOptions
    - The default query options to use for the hydrated queries.
  - queryClient?: QueryClient,
    - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/hydration.md)

[useQueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)

[ESLint Plugin Query](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Offline Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Offline  [Github](https://github.com/tanstack/query/tree/main/examples/react/offline) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/offline?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/offline?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![App.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)App.tsx

  - ![api.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)api.ts

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![movies.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)movies.ts
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'
import { worker } from './api'

worker.start()

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(
  <div style={{ padding: '16px' }}>
    <App />
  </div>,
)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import App from './App'
import { worker } from './api'

worker.start()

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(
  <div style={{ padding: '16px' }}>
    <App />
  </div>,
)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/offline?embed=1&theme=light&preset=node&file=index.tsx)

[React Router](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)

[Algolia](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=msed9)

## Suspense Infinite Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useSuspenseInfiniteQuery

tsx

```
const result = useSuspenseInfiniteQuery(options)

```

```
const result = useSuspenseInfiniteQuery(options)

```

**Options**

The same as for [useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery), except for:

- suspense
- throwOnError
- enabled
- placeholderData

**Returns**

Same object as [useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery), except that:

- data is guaranteed to be defined
- isPlaceholderData is missing
- status is always success
  - the derived flags are set accordingly.

**Caveat**

[Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation) does not work.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useSuspenseInfiniteQuery.md)

[useSuspenseQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)

[useSuspenseQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Caching
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Basic Example](https://tanstack.com/query/latest/docs/framework/react/guides/caching#basic-example)

# Caching Examples

> Please thoroughly read the [Important Defaults](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults) before reading this guide

[**Basic Example**](https://tanstack.com/query/latest/docs/framework/react/guides/caching#basic-example)

This caching example illustrates the story and lifecycle of:

- Query Instances with and without cache data
- Background Refetching
- Inactive Queries
- Garbage Collection

Let's assume we are using the default gcTime of **5 minutes** and the default staleTime of 0.

- A new instance of useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) mounts.
  - Since no other queries have been made with the \['todos'\] query key, this query will show a hard loading state and make a network request to fetch the data.
  - When the network request has completed, the returned data will be cached under the \['todos'\] key.
  - The hook will mark the data as stale after the configured staleTime (defaults to 0, or immediately).
- A second instance of useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) mounts elsewhere.
  - Since the cache already has data for the \['todos'\] key from the first query, that data is immediately returned from the cache.
  - The new instance triggers a new network request using its query function.
    - Note that regardless of whether both fetchTodos query functions are identical or not, both queries' [status](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery) are updated (including isFetching, isPending, and other related values) because they have the same query key.
  - When the request completes successfully, the cache's data under the \['todos'\] key is updated with the new data, and both instances are updated with the new data.
- Both instances of the useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) query are unmounted and no longer in use.
  - Since there are no more active instances of this query, a garbage collection timeout is set using gcTime to delete and garbage collect the query (defaults to **5 minutes**).
- Before the cache timeout has completed, another instance of useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) mounts. The query immediately returns the available cached data while the fetchTodos function is being run in the background. When it completes successfully, it will populate the cache with fresh data.
- The final instance of useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) unmounts.
- No more instances of useQuery({ queryKey: \['todos'\], queryFn: fetchTodos }) appear within **5 minutes**.
  - The cached data under the \['todos'\] key is deleted and garbage collected.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/caching.md)

[Advanced Server Rendering](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)

[Render Optimizations](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Sync Storage Persister
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Installation](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#installation)
- [Usage](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#usage)
- [Retries](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#retries)
- [Predefined strategies](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#predefined-strategies)
- [API](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#api)
- [`createSyncStoragePersister`](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#createsyncstoragepersister)
- [`Options`](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#options)
- [`serialize` and `deserialize` options](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#serialize-and-deserialize-options)

# createSyncStoragePersister

[**Installation**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#installation)

This utility comes as a separate package and is available under the '@tanstack/query-sync-storage-persister' import.

bash

```
npm install @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

```
npm install @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
pnpm add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

```
pnpm add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
yarn add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

```
yarn add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

or

bash

```
bun add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

```
bun add @tanstack/query-sync-storage-persister @tanstack/react-query-persist-client

```

[**Usage**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#usage)

- Import the createSyncStoragePersister function
- Create a new syncStoragePersister
- Pass it to the [persistQueryClient](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient) function

tsx

```
import { persistQueryClient } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const localStoragePersister = createSyncStoragePersister({
  storage: window.localStorage,
})
// const sessionStoragePersister = createSyncStoragePersister({ storage: window.sessionStorage })

persistQueryClient({
  queryClient,
  persister: localStoragePersister,
})

```

```
import { persistQueryClient } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const localStoragePersister = createSyncStoragePersister({
  storage: window.localStorage,
})
// const sessionStoragePersister = createSyncStoragePersister({ storage: window.sessionStorage })

persistQueryClient({
  queryClient,
  persister: localStoragePersister,
})

```

[**Retries**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#retries)

Persistence can fail, e.g. if the size exceeds the available space on the storage. Errors can be handled gracefully by providing a retry function to the persister.

The retry function receives the persistedClient it tried to save, as well as the error and the errorCount as input. It is expected to return a _new_ PersistedClient, with which it tries to persist again. If _undefined_ is returned, there will be no further attempt to persist.

tsx

```
export type PersistRetryer = (props: {
  persistedClient: PersistedClient
  error: Error
  errorCount: number
}) => PersistedClient | undefined

```

```
export type PersistRetryer = (props: {
  persistedClient: PersistedClient
  error: Error
  errorCount: number
}) => PersistedClient | undefined

```

[**Predefined strategies**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#predefined-strategies)

Per default, no retry will occur. You can use one of the predefined strategies to handle retries. They can be imported from '@tanstack/react-query-persist-client':

- removeOldestQuery
  - will return a new PersistedClient with the oldest query removed.

tsx

```
const localStoragePersister = createSyncStoragePersister({
  storage: window.localStorage,
  retry: removeOldestQuery,
})

```

```
const localStoragePersister = createSyncStoragePersister({
  storage: window.localStorage,
  retry: removeOldestQuery,
})

```

[**API**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#api) [**createSyncStoragePersister**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#createsyncstoragepersister)

Call this function to create a syncStoragePersister that you can use later with persistQueryClient.

tsx

```
createSyncStoragePersister(options: CreateSyncStoragePersisterOptions)

```

```
createSyncStoragePersister(options: CreateSyncStoragePersisterOptions)

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#options)

tsx

```
interface CreateSyncStoragePersisterOptions {
  /** The storage client used for setting an retrieving items from cache (window.localStorage or window.sessionStorage) */
  storage: Storage | undefined | null
  /** The key to use when storing the cache */
  key?: string
  /** To avoid spamming,
   * pass a time in ms to throttle saving the cache to disk */
  throttleTime?: number
  /** How to serialize the data to storage */
  serialize?: (client: PersistedClient) => string
  /** How to deserialize the data from storage */
  deserialize?: (cachedString: string) => PersistedClient
  /** How to retry persistence on error **/
  retry?: PersistRetryer
}

```

```
interface CreateSyncStoragePersisterOptions {
  /** The storage client used for setting an retrieving items from cache (window.localStorage or window.sessionStorage) */
  storage: Storage | undefined | null
  /** The key to use when storing the cache */
  key?: string
  /** To avoid spamming,
   * pass a time in ms to throttle saving the cache to disk */
  throttleTime?: number
  /** How to serialize the data to storage */
  serialize?: (client: PersistedClient) => string
  /** How to deserialize the data from storage */
  deserialize?: (cachedString: string) => PersistedClient
  /** How to retry persistence on error **/
  retry?: PersistRetryer
}

```

The default options are:

tsx

```
{
  key = `REACT_QUERY_OFFLINE_CACHE`,
  throttleTime = 1000,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

```
{
  key = `REACT_QUERY_OFFLINE_CACHE`,
  throttleTime = 1000,
  serialize = JSON.stringify,
  deserialize = JSON.parse,
}

```

[**serialize and deserialize options**](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister#serialize-and-deserialize-options)

There is a limit to the amount of data which can be stored in localStorage.
If you need to store more data in localStorage, you can override the serialize and deserialize functions to compress and decompress the data using a library like [lz-string](https://github.com/pieroxy/lz-string/).

tsx

```
import { QueryClient } from '@tanstack/react-query'
import { persistQueryClient } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

import { compress, decompress } from 'lz-string'

const queryClient = new QueryClient({
  defaultOptions: { queries: { staleTime: Infinity } },
})

persistQueryClient({
  queryClient: queryClient,
  persister: createSyncStoragePersister({
    storage: window.localStorage,
    serialize: (data) => compress(JSON.stringify(data)),
    deserialize: (data) => JSON.parse(decompress(data)),
  }),
  maxAge: Infinity,
})

```

```
import { QueryClient } from '@tanstack/react-query'
import { persistQueryClient } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

import { compress, decompress } from 'lz-string'

const queryClient = new QueryClient({
  defaultOptions: { queries: { staleTime: Infinity } },
})

persistQueryClient({
  queryClient: queryClient,
  persister: createSyncStoragePersister({
    storage: window.localStorage,
    serialize: (data) => compress(JSON.stringify(data)),
    deserialize: (data) => JSON.parse(decompress(data)),
  }),
  maxAge: Infinity,
})

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/plugins/createSyncStoragePersister.md)

[persistQueryClient](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)

[createAsyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## useInfiniteQuery Hook
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useInfiniteQuery

tsx

```
const {
  fetchNextPage,
  fetchPreviousPage,
  hasNextPage,
  hasPreviousPage,
  isFetchingNextPage,
  isFetchingPreviousPage,
  promise,
  ...result
} = useInfiniteQuery({
  queryKey,
  queryFn: ({ pageParam }) => fetchPage(pageParam),
  initialPageParam: 1,
  ...options,
  getNextPageParam: (lastPage, allPages, lastPageParam, allPageParams) =>
    lastPage.nextCursor,
  getPreviousPageParam: (firstPage, allPages, firstPageParam, allPageParams) =>
    firstPage.prevCursor,
})

```

```
const {
  fetchNextPage,
  fetchPreviousPage,
  hasNextPage,
  hasPreviousPage,
  isFetchingNextPage,
  isFetchingPreviousPage,
  promise,
  ...result
} = useInfiniteQuery({
  queryKey,
  queryFn: ({ pageParam }) => fetchPage(pageParam),
  initialPageParam: 1,
  ...options,
  getNextPageParam: (lastPage, allPages, lastPageParam, allPageParams) =>
    lastPage.nextCursor,
  getPreviousPageParam: (firstPage, allPages, firstPageParam, allPageParams) =>
    firstPage.prevCursor,
})

```

**Options**

The options for useInfiniteQuery are identical to the [useQuery hook](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery) with the addition of the following:

- queryFn: (context: QueryFunctionContext) => Promise<TData>
  - **Required, but only if no default query function has been defined** [defaultQueryFn](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
  - The function that the query will use to request data.
  - Receives a [QueryFunctionContext](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#queryfunctioncontext)
  - Must return a promise that will either resolve data or throw an error.
- initialPageParam: TPageParam
  - **Required**
  - The default page param to use when fetching the first page.
- getNextPageParam: (lastPage, allPages, lastPageParam, allPageParams) => TPageParam \| undefined \| null
  - **Required**
  - When new data is received for this query, this function receives both the last page of the infinite list of data and the full array of all pages, as well as pageParam information.
  - It should return a **single variable** that will be passed as the last optional parameter to your query function.
  - Return undefined or null to indicate there is no next page available.
- getPreviousPageParam: (firstPage, allPages, firstPageParam, allPageParams) => TPageParam \| undefined \| null
  - When new data is received for this query, this function receives both the first page of the infinite list of data and the full array of all pages, as well as pageParam information.
  - It should return a **single variable** that will be passed as the last optional parameter to your query function.
  - Return undefined or nullto indicate there is no previous page available.
- maxPages: number \| undefined
  - The maximum number of pages to store in the infinite query data.
  - When the maximum number of pages is reached, fetching a new page will result in the removal of either the first or last page from the pages array, depending on the specified direction.
  - If undefined or equals 0, the number of pages is unlimited
  - Default value is undefined
  - getNextPageParam and getPreviousPageParam must be properly defined if maxPages value is greater than 0 to allow fetching a page in both directions when needed.

**Returns**

The returned properties for useInfiniteQuery are identical to the [useQuery hook](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery), with the addition of the following properties and a small difference in isRefetching and isRefetchError:

- data.pages: TData\[\]
  - Array containing all pages.
- data.pageParams: unknown\[\]
  - Array containing all page params.
- isFetchingNextPage: boolean
  - Will be true while fetching the next page with fetchNextPage.
- isFetchingPreviousPage: boolean
  - Will be true while fetching the previous page with fetchPreviousPage.
- fetchNextPage: (options?: FetchNextPageOptions) => Promise<UseInfiniteQueryResult>
  - This function allows you to fetch the next "page" of results.
  - options.cancelRefetch: boolean if set to true, calling fetchNextPage repeatedly will invoke queryFn every time, whether the previous
    invocation has resolved or not. Also, the result from previous invocations will be ignored. If set to false, calling fetchNextPage
    repeatedly won't have any effect until the first invocation has resolved. Default is true.
- fetchPreviousPage: (options?: FetchPreviousPageOptions) => Promise<UseInfiniteQueryResult>
  - This function allows you to fetch the previous "page" of results.
  - options.cancelRefetch: boolean same as for fetchNextPage.
- hasNextPage: boolean
  - Will be true if there is a next page to be fetched (known via the getNextPageParam option).
- hasPreviousPage: boolean
  - Will be true if there is a previous page to be fetched (known via the getPreviousPageParam option).
- isFetchNextPageError: boolean
  - Will be true if the query failed while fetching the next page.
- isFetchPreviousPageError: boolean
  - Will be true if the query failed while fetching the previous page.
- isRefetching: boolean
  - Will be true whenever a background refetch is in-flight, which _does not_ include initial pending or fetching of next or previous page
  - Is the same as isFetching && !isPending && !isFetchingNextPage && !isFetchingPreviousPage
- isRefetchError: boolean
  - Will be true if the query failed while refetching a page.
- promise: Promise<TData>
  - A stable promise that resolves to the query result.
  - This can be used with React.use() to fetch data
  - Requires the experimental\_prefetchInRender feature flag to be enabled on the QueryClient.

Keep in mind that imperative fetch calls, such as fetchNextPage, may interfere with the default refetch behaviour, resulting in outdated data. Make sure to call these functions only in response to user actions, or add conditions like hasNextPage && !isFetching.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useInfiniteQuery.md)

[useQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)

[useMutation](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Track React Mutations
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useIsMutating

useIsMutating is an optional hook that returns the number of mutations that your application is fetching (useful for app-wide loading indicators).

tsx

```
import { useIsMutating } from '@tanstack/react-query'
// How many mutations are fetching?
const isMutating = useIsMutating()
// How many mutations matching the posts prefix are fetching?
const isMutatingPosts = useIsMutating({ mutationKey: ['posts'] })

```

```
import { useIsMutating } from '@tanstack/react-query'
// How many mutations are fetching?
const isMutating = useIsMutating()
// How many mutations matching the posts prefix are fetching?
const isMutatingPosts = useIsMutating({ mutationKey: ['posts'] })

```

**Options**

- filters?: MutationFilters: [Mutation Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters#mutation-filters)
- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

**Returns**

- isMutating: number
  - Will be the number of the mutations that your application is currently fetching.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useIsMutating.md)

[useIsFetching](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)

[useMutationState](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Options
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# queryOptions

tsx

```
queryOptions({
  queryKey,
  ...options,
})

```

```
queryOptions({
  queryKey,
  ...options,
})

```

**Options**

You can generally pass everything to queryOptions that you can also pass to [useQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery). Some options will have no effect when then forwarded to a function like queryClient.prefetchQuery, but TypeScript will still be fine with those excess properties.

- queryKey: QueryKey
  - **Required**
  - The query key to generate options for.
- experimental\_prefetchInRender?: boolean
  - Optional
  - Defaults to false
  - When set to true, queries will be prefetched during render, which can be useful for certain optimization scenarios
  - Needs to be turned on for the experimental useQuery().promise functionality

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/queryOptions.md)

[useQueryClient](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)

[infiniteQueryOptions](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Query Basics](https://tanstack.com/query/latest/docs/framework/react/guides/queries#query-basics)
- [FetchStatus](https://tanstack.com/query/latest/docs/framework/react/guides/queries#fetchstatus)
- [Why two different states?](https://tanstack.com/query/latest/docs/framework/react/guides/queries#why-two-different-states)
- [Further Reading](https://tanstack.com/query/latest/docs/framework/react/guides/queries#further-reading)

# Queries

[**Query Basics**](https://tanstack.com/query/latest/docs/framework/react/guides/queries#query-basics)

A query is a declarative dependency on an asynchronous source of data that is tied to a **unique key**. A query can be used with any Promise based method (including GET and POST methods) to fetch data from a server. If your method modifies data on the server, we recommend using [Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations) instead.

To subscribe to a query in your components or custom hooks, call the useQuery hook with at least:

- A **unique key for the query**
- A function that returns a promise that:
  - Resolves the data, or
  - Throws an error

tsx

```
import { useQuery } from '@tanstack/react-query'

function App() {
  const info = useQuery({ queryKey: ['todos'], queryFn: fetchTodoList })
}

```

```
import { useQuery } from '@tanstack/react-query'

function App() {
  const info = useQuery({ queryKey: ['todos'], queryFn: fetchTodoList })
}

```

The **unique key** you provide is used internally for refetching, caching, and sharing your queries throughout your application.

The query result returned by useQuery contains all of the information about the query that you'll need for templating and any other usage of the data:

tsx

```
const result = useQuery({ queryKey: ['todos'], queryFn: fetchTodoList })

```

```
const result = useQuery({ queryKey: ['todos'], queryFn: fetchTodoList })

```

The result object contains a few very important states you'll need to be aware of to be productive. A query can only be in one of the following states at any given moment:

- isPending or status === 'pending' \- The query has no data yet
- isError or status === 'error' \- The query encountered an error
- isSuccess or status === 'success' \- The query was successful and data is available

Beyond those primary states, more information is available depending on the state of the query:

- error \- If the query is in an isError state, the error is available via the error property.
- data \- If the query is in an isSuccess state, the data is available via the data property.
- isFetching \- In any state, if the query is fetching at any time (including background refetching) isFetching will be true.

For **most** queries, it's usually sufficient to check for the isPending state, then the isError state, then finally, assume that the data is available and render the successful state:

tsx

```
function Todos() {
  const { isPending, isError, data, error } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
  })

  if (isPending) {
    return <span>Loading...</span>
  }

  if (isError) {
    return <span>Error: {error.message}</span>
  }

  // We can assume by this point that `isSuccess === true`
  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

```

```
function Todos() {
  const { isPending, isError, data, error } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
  })

  if (isPending) {
    return <span>Loading...</span>
  }

  if (isError) {
    return <span>Error: {error.message}</span>
  }

  // We can assume by this point that `isSuccess === true`
  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

```

If booleans aren't your thing, you can always use the status state as well:

tsx

```
function Todos() {
  const { status, data, error } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
  })

  if (status === 'pending') {
    return <span>Loading...</span>
  }

  if (status === 'error') {
    return <span>Error: {error.message}</span>
  }

  // also status === 'success', but "else" logic works, too
  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

```

```
function Todos() {
  const { status, data, error } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
  })

  if (status === 'pending') {
    return <span>Loading...</span>
  }

  if (status === 'error') {
    return <span>Error: {error.message}</span>
  }

  // also status === 'success', but "else" logic works, too
  return (
    <ul>
      {data.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  )
}

```

TypeScript will also narrow the type of data correctly if you've checked for pending and error before accessing it.

[**FetchStatus**](https://tanstack.com/query/latest/docs/framework/react/guides/queries#fetchstatus)

In addition to the status field, you will also get an additional fetchStatus property with the following options:

- fetchStatus === 'fetching' \- The query is currently fetching.
- fetchStatus === 'paused' \- The query wanted to fetch, but it is paused. Read more about this in the [Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode) guide.
- fetchStatus === 'idle' \- The query is not doing anything at the moment.

[**Why two different states?**](https://tanstack.com/query/latest/docs/framework/react/guides/queries#why-two-different-states)

Background refetches and stale-while-revalidate logic make all combinations for status and fetchStatus possible. For example:

- a query in success status will usually be in idle fetchStatus, but it could also be in fetching if a background refetch is happening.
- a query that mounts and has no data will usually be in pending status and fetching fetchStatus, but it could also be paused if there is no network connection.

So keep in mind that a query can be in pending state without actually fetching data. As a rule of thumb:

- The status gives information about the data: Do we have any or not?
- The fetchStatus gives information about the queryFn: Is it running or not?

[**Further Reading**](https://tanstack.com/query/latest/docs/framework/react/guides/queries#further-reading)

For an alternative way of performing status checks, have a look at the [Community Resources](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#4-status-checks-in-react-query).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/queries.md)

[Important Defaults](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)

[Query Keys](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Prefetch Infinite Queries
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# usePrefetchInfiniteQuery

tsx

```
usePrefetchInfiniteQuery(options)

```

```
usePrefetchInfiniteQuery(options)

```

**Options**

You can pass everything to usePrefetchInfiniteQuery that you can pass to [queryClient.prefetchInfiniteQuery](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientprefetchinfinitequery). Remember that some of them are required as below:

- queryKey: QueryKey

  - **Required**
  - The query key to prefetch during render
- queryFn: (context: QueryFunctionContext) => Promise<TData>

  - **Required, but only if no default query function has been defined** See [Default Query Function](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function) for more information.
- initialPageParam: TPageParam

  - **Required**
  - The default page param to use when fetching the first page.
- getNextPageParam: (lastPage, allPages, lastPageParam, allPageParams) => TPageParam \| undefined \| null

  - **Required**
  - When new data is received for this query, this function receives both the last page of the infinite list of data and the full array of all pages, as well as pageParam information.
  - It should return a **single variable** that will be passed as the last optional parameter to your query function.
  - Return undefined or null to indicate there is no next page available.
- **Returns**


The usePrefetchInfiniteQuery does not return anything, it should be used just to fire a prefetch during render, before a suspense boundary that wraps a component that uses [useSuspenseInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/usePrefetchInfiniteQuery.md)

[usePrefetchQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)

[QueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Algolia Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Algolia  [Github](https://github.com/tanstack/query/tree/main/examples/react/algolia) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/algolia?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/algolia?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - ![App.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)App.tsx

  - ![Search.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)Search.tsx

  - ![SearchResults.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)SearchResults.tsx

  - ![algolia.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)algolia.ts

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![styles.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)styles.css

  - ![useAlgolia.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)useAlgolia.ts
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![eslint.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)eslint.config.js

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import ReactDOM from 'react-dom/client'

import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import ReactDOM from 'react-dom/client'

import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/algolia?embed=1&theme=light&preset=node&file=index.tsx)

[Offline Queries and Mutations](https://tanstack.com/query/latest/docs/framework/react/examples/offline)

[Shadow DOM](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=znlrb)

## Query Client Provider
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# QueryClientProvider

Use the QueryClientProvider component to connect and provide a QueryClient to your application:

tsx

```
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

const queryClient = new QueryClient()

function App() {
  return <QueryClientProvider client={queryClient}>...</QueryClientProvider>
}

```

```
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'

const queryClient = new QueryClient()

function App() {
  return <QueryClientProvider client={queryClient}>...</QueryClientProvider>
}

```

**Options**

- client: QueryClient
  - **Required**
  - the QueryClient instance to provide

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/QueryClientProvider.md)

[useSuspenseQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)

[useQueryClient](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Query Error Reset
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# QueryErrorResetBoundary

When using **suspense** or **throwOnError** in your queries, you need a way to let queries know that you want to try again when re-rendering after some error occurred. With the QueryErrorResetBoundary component you can reset any query errors within the boundaries of the component.

tsx

```
import { QueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => (
  <QueryErrorResetBoundary>
    {({ reset }) => (
      <ErrorBoundary
        onReset={reset}
        fallbackRender={({ resetErrorBoundary }) => (
          <div>
            There was an error!
            <Button onClick={() => resetErrorBoundary()}>Try again</Button>
          </div>
        )}
      >
        <Page />
      </ErrorBoundary>
    )}
  </QueryErrorResetBoundary>
)

```

```
import { QueryErrorResetBoundary } from '@tanstack/react-query'
import { ErrorBoundary } from 'react-error-boundary'

const App = () => (
  <QueryErrorResetBoundary>
    {({ reset }) => (
      <ErrorBoundary
        onReset={reset}
        fallbackRender={({ resetErrorBoundary }) => (
          <div>
            There was an error!
            <Button onClick={() => resetErrorBoundary()}>Try again</Button>
          </div>
        )}
      >
        <Page />
      </ErrorBoundary>
    )}
  </QueryErrorResetBoundary>
)

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/QueryErrorResetBoundary.md)

[usePrefetchInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)

[useQueryErrorResetBoundary](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React useQuery Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useQuery

tsx

```
const {
  data,
  dataUpdatedAt,
  error,
  errorUpdatedAt,
  failureCount,
  failureReason,
  fetchStatus,
  isError,
  isFetched,
  isFetchedAfterMount,
  isFetching,
  isInitialLoading,
  isLoading,
  isLoadingError,
  isPaused,
  isPending,
  isPlaceholderData,
  isRefetchError,
  isRefetching,
  isStale,
  isSuccess,
  promise,
  refetch,
  status,
} = useQuery(
  {
    queryKey,
    queryFn,
    gcTime,
    enabled,
    networkMode,
    initialData,
    initialDataUpdatedAt,
    meta,
    notifyOnChangeProps,
    placeholderData,
    queryKeyHashFn,
    refetchInterval,
    refetchIntervalInBackground,
    refetchOnMount,
    refetchOnReconnect,
    refetchOnWindowFocus,
    retry,
    retryOnMount,
    retryDelay,
    select,
    staleTime,
    structuralSharing,
    subscribed,
    throwOnError,
  },
  queryClient,
)

```

```
const {
  data,
  dataUpdatedAt,
  error,
  errorUpdatedAt,
  failureCount,
  failureReason,
  fetchStatus,
  isError,
  isFetched,
  isFetchedAfterMount,
  isFetching,
  isInitialLoading,
  isLoading,
  isLoadingError,
  isPaused,
  isPending,
  isPlaceholderData,
  isRefetchError,
  isRefetching,
  isStale,
  isSuccess,
  promise,
  refetch,
  status,
} = useQuery(
  {
    queryKey,
    queryFn,
    gcTime,
    enabled,
    networkMode,
    initialData,
    initialDataUpdatedAt,
    meta,
    notifyOnChangeProps,
    placeholderData,
    queryKeyHashFn,
    refetchInterval,
    refetchIntervalInBackground,
    refetchOnMount,
    refetchOnReconnect,
    refetchOnWindowFocus,
    retry,
    retryOnMount,
    retryDelay,
    select,
    staleTime,
    structuralSharing,
    subscribed,
    throwOnError,
  },
  queryClient,
)

```

**Parameter1 (Options)**

- queryKey: unknown\[\]
  - **Required**
  - The query key to use for this query.
  - The query key will be hashed into a stable hash. See [Query Keys](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys) for more information.
  - The query will automatically update when this key changes (as long as enabled is not set to false).
- queryFn: (context: QueryFunctionContext) => Promise<TData>
  - **Required, but only if no default query function has been defined** See [Default Query Function](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function) for more information.
  - The function that the query will use to request data.
  - Receives a [QueryFunctionContext](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#queryfunctioncontext)
  - Must return a promise that will either resolve data or throw an error. The data cannot be undefined.
- enabled: boolean \| (query: Query) => boolean
  - Set this to false to disable this query from automatically running.
  - Can be used for [Dependent Queries](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries).
- networkMode: 'online' \| 'always' \| 'offlineFirst
  - optional
  - defaults to 'online'
  - see [Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode) for more information.
- retry: boolean \| number \| (failureCount: number, error: TError) => boolean
  - If false, failed queries will not retry by default.
  - If true, failed queries will retry infinitely.
  - If set to a number, e.g. 3, failed queries will retry until the failed query count meets that number.
  - defaults to 3 on the client and 0 on the server
- retryOnMount: boolean
  - If set to false, the query will not be retried on mount if it contains an error. Defaults to true.
- retryDelay: number \| (retryAttempt: number, error: TError) => number
  - This function receives a retryAttempt integer and the actual Error and returns the delay to apply before the next attempt in milliseconds.
  - A function like attempt => Math.min(attempt > 1 ? 2 \*\* attempt \* 1000 : 1000, 30 \* 1000) applies exponential backoff.
  - A function like attempt => attempt \* 1000 applies linear backoff.
- staleTime: number \| ((query: Query) => number)
  - Optional
  - Defaults to 0
  - The time in milliseconds after which data is considered stale. This value only applies to the hook it is defined on.
  - If set to Infinity, the data will never be considered stale
  - If set to a function, the function will be executed with the query to compute a staleTime.
- gcTime: number \| Infinity
  - Defaults to 5 \* 60 \* 1000 (5 minutes) or Infinity during SSR
  - The time in milliseconds that unused/inactive cache data remains in memory. When a query's cache becomes unused or inactive, that cache data will be garbage collected after this duration. When different garbage collection times are specified, the longest one will be used.
  - Note: the maximum allowed time is about 24 days. See [more](https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value).
  - If set to Infinity, will disable garbage collection
- queryKeyHashFn: (queryKey: QueryKey) => string
  - Optional
  - If specified, this function is used to hash the queryKey to a string.
- refetchInterval: number \| false \| ((query: Query) => number \| false \| undefined)
  - Optional
  - If set to a number, all queries will continuously refetch at this frequency in milliseconds
  - If set to a function, the function will be executed with the query to compute a frequency
- refetchIntervalInBackground: boolean
  - Optional
  - If set to true, queries that are set to continuously refetch with a refetchInterval will continue to refetch while their tab/window is in the background
- refetchOnMount: boolean \| "always" \| ((query: Query) => boolean \| "always")
  - Optional
  - Defaults to true
  - If set to true, the query will refetch on mount if the data is stale.
  - If set to false, the query will not refetch on mount.
  - If set to "always", the query will always refetch on mount.
  - If set to a function, the function will be executed with the query to compute the value
- refetchOnWindowFocus: boolean \| "always" \| ((query: Query) => boolean \| "always")
  - Optional
  - Defaults to true
  - If set to true, the query will refetch on window focus if the data is stale.
  - If set to false, the query will not refetch on window focus.
  - If set to "always", the query will always refetch on window focus.
  - If set to a function, the function will be executed with the query to compute the value
- refetchOnReconnect: boolean \| "always" \| ((query: Query) => boolean \| "always")
  - Optional
  - Defaults to true
  - If set to true, the query will refetch on reconnect if the data is stale.
  - If set to false, the query will not refetch on reconnect.
  - If set to "always", the query will always refetch on reconnect.
  - If set to a function, the function will be executed with the query to compute the value
- notifyOnChangeProps: string\[\] \| "all" \| (() => string\[\] \| "all" \| undefined)
  - Optional
  - If set, the component will only re-render if any of the listed properties change.
  - If set to \['data', 'error'\] for example, the component will only re-render when the data or error properties change.
  - If set to "all", the component will opt-out of smart tracking and re-render whenever a query is updated.
  - If set to a function, the function will be executed to compute the list of properties.
  - By default, access to properties will be tracked, and the component will only re-render when one of the tracked properties change.
- select: (data: TData) => unknown
  - Optional
  - This option can be used to transform or select a part of the data returned by the query function. It affects the returned data value, but does not affect what gets stored in the query cache.
  - The select function will only run if data changed, or if the reference to the select function itself changes. To optimize, wrap the function in useCallback.
- initialData: TData \| () => TData
  - Optional
  - If set, this value will be used as the initial data for the query cache (as long as the query hasn't been created or cached yet)
  - If set to a function, the function will be called **once** during the shared/root query initialization, and be expected to synchronously return the initialData
  - Initial data is considered stale by default unless a staleTime has been set.
  - initialData **is persisted** to the cache
- initialDataUpdatedAt: number \| (() => number \| undefined)
  - Optional
  - If set, this value will be used as the time (in milliseconds) of when the initialData itself was last updated.
- placeholderData: TData \| (previousValue: TData \| undefined; previousQuery: Query \| undefined,) => TData
  - Optional
  - If set, this value will be used as the placeholder data for this particular query observer while the query is still in the pending state.
  - placeholderData is **not persisted** to the cache
  - If you provide a function for placeholderData, as a first argument you will receive previously watched query data if available, and the second argument will be the complete previousQuery instance.
- structuralSharing: boolean \| (oldData: unknown \| undefined, newData: unknown) => unknown)
  - Optional
  - Defaults to true
  - If set to false, structural sharing between query results will be disabled.
  - If set to a function, the old and new data values will be passed through this function, which should combine them into resolved data for the query. This way, you can retain references from the old data to improve performance even when that data contains non-serializable values.
- subscribed: boolean
  - Optional
  - Defaults to true
  - If set to false, this instance of useQuery will not be subscribed to the cache. This means it won't trigger the queryFn on its own, and it won't receive updates if data gets into cache by other means.
- throwOnError: undefined \| boolean \| (error: TError, query: Query) => boolean
  - Set this to true if you want errors to be thrown in the render phase and propagate to the nearest error boundary
  - Set this to false to disable suspense's default behavior of throwing errors to the error boundary.
  - If set to a function, it will be passed the error and the query, and it should return a boolean indicating whether to show the error in an error boundary (true) or return the error as state (false)
- meta: Record<string, unknown>
  - Optional
  - If set, stores additional information on the query cache entry that can be used as needed. It will be accessible wherever the query is available, and is also part of the QueryFunctionContext provided to the queryFn.

**Parameter2 (QueryClient)**

- queryClient?: QueryClient,
  - Use this to use a custom QueryClient. Otherwise, the one from the nearest context will be used.

**Returns**

- status: QueryStatus
  - Will be:
    - pending if there's no cached data and no query attempt was finished yet.
    - error if the query attempt resulted in an error. The corresponding error property has the error received from the attempted fetch
    - success if the query has received a response with no errors and is ready to display its data. The corresponding data property on the query is the data received from the successful fetch or if the query's enabled property is set to false and has not been fetched yet data is the first initialData supplied to the query on initialization.
- isPending: boolean
  - A derived boolean from the status variable above, provided for convenience.
- isSuccess: boolean
  - A derived boolean from the status variable above, provided for convenience.
- isError: boolean
  - A derived boolean from the status variable above, provided for convenience.
- isLoadingError: boolean
  - Will be true if the query failed while fetching for the first time.
- isRefetchError: boolean
  - Will be true if the query failed while refetching.
- data: TData
  - Defaults to undefined.
  - The last successfully resolved data for the query.
- dataUpdatedAt: number
  - The timestamp for when the query most recently returned the status as "success".
- error: null \| TError
  - Defaults to null
  - The error object for the query, if an error was thrown.
- errorUpdatedAt: number
  - The timestamp for when the query most recently returned the status as "error".
- isStale: boolean
  - Will be true if the data in the cache is invalidated or if the data is older than the given staleTime.
- isPlaceholderData: boolean
  - Will be true if the data shown is the placeholder data.
- isFetched: boolean
  - Will be true if the query has been fetched.
- isFetchedAfterMount: boolean
  - Will be true if the query has been fetched after the component mounted.
  - This property can be used to not show any previously cached data.
- fetchStatus: FetchStatus
  - fetching: Is true whenever the queryFn is executing, which includes initial pending as well as background refetches.
  - paused: The query wanted to fetch, but has been paused.
  - idle: The query is not fetching.
  - see [Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode) for more information.
- isFetching: boolean
  - A derived boolean from the fetchStatus variable above, provided for convenience.
- isPaused: boolean
  - A derived boolean from the fetchStatus variable above, provided for convenience.
- isRefetching: boolean
  - Is true whenever a background refetch is in-flight, which _does not_ include initial pending
  - Is the same as isFetching && !isPending
- isLoading: boolean
  - Is true whenever the first fetch for a query is in-flight
  - Is the same as isFetching && isPending
- isInitialLoading: boolean
  - **deprecated**
  - An alias for isLoading, will be removed in the next major version.
- failureCount: number
  - The failure count for the query.
  - Incremented every time the query fails.
  - Reset to 0 when the query succeeds.
- failureReason: null \| TError
  - The failure reason for the query retry.
  - Reset to null when the query succeeds.
- errorUpdateCount: number
  - The sum of all errors.
- refetch: (options: { throwOnError: boolean, cancelRefetch: boolean }) => Promise<UseQueryResult>
  - A function to manually refetch the query.
  - If the query errors, the error will only be logged. If you want an error to be thrown, pass the throwOnError: true option
  - cancelRefetch?: boolean
    - Defaults to true
      - Per default, a currently running request will be cancelled before a new request is made
    - When set to false, no refetch will be made if there is already a request running.
- promise: Promise<TData>
  - A stable promise that will be resolved with the data of the query.
  - Requires the experimental\_prefetchInRender feature flag to be enabled on the QueryClient.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useQuery.md)

[notifyManager](https://tanstack.com/query/latest/docs/reference/notifyManager)

[useQueries](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://2cccc37627a49dde968d04d671e362ca.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Simple  [Github](https://github.com/tanstack/query/tree/main/examples/react/simple) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/simple?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/simple?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryDevtools />
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data, isFetching } = useQuery({
    queryKey: ['repoData'],
    queryFn: async () => {
      const response = await fetch(
        'https://api.github.com/repos/TanStack/query',
      )
      return await response.json()
    },
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <h1>{data.full_name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
      <div>{isFetching ? 'Updating...' : ''}</div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryDevtools />
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data, isFetching } = useQuery({
    queryKey: ['repoData'],
    queryFn: async () => {
      const response = await fetch(
        'https://api.github.com/repos/TanStack/query',
      )
      return await response.json()
    },
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <h1>{data.full_name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
      <div>{isFetching ? 'Updating...' : ''}</div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/simple?embed=1&theme=light&preset=node&file=index.tsx)

[Community Projects](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

[Basic](https://tanstack.com/query/latest/docs/framework/react/examples/basic)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=f9jwb)

## useSuspenseQuery Hook
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# useSuspenseQuery

tsx

```
const result = useSuspenseQuery(options)

```

```
const result = useSuspenseQuery(options)

```

**Options**

The same as for [useQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery), except for:

- throwOnError
- enabled
- placeholderData

**Returns**

Same object as [useQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery), except that:

- data is guaranteed to be defined
- isPlaceholderData is missing
- status is always success
  - the derived flags are set accordingly.

**Caveat**

[Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation) does not work.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/useSuspenseQuery.md)

[useMutationState](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)

[useSuspenseInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Pagination Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Pagination  [Github](https://github.com/tanstack/query/tree/main/examples/react/pagination) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/pagination?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/pagination?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - pages

    - api

    - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![next-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)next-env.d.ts

- ![next.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)next.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import React from 'react'
import {
  QueryClient,
  QueryClientProvider,
  keepPreviousData,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

const fetchProjects = async (
  page = 0,
): Promise<{
  projects: Array<{ name: string; id: number }>
  hasMore: boolean
}> => {
  const response = await fetch(`/api/projects?page=${page}`)
  return await response.json()
}

function Example() {
  const queryClient = useQueryClient()
  const [page, setPage] = React.useState(0)

  const { status, data, error, isFetching, isPlaceholderData } = useQuery({
    queryKey: ['projects', page],
    queryFn: () => fetchProjects(page),
    placeholderData: keepPreviousData,
    staleTime: 5000,
  })

  // Prefetch the next page!
  React.useEffect(() => {
    if (!isPlaceholderData && data?.hasMore) {
      queryClient.prefetchQuery({
        queryKey: ['projects', page + 1],
        queryFn: () => fetchProjects(page + 1),
      })
    }
  }, [data, isPlaceholderData, page, queryClient])

  return (
    <div>
      <p>
        In this example, each page of data remains visible as the next page is
        fetched. The buttons and capability to proceed to the next page are also
        supressed until the next page cursor is known. Each page is cached as a
        normal query too, so when going to previous pages, you'll see them
        instantaneously while they are also refetched invisibly in the
        background.
      </p>
      {status === 'pending' ? (
        <div>Loading...</div>
      ) : status === 'error' ? (
        <div>Error: {error.message}</div>
      ) : (
        // `data` will either resolve to the latest page's data
        // or if fetching a new page, the last successful page's data
        <div>
          {data.projects.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </div>
      )}
      <div>Current Page: {page + 1}</div>
      <button
        onClick={() => setPage((old) => Math.max(old - 1, 0))}
        disabled={page === 0}
      >
        Previous Page
      </button>{' '}
      <button
        onClick={() => {
          setPage((old) => (data?.hasMore ? old + 1 : old))
        }}
        disabled={isPlaceholderData || !data?.hasMore}
      >
        Next Page
      </button>
      {
        // Since the last page's data potentially sticks around between page requests,
        // we can use `isFetching` to show a background loading
        // indicator since our `status === 'pending'` state won't be triggered
        isFetching ? <span> Loading...</span> : null
      }{' '}
      <ReactQueryDevtools initialIsOpen />
    </div>
  )
}

```

```
import React from 'react'
import {
  QueryClient,
  QueryClientProvider,
  keepPreviousData,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

const fetchProjects = async (
  page = 0,
): Promise<{
  projects: Array<{ name: string; id: number }>
  hasMore: boolean
}> => {
  const response = await fetch(`/api/projects?page=${page}`)
  return await response.json()
}

function Example() {
  const queryClient = useQueryClient()
  const [page, setPage] = React.useState(0)

  const { status, data, error, isFetching, isPlaceholderData } = useQuery({
    queryKey: ['projects', page],
    queryFn: () => fetchProjects(page),
    placeholderData: keepPreviousData,
    staleTime: 5000,
  })

  // Prefetch the next page!
  React.useEffect(() => {
    if (!isPlaceholderData && data?.hasMore) {
      queryClient.prefetchQuery({
        queryKey: ['projects', page + 1],
        queryFn: () => fetchProjects(page + 1),
      })
    }
  }, [data, isPlaceholderData, page, queryClient])

  return (
    <div>
      <p>
        In this example, each page of data remains visible as the next page is
        fetched. The buttons and capability to proceed to the next page are also
        supressed until the next page cursor is known. Each page is cached as a
        normal query too, so when going to previous pages, you'll see them
        instantaneously while they are also refetched invisibly in the
        background.
      </p>
      {status === 'pending' ? (
        <div>Loading...</div>
      ) : status === 'error' ? (
        <div>Error: {error.message}</div>
      ) : (
        // `data` will either resolve to the latest page's data
        // or if fetching a new page, the last successful page's data
        <div>
          {data.projects.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </div>
      )}
      <div>Current Page: {page + 1}</div>
      <button
        onClick={() => setPage((old) => Math.max(old - 1, 0))}
        disabled={page === 0}
      >
        Previous Page
      </button>{' '}
      <button
        onClick={() => {
          setPage((old) => (data?.hasMore ? old + 1 : old))
        }}
        disabled={isPlaceholderData || !data?.hasMore}
      >
        Next Page
      </button>
      {
        // Since the last page's data potentially sticks around between page requests,
        // we can use `isFetching` to show a background loading
        // indicator since our `status === 'pending'` state won't be triggered
        isFetching ? <span> Loading...</span> : null
      }{' '}
      <ReactQueryDevtools initialIsOpen />
    </div>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/pagination?embed=1&theme=light&preset=node&file=index.tsx)

[Optimistic Updates (Cache)](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)

[Load-More & Infinite Scroll](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=u3pr9)

## React Query Suspense
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Suspense  [Github](https://github.com/tanstack/query/tree/main/examples/react/suspense) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/suspense?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/suspense?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - components

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![queries.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)queries.ts
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import 'font-awesome/css/font-awesome.min.css'
import React, { lazy } from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  QueryErrorResetBoundary,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { ErrorBoundary } from 'react-error-boundary'

import { fetchProjects } from './queries'

import Button from './components/Button'

const Projects = lazy(() => import('./components/Projects'))
const Project = lazy(() => import('./components/Project'))

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: 0,
    },
  },
})

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const queryClient = useQueryClient()
  const [showProjects, setShowProjects] = React.useState(false)
  const [activeProject, setActiveProject] = React.useState<string | null>(null)

  return (
    <>
      <Button
        onClick={() => {
          setShowProjects((old) => {
            if (!old) {
              queryClient.prefetchQuery({
                queryKey: ['projects'],
                queryFn: fetchProjects,
              })
            }
            return !old
          })
        }}
      >
        {showProjects ? 'Hide Projects' : 'Show Projects'}
      </Button>

      <hr />

      <QueryErrorResetBoundary>
        {({ reset }) => (
          <ErrorBoundary
            fallbackRender={({ error, resetErrorBoundary }) => (
              <div>
                There was an error!{' '}
                <Button onClick={() => resetErrorBoundary()}>Try again</Button>
                <pre style={{ whiteSpace: 'normal' }}>{error.message}</pre>
              </div>
            )}
            onReset={reset}
          >
            <React.Suspense fallback={<h1>Loading projects...</h1>}>
              {showProjects ? (
                activeProject ? (
                  <Project
                    activeProject={activeProject}
                    setActiveProject={setActiveProject}
                  />
                ) : (
                  <Projects setActiveProject={setActiveProject} />
                )
              ) : null}
            </React.Suspense>
          </ErrorBoundary>
        )}
      </QueryErrorResetBoundary>
      <ReactQueryDevtools initialIsOpen />
    </>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import 'font-awesome/css/font-awesome.min.css'
import React, { lazy } from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  QueryErrorResetBoundary,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { ErrorBoundary } from 'react-error-boundary'

import { fetchProjects } from './queries'

import Button from './components/Button'

const Projects = lazy(() => import('./components/Projects'))
const Project = lazy(() => import('./components/Project'))

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retry: 0,
    },
  },
})

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const queryClient = useQueryClient()
  const [showProjects, setShowProjects] = React.useState(false)
  const [activeProject, setActiveProject] = React.useState<string | null>(null)

  return (
    <>
      <Button
        onClick={() => {
          setShowProjects((old) => {
            if (!old) {
              queryClient.prefetchQuery({
                queryKey: ['projects'],
                queryFn: fetchProjects,
              })
            }
            return !old
          })
        }}
      >
        {showProjects ? 'Hide Projects' : 'Show Projects'}
      </Button>

      <hr />

      <QueryErrorResetBoundary>
        {({ reset }) => (
          <ErrorBoundary
            fallbackRender={({ error, resetErrorBoundary }) => (
              <div>
                There was an error!{' '}
                <Button onClick={() => resetErrorBoundary()}>Try again</Button>
                <pre style={{ whiteSpace: 'normal' }}>{error.message}</pre>
              </div>
            )}
            onReset={reset}
          >
            <React.Suspense fallback={<h1>Loading projects...</h1>}>
              {showProjects ? (
                activeProject ? (
                  <Project
                    activeProject={activeProject}
                    setActiveProject={setActiveProject}
                  />
                ) : (
                  <Projects setActiveProject={setActiveProject} />
                )
              ) : null}
            </React.Suspense>
          </ErrorBoundary>
        )}
      </QueryErrorResetBoundary>
      <ReactQueryDevtools initialIsOpen />
    </>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/suspense?embed=1&theme=light&preset=node&file=index.tsx)

[Infinite query with Max pages](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)

[Default Query Function](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=rmd38)

## Persist Query Client
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Build Persisters](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#build-persisters)
- [How It Works](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#how-it-works)
- [Cache Busting](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#cache-busting)
- [Removal](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#removal)
- [API](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#api)
- [`persistQueryClientSave`](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientsave)
- [`persistQueryClientSubscribe`](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientsubscribe)
- [`persistQueryClientRestore`](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientrestore)
- [`persistQueryClient`](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclient)
- [`Options`](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#options)
- [Usage with React](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#usage-with-react)
- [PersistQueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientprovider)
- [Props](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#props)
- [useIsRestoring](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#useisrestoring)
- [Persisters](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persisters)
- [Persisters Interface](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persisters-interface)
- [Building A Persister](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#building-a-persister)

# persistQueryClient

This is set of utilities for interacting with "persisters" which save your queryClient for later use. Different **persisters** can be used to store your client and cache to many different storage layers.

[**Build Persisters**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#build-persisters)

- [createSyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [create a custom persister](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#persisters)

[**How It Works**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#how-it-works)

**IMPORTANT** \- for persist to work properly, you probably want to pass QueryClient a gcTime value to override the default during hydration (as shown above).

If it is not set when creating the QueryClient instance, it will default to 300000 (5 minutes) for hydration, and the stored cache will be discarded after 5 minutes of inactivity. This is the default garbage collection behavior.

It should be set as the same value or higher than persistQueryClient's maxAge option. E.g. if maxAge is 24 hours (the default) then gcTime should be 24 hours or higher. If lower than maxAge, garbage collection will kick in and discard the stored cache earlier than expected.

You can also pass it Infinity to disable garbage collection behavior entirely.

Due to a Javascript limitation, the maximum allowed gcTime is about 24 days (see [more](https://developer.mozilla.org/en-US/docs/Web/API/setTimeout#maximum_delay_value)).

tsx

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

```

```
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

```

[**Cache Busting**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#cache-busting)

Sometimes you may make changes to your application or data that immediately invalidate any and all cached data. If and when this happens, you can pass a buster string option. If the cache that is found does not also have that buster string, it will be discarded. The following several functions accept this option:

tsx

```
persistQueryClient({ queryClient, persister, buster: buildHash })
persistQueryClientSave({ queryClient, persister, buster: buildHash })
persistQueryClientRestore({ queryClient, persister, buster: buildHash })

```

```
persistQueryClient({ queryClient, persister, buster: buildHash })
persistQueryClientSave({ queryClient, persister, buster: buildHash })
persistQueryClientRestore({ queryClient, persister, buster: buildHash })

```

[**Removal**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#removal)

If data is found to be any of the following:

1. expired (see maxAge)
2. busted (see buster)
3. error (ex: throws ...)
4. empty (ex: undefined)

the persister removeClient() is called and the cache is immediately discarded.

[**API**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#api) [**persistQueryClientSave**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientsave)

- Your query/mutation are [dehydrated](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#dehydrate) and stored by the persister you provided.
- createSyncStoragePersister and createAsyncStoragePersister throttle this action to happen at most every 1 second to save on potentially expensive writes. Review their documentation to see how to customize their throttle timing.

You can use this to explicitly persist the cache at the moment(s) you choose.

tsx

```
persistQueryClientSave({
  queryClient,
  persister,
  buster = '',
  dehydrateOptions = undefined,
})

```

```
persistQueryClientSave({
  queryClient,
  persister,
  buster = '',
  dehydrateOptions = undefined,
})

```

[**persistQueryClientSubscribe**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientsubscribe)

Runs persistQueryClientSave whenever the cache changes for your queryClient. For example: you might initiate the subscribe when a user logs-in and checks "Remember me".

- It returns an unsubscribe function which you can use to discontinue the monitor; ending the updates to the persisted cache.
- If you want to erase the persisted cache after the unsubscribe, you can send a new buster to persistQueryClientRestore which will trigger the persister's removeClient function and discard the persisted cache.

tsx

```
persistQueryClientSubscribe({
  queryClient,
  persister,
  buster = '',
  dehydrateOptions = undefined,
})

```

```
persistQueryClientSubscribe({
  queryClient,
  persister,
  buster = '',
  dehydrateOptions = undefined,
})

```

[**persistQueryClientRestore**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientrestore)

- Attempts to [hydrate](https://tanstack.com/query/latest/docs/framework/react/reference/hydration#hydrate) a previously persisted dehydrated query/mutation cache from the persister back into the query cache of the passed query client.
- If a cache is found that is older than the maxAge (which by default is 24 hours), it will be discarded. This timing can be customized as you see fit.

You can use this to restore the cache at moment(s) you choose.

tsx

```
persistQueryClientRestore({
  queryClient,
  persister,
  maxAge = 1000 * 60 * 60 * 24, // 24 hours
  buster = '',
  hydrateOptions = undefined,
})

```

```
persistQueryClientRestore({
  queryClient,
  persister,
  maxAge = 1000 * 60 * 60 * 24, // 24 hours
  buster = '',
  hydrateOptions = undefined,
})

```

[**persistQueryClient**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclient)

Takes the following actions:

1. Immediately restores any persisted cache ( [see persistQueryClientRestore](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#persistqueryclientrestore))
2. Subscribes to the query cache and returns the unsubscribe function ( [see persistQueryClientSubscribe](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#persistqueryclientsubscribe)).

This functionality is preserved from version 3.x.

tsx

```
persistQueryClient({
  queryClient,
  persister,
  maxAge = 1000 * 60 * 60 * 24, // 24 hours
  buster = '',
  hydrateOptions = undefined,
  dehydrateOptions = undefined,
})

```

```
persistQueryClient({
  queryClient,
  persister,
  maxAge = 1000 * 60 * 60 * 24, // 24 hours
  buster = '',
  hydrateOptions = undefined,
  dehydrateOptions = undefined,
})

```

[**Options**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#options)

All options available are as follows:

tsx

```
interface PersistQueryClientOptions {
  /** The QueryClient to persist */
  queryClient: QueryClient
  /** The Persister interface for storing and restoring the cache
   * to/from a persisted location */
  persister: Persister
  /** The max-allowed age of the cache in milliseconds.
   * If a persisted cache is found that is older than this
   * time, it will be **silently** discarded
   * (defaults to 24 hours) */
  maxAge?: number
  /** A unique string that can be used to forcefully
   * invalidate existing caches if they do not share the same buster string */
  buster?: string
  /** The options passed to the hydrate function
   * Not used on `persistQueryClientSave` or `persistQueryClientSubscribe` */
  hydrateOptions?: HydrateOptions
  /** The options passed to the dehydrate function
   * Not used on `persistQueryClientRestore` */
  dehydrateOptions?: DehydrateOptions
}

```

```
interface PersistQueryClientOptions {
  /** The QueryClient to persist */
  queryClient: QueryClient
  /** The Persister interface for storing and restoring the cache
   * to/from a persisted location */
  persister: Persister
  /** The max-allowed age of the cache in milliseconds.
   * If a persisted cache is found that is older than this
   * time, it will be **silently** discarded
   * (defaults to 24 hours) */
  maxAge?: number
  /** A unique string that can be used to forcefully
   * invalidate existing caches if they do not share the same buster string */
  buster?: string
  /** The options passed to the hydrate function
   * Not used on `persistQueryClientSave` or `persistQueryClientSubscribe` */
  hydrateOptions?: HydrateOptions
  /** The options passed to the dehydrate function
   * Not used on `persistQueryClientRestore` */
  dehydrateOptions?: DehydrateOptions
}

```

There are actually three interfaces available:

- PersistedQueryClientSaveOptions is used for persistQueryClientSave and persistQueryClientSubscribe (doesn't use hydrateOptions).
- PersistedQueryClientRestoreOptions is used for persistQueryClientRestore (doesn't use dehydrateOptions).
- PersistQueryClientOptions is used for persistQueryClient

[**Usage with React**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#usage-with-react)

[persistQueryClient](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#persistQueryClient) will try to restore the cache and automatically subscribes to further changes, thus syncing your client to the provided storage.

However, restoring is asynchronous, because all persisters are async by nature, which means that if you render your App while you are restoring, you might get into race conditions if a query mounts and fetches at the same time.

Further, if you subscribe to changes outside of the React component lifecycle, you have no way of unsubscribing:

tsx

```
// 🚨 never unsubscribes from syncing
persistQueryClient({
  queryClient,
  persister: localStoragePersister,
})

// 🚨 happens at the same time as restoring
ReactDOM.createRoot(rootElement).render(<App />)

```

```
// 🚨 never unsubscribes from syncing
persistQueryClient({
  queryClient,
  persister: localStoragePersister,
})

// 🚨 happens at the same time as restoring
ReactDOM.createRoot(rootElement).render(<App />)

```

[**PersistQueryClientProvider**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persistqueryclientprovider)

For this use-case, you can use the PersistQueryClientProvider. It will make sure to subscribe / unsubscribe correctly according to the React component lifecycle, and it will also make sure that queries will not start fetching while we are still restoring. Queries will still render though, they will just be put into fetchingState: 'idle' until data has been restored. Then, they will refetch unless the restored data is _fresh_ enough, and _initialData_ will also be respected. It can be used _instead of_ the normal [QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider):

tsx

```
import { PersistQueryClientProvider } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const persister = createSyncStoragePersister({
  storage: window.localStorage,
})

ReactDOM.createRoot(rootElement).render(
  <PersistQueryClientProvider
    client={queryClient}
    persistOptions={{ persister }}
  >
    <App />
  </PersistQueryClientProvider>,
)

```

```
import { PersistQueryClientProvider } from '@tanstack/react-query-persist-client'
import { createSyncStoragePersister } from '@tanstack/query-sync-storage-persister'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      gcTime: 1000 * 60 * 60 * 24, // 24 hours
    },
  },
})

const persister = createSyncStoragePersister({
  storage: window.localStorage,
})

ReactDOM.createRoot(rootElement).render(
  <PersistQueryClientProvider
    client={queryClient}
    persistOptions={{ persister }}
  >
    <App />
  </PersistQueryClientProvider>,
)

```

[**Props**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#props)

PersistQueryClientProvider takes the same props as [QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider), and additionally:

- persistOptions: PersistQueryClientOptions
  - all [options](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#options) you can pass to [persistQueryClient](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient/#persistqueryclient) minus the QueryClient itself
- onSuccess?: () => Promise<unknown> \| unknown
  - optional
  - will be called when the initial restore is finished
  - can be used to [resumePausedMutations](https://tanstack.com/query/latest/docs/reference/QueryClient#queryclientresumepausedmutations)
  - if a Promise is returned, it will be awaited; restoring is seen as ongoing until then

[**useIsRestoring**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#useisrestoring)

If you are using the PersistQueryClientProvider, you can also use the useIsRestoring hook alongside it to check if a restore is currently in progress. useQuery and friends also check this internally to avoid race conditions between the restore and mounting queries.

[**Persisters**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persisters) [**Persisters Interface**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#persisters-interface)

Persisters have the following interfaces:

tsx

```
export interface Persister {
  persistClient(persistClient: PersistedClient): Promisable<void>
  restoreClient(): Promisable<PersistedClient | undefined>
  removeClient(): Promisable<void>
}

```

```
export interface Persister {
  persistClient(persistClient: PersistedClient): Promisable<void>
  restoreClient(): Promisable<PersistedClient | undefined>
  removeClient(): Promisable<void>
}

```

Persisted Client entries have the following interface:

tsx

```
export interface PersistedClient {
  timestamp: number
  buster: string
  cacheState: any
}

```

```
export interface PersistedClient {
  timestamp: number
  buster: string
  cacheState: any
}

```

You can import these (to build a persister):

tsx

```
import {
  PersistedClient,
  Persister,
} from '@tanstack/react-query-persist-client'

```

```
import {
  PersistedClient,
  Persister,
} from '@tanstack/react-query-persist-client'

```

[**Building A Persister**](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient#building-a-persister)

You can persist however you like. Here is an example of how to build an [Indexed DB](https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API) persister. Compared to Web Storage API, Indexed DB is faster, stores more than 5MB, and doesn't require serialization. That means it can readily store Javascript native types, such as Date and File.

tsx

```
import { get, set, del } from 'idb-keyval'
import {
  PersistedClient,
  Persister,
} from '@tanstack/react-query-persist-client'

/**
 * Creates an Indexed DB persister
 * @see https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API
 */
export function createIDBPersister(idbValidKey: IDBValidKey = 'reactQuery') {
  return {
    persistClient: async (client: PersistedClient) => {
      await set(idbValidKey, client)
    },
    restoreClient: async () => {
      return await get<PersistedClient>(idbValidKey)
    },
    removeClient: async () => {
      await del(idbValidKey)
    },
  } satisfies Persister
}

```

```
import { get, set, del } from 'idb-keyval'
import {
  PersistedClient,
  Persister,
} from '@tanstack/react-query-persist-client'

/**
 * Creates an Indexed DB persister
 * @see https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API
 */
export function createIDBPersister(idbValidKey: IDBValidKey = 'reactQuery') {
  return {
    persistClient: async (client: PersistedClient) => {
      await set(idbValidKey, client)
    },
    restoreClient: async () => {
      return await get<PersistedClient>(idbValidKey)
    },
    removeClient: async () => {
      await del(idbValidKey)
    },
  } satisfies Persister
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/plugins/persistQueryClient.md)

[Chat example (streaming)](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

[createSyncStoragePersister](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Chat Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Chat  [Github](https://github.com/tanstack/query/tree/main/examples/react/chat) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/chat?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/chat?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![chat.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)chat.ts

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![message.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)message.tsx

  - ![style.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)style.css
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

import './style.css'
import { useState } from 'react'
import { chatQueryOptions } from './chat'
import { Message } from './message'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryDevtools />
      <Example />
    </QueryClientProvider>
  )
}

function ChatMessage({ question }: { question: string }) {
  const { error, data = [], isFetching } = useQuery(chatQueryOptions(question))

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <Message message={{ content: question, isQuestion: true }} />
      <Message
        inProgress={isFetching}
        message={{ content: data.join(' '), isQuestion: false }}
      />
    </div>
  )
}

function Example() {
  const [questions, setQuestions] = useState<Array<string>>([])
  const [currentQuestion, setCurrentQuestion] = useState('')

  const submitMessage = () => {
    setQuestions([...questions, currentQuestion])
    setCurrentQuestion('')
  }

  return (
    <div className="flex flex-col h-screen max-w-3xl mx-auto p-4">
      <h1 className="text-3xl font-bold text-gray-800">
        TanStack Chat Example
      </h1>
      <div className="overflow-y-auto mb-4 space-y-4">
        {questions.map((question) => (
          <ChatMessage key={question} question={question} />
        ))}
      </div>

      <div className="flex items-center space-x-2">
        <input
          className="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"
          value={currentQuestion}
          onChange={(e) => setCurrentQuestion(e.target.value)}
          onKeyDown={(e) => {
            if (e.key === 'Enter') {
              submitMessage()
            }
          }}
          placeholder="Type your message..."
        />
        <button
          onClick={submitMessage}
          disabled={!currentQuestion.trim()}
          className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-2xl shadow-md transition"
        >
          <span>Send</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z" />
            <path d="m21.854 2.147-10.94 10.939" />
          </svg>
        </button>
      </div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

import './style.css'
import { useState } from 'react'
import { chatQueryOptions } from './chat'
import { Message } from './message'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryDevtools />
      <Example />
    </QueryClientProvider>
  )
}

function ChatMessage({ question }: { question: string }) {
  const { error, data = [], isFetching } = useQuery(chatQueryOptions(question))

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div>
      <Message message={{ content: question, isQuestion: true }} />
      <Message
        inProgress={isFetching}
        message={{ content: data.join(' '), isQuestion: false }}
      />
    </div>
  )
}

function Example() {
  const [questions, setQuestions] = useState<Array<string>>([])
  const [currentQuestion, setCurrentQuestion] = useState('')

  const submitMessage = () => {
    setQuestions([...questions, currentQuestion])
    setCurrentQuestion('')
  }

  return (
    <div className="flex flex-col h-screen max-w-3xl mx-auto p-4">
      <h1 className="text-3xl font-bold text-gray-800">
        TanStack Chat Example
      </h1>
      <div className="overflow-y-auto mb-4 space-y-4">
        {questions.map((question) => (
          <ChatMessage key={question} question={question} />
        ))}
      </div>

      <div className="flex items-center space-x-2">
        <input
          className="flex-1 p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-100"
          value={currentQuestion}
          onChange={(e) => setCurrentQuestion(e.target.value)}
          onKeyDown={(e) => {
            if (e.key === 'Enter') {
              submitMessage()
            }
          }}
          placeholder="Type your message..."
        />
        <button
          onClick={submitMessage}
          disabled={!currentQuestion.trim()}
          className="flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-2xl shadow-md transition"
        >
          <span>Send</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z" />
            <path d="m21.854 2.147-10.94 10.939" />
          </svg>
        </button>
      </div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/chat?embed=1&theme=light&preset=node&file=index.tsx)

[Devtools Embedded Panel](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)

[persistQueryClient](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=by2tk)

## Infinite Query Options
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# infiniteQueryOptions

tsx

```
infiniteQueryOptions({
  queryKey,
  ...options,
})

```

```
infiniteQueryOptions({
  queryKey,
  ...options,
})

```

**Options**

You can generally pass everything to infiniteQueryOptions that you can also pass to [useInfiniteQuery](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery). Some options will have no effect when then forwarded to a function like queryClient.prefetchInfiniteQuery, but TypeScript will still be fine with those excess properties.

- queryKey: QueryKey
  - **Required**
  - The query key to generate options for.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/reference/infiniteQueryOptions.md)

[queryOptions](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)

[usePrefetchQuery](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/simple: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Query Invalidation Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Query Matching with `invalidateQueries`](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation#query-matching-with-invalidatequeries)

# Query Invalidation

Waiting for queries to become stale before they are fetched again doesn't always work, especially when you know for a fact that a query's data is out of date because of something the user has done. For that purpose, the QueryClient has an invalidateQueries method that lets you intelligently mark queries as stale and potentially refetch them too!

tsx

```
// Invalidate every query in the cache
queryClient.invalidateQueries()
// Invalidate every query with a key that starts with `todos`
queryClient.invalidateQueries({ queryKey: ['todos'] })

```

```
// Invalidate every query in the cache
queryClient.invalidateQueries()
// Invalidate every query with a key that starts with `todos`
queryClient.invalidateQueries({ queryKey: ['todos'] })

```

> Note: Where other libraries that use normalized caches would attempt to update local queries with the new data either imperatively or via schema inference, TanStack Query gives you the tools to avoid the manual labor that comes with maintaining normalized caches and instead prescribes **targeted invalidation, background-refetching and ultimately atomic updates**.

When a query is invalidated with invalidateQueries, two things happen:

- It is marked as stale. This stale state overrides any staleTime configurations being used in useQuery or related hooks
- If the query is currently being rendered via useQuery or related hooks, it will also be refetched in the background

[**Query Matching with invalidateQueries**](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation#query-matching-with-invalidatequeries)

When using APIs like invalidateQueries and removeQueries (and others that support partial query matching), you can match multiple queries by their prefix, or get really specific and match an exact query. For information on the types of filters you can use, please see [Query Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters#query-filters).

In this example, we can use the todos prefix to invalidate any queries that start with todos in their query key:

tsx

```
import { useQuery, useQueryClient } from '@tanstack/react-query'

// Get QueryClient from the context
const queryClient = useQueryClient()

queryClient.invalidateQueries({ queryKey: ['todos'] })

// Both queries below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})
const todoListQuery = useQuery({
  queryKey: ['todos', { page: 1 }],
  queryFn: fetchTodoList,
})

```

```
import { useQuery, useQueryClient } from '@tanstack/react-query'

// Get QueryClient from the context
const queryClient = useQueryClient()

queryClient.invalidateQueries({ queryKey: ['todos'] })

// Both queries below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})
const todoListQuery = useQuery({
  queryKey: ['todos', { page: 1 }],
  queryFn: fetchTodoList,
})

```

You can even invalidate queries with specific variables by passing a more specific query key to the invalidateQueries method:

tsx

```
queryClient.invalidateQueries({
  queryKey: ['todos', { type: 'done' }],
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { type: 'done' }],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})

```

```
queryClient.invalidateQueries({
  queryKey: ['todos', { type: 'done' }],
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { type: 'done' }],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})

```

The invalidateQueries API is very flexible, so even if you want to **only** invalidate todos queries that don't have any more variables or subkeys, you can pass an exact: true option to the invalidateQueries method:

tsx

```
queryClient.invalidateQueries({
  queryKey: ['todos'],
  exact: true,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { type: 'done' }],
  queryFn: fetchTodoList,
})

```

```
queryClient.invalidateQueries({
  queryKey: ['todos'],
  exact: true,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { type: 'done' }],
  queryFn: fetchTodoList,
})

```

If you find yourself wanting **even more** granularity, you can pass a predicate function to the invalidateQueries method. This function will receive each Query instance from the query cache and allow you to return true or false for whether you want to invalidate that query:

tsx

```
queryClient.invalidateQueries({
  predicate: (query) =>
    query.queryKey[0] === 'todos' && query.queryKey[1]?.version >= 10,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 20 }],
  queryFn: fetchTodoList,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 10 }],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 5 }],
  queryFn: fetchTodoList,
})

```

```
queryClient.invalidateQueries({
  predicate: (query) =>
    query.queryKey[0] === 'todos' && query.queryKey[1]?.version >= 10,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 20 }],
  queryFn: fetchTodoList,
})

// The query below will be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 10 }],
  queryFn: fetchTodoList,
})

// However, the following query below will NOT be invalidated
const todoListQuery = useQuery({
  queryKey: ['todos', { version: 5 }],
  queryFn: fetchTodoList,
})

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-invalidation.md)

[Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)

[Invalidation from Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=evbsmi)[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## Disabling Queries in React
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Lazy Queries](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#lazy-queries)
- [isLoading (Previously: `isInitialLoading`)](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#isloading-previously-isinitialloading)
- [Typesafe disabling of queries using `skipToken`](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#typesafe-disabling-of-queries-using-skiptoken)

# Disabling/Pausing Queries

If you ever want to disable a query from automatically running, you can use the enabled = false option. The enabled option also accepts a callback that returns a boolean.

When enabled is false:

- If the query has cached data, then the query will be initialized in the status === 'success' or isSuccess state.
- If the query does not have cached data, then the query will start in the status === 'pending' and fetchStatus === 'idle' state.
- The query will not automatically fetch on mount.
- The query will not automatically refetch in the background.
- The query will ignore query client invalidateQueries and refetchQueries calls that would normally result in the query refetching.
- refetch returned from useQuery can be used to manually trigger the query to fetch. However, it will not work with skipToken.

> TypeScript users may prefer to use [skipToken](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries/#typesafe-disabling-of-queries-using-skiptoken) as an alternative to enabled = false.

tsx

```
function Todos() {
  const { isLoading, isError, data, error, refetch, isFetching } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
    enabled: false,
  })

  return (
    <div>
      <button onClick={() => refetch()}>Fetch Todos</button>

      {data ? (
        <>
          <ul>
            {data.map((todo) => (
              <li key={todo.id}>{todo.title}</li>
            ))}
          </ul>
        </>
      ) : isError ? (
        <span>Error: {error.message}</span>
      ) : isLoading ? (
        <span>Loading...</span>
      ) : (
        <span>Not ready ...</span>
      )}

      <div>{isFetching ? 'Fetching...' : null}</div>
    </div>
  )
}

```

```
function Todos() {
  const { isLoading, isError, data, error, refetch, isFetching } = useQuery({
    queryKey: ['todos'],
    queryFn: fetchTodoList,
    enabled: false,
  })

  return (
    <div>
      <button onClick={() => refetch()}>Fetch Todos</button>

      {data ? (
        <>
          <ul>
            {data.map((todo) => (
              <li key={todo.id}>{todo.title}</li>
            ))}
          </ul>
        </>
      ) : isError ? (
        <span>Error: {error.message}</span>
      ) : isLoading ? (
        <span>Loading...</span>
      ) : (
        <span>Not ready ...</span>
      )}

      <div>{isFetching ? 'Fetching...' : null}</div>
    </div>
  )
}

```

Permanently disabling a query opts out of many great features that TanStack Query has to offer (like background refetches), and it's also not the idiomatic way. It takes you from the declarative approach (defining dependencies when your query should run) into an imperative mode (fetch whenever I click here). It is also not possible to pass parameters to refetch. Oftentimes, all you want is a lazy query that defers the initial fetch:

[**Lazy Queries**](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#lazy-queries)

The enabled option can not only be used to permanently disable a query, but also to enable / disable it at a later time. A good example would be a filter form where you only want to fire off the first request once the user has entered a filter value:

tsx

```
function Todos() {
  const [filter, setFilter] = React.useState('')

  const { data } = useQuery({
    queryKey: ['todos', filter],
    queryFn: () => fetchTodos(filter),
    // ⬇️ disabled as long as the filter is empty
    enabled: !!filter,
  })

  return (
    <div>
      // 🚀 applying the filter will enable and execute the query
      <FiltersForm onApply={setFilter} />
      {data && <TodosTable data={data} />}
    </div>
  )
}

```

```
function Todos() {
  const [filter, setFilter] = React.useState('')

  const { data } = useQuery({
    queryKey: ['todos', filter],
    queryFn: () => fetchTodos(filter),
    // ⬇️ disabled as long as the filter is empty
    enabled: !!filter,
  })

  return (
    <div>
      // 🚀 applying the filter will enable and execute the query
      <FiltersForm onApply={setFilter} />
      {data && <TodosTable data={data} />}
    </div>
  )
}

```

[**isLoading (Previously: isInitialLoading)**](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#isloading-previously-isinitialloading)

Lazy queries will be in status: 'pending' right from the start because pending means that there is no data yet. This is technically true, however, since we are not currently fetching any data (as the query is not _enabled_), it also means you likely cannot use this flag to show a loading spinner.

If you are using disabled or lazy queries, you can use the isLoading flag instead. It's a derived flag that is computed from:

isPending && isFetching

so it will only be true if the query is currently fetching for the first time.

[**Typesafe disabling of queries using skipToken**](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries#typesafe-disabling-of-queries-using-skiptoken)

If you are using TypeScript, you can use the skipToken to disable a query. This is useful when you want to disable a query based on a condition, but you still want to keep the query to be type safe.

> IMPORTANT: refetch from useQuery will not work with skipToken. Other than that, skipToken works the same as enabled: false.

tsx

```
import { skipToken, useQuery } from '@tanstack/react-query'

function Todos() {
  const [filter, setFilter] = React.useState<string | undefined>()

  const { data } = useQuery({
    queryKey: ['todos', filter],
    // ⬇️ disabled as long as the filter is undefined or empty
    queryFn: filter ? () => fetchTodos(filter) : skipToken,
  })

  return (
    <div>
      // 🚀 applying the filter will enable and execute the query
      <FiltersForm onApply={setFilter} />
      {data && <TodosTable data={data} />}
    </div>
  )
}

```

```
import { skipToken, useQuery } from '@tanstack/react-query'

function Todos() {
  const [filter, setFilter] = React.useState<string | undefined>()

  const { data } = useQuery({
    queryKey: ['todos', filter],
    // ⬇️ disabled as long as the filter is undefined or empty
    queryFn: filter ? () => fetchTodos(filter) : skipToken,
  })

  return (
    <div>
      // 🚀 applying the filter will enable and execute the query
      <FiltersForm onApply={setFilter} />
      {data && <TodosTable data={data} />}
    </div>
  )
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/disabling-queries.md)

[Window Focus Refetching](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)

[Query Retries](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Scroll Restoration Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# Scroll Restoration

Traditionally, when you navigate to a previously visited page on a web browser, you would find that the page would be scrolled to the exact position where you were before you navigated away from that page. This is called **scroll restoration** and has been in a bit of a regression since web applications have started moving towards client side data fetching. With TanStack Query however, that's no longer the case.

Out of the box, "scroll restoration" for all queries (including paginated and infinite queries) Just Works™️ in TanStack Query. The reason for this is that query results are cached and able to be retrieved synchronously when a query is rendered. As long as your queries are being cached long enough (the default time is 5 minutes) and have not been garbage collected, scroll restoration will work out of the box all the time.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/scroll-restoration.md)

[Query Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)

[Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Functions
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Handling and Throwing Errors](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#handling-and-throwing-errors)
- [Usage with `fetch` and other clients that do not throw by default](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#usage-with-fetch-and-other-clients-that-do-not-throw-by-default)
- [Query Function Variables](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#query-function-variables)
- [QueryFunctionContext](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#queryfunctioncontext)

# Query Functions

A query function can be literally any function that **returns a promise**. The promise that is returned should either **resolve the data** or **throw an error**.

All of the following are valid query function configurations:

tsx

```
useQuery({ queryKey: ['todos'], queryFn: fetchAllTodos })
useQuery({ queryKey: ['todos', todoId], queryFn: () => fetchTodoById(todoId) })
useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    const data = await fetchTodoById(todoId)
    return data
  },
})
useQuery({
  queryKey: ['todos', todoId],
  queryFn: ({ queryKey }) => fetchTodoById(queryKey[1]),
})

```

```
useQuery({ queryKey: ['todos'], queryFn: fetchAllTodos })
useQuery({ queryKey: ['todos', todoId], queryFn: () => fetchTodoById(todoId) })
useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    const data = await fetchTodoById(todoId)
    return data
  },
})
useQuery({
  queryKey: ['todos', todoId],
  queryFn: ({ queryKey }) => fetchTodoById(queryKey[1]),
})

```

[**Handling and Throwing Errors**](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#handling-and-throwing-errors)

For TanStack Query to determine a query has errored, the query function **must throw** or return a **rejected Promise**. Any error that is thrown in the query function will be persisted on the error state of the query.

tsx

```
const { error } = useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    if (somethingGoesWrong) {
      throw new Error('Oh no!')
    }
    if (somethingElseGoesWrong) {
      return Promise.reject(new Error('Oh no!'))
    }

    return data
  },
})

```

```
const { error } = useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    if (somethingGoesWrong) {
      throw new Error('Oh no!')
    }
    if (somethingElseGoesWrong) {
      return Promise.reject(new Error('Oh no!'))
    }

    return data
  },
})

```

[**Usage with fetch and other clients that do not throw by default**](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#usage-with-fetch-and-other-clients-that-do-not-throw-by-default)

While most utilities like axios or graphql-request automatically throw errors for unsuccessful HTTP calls, some utilities like fetch do not throw errors by default. If that's the case, you'll need to throw them on your own. Here is a simple way to do that with the popular fetch API:

tsx

```
useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    const response = await fetch('/todos/' + todoId)
    if (!response.ok) {
      throw new Error('Network response was not ok')
    }
    return response.json()
  },
})

```

```
useQuery({
  queryKey: ['todos', todoId],
  queryFn: async () => {
    const response = await fetch('/todos/' + todoId)
    if (!response.ok) {
      throw new Error('Network response was not ok')
    }
    return response.json()
  },
})

```

[**Query Function Variables**](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#query-function-variables)

Query keys are not just for uniquely identifying the data you are fetching, but are also conveniently passed into your query function as part of the QueryFunctionContext. While not always necessary, this makes it possible to extract your query functions if needed:

tsx

```
function Todos({ status, page }) {
  const result = useQuery({
    queryKey: ['todos', { status, page }],
    queryFn: fetchTodoList,
  })
}

// Access the key, status and page variables in your query function!
function fetchTodoList({ queryKey }) {
  const [_key, { status, page }] = queryKey
  return new Promise()
}

```

```
function Todos({ status, page }) {
  const result = useQuery({
    queryKey: ['todos', { status, page }],
    queryFn: fetchTodoList,
  })
}

// Access the key, status and page variables in your query function!
function fetchTodoList({ queryKey }) {
  const [_key, { status, page }] = queryKey
  return new Promise()
}

```

[**QueryFunctionContext**](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions#queryfunctioncontext)

The QueryFunctionContext is the object passed to each query function. It consists of:

- queryKey: QueryKey: [Query Keys](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- client: QueryClient: [QueryClient](https://tanstack.com/query/latest/docs/reference/QueryClient)
- signal?: AbortSignal
  - [AbortSignal](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal) instance provided by TanStack Query
  - Can be used for [Query Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- meta: Record<string, unknown> \| undefined
  - an optional field you can fill with additional information about your query

Additionally, [Infinite Queries](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries) get the following options passed:

- pageParam: TPageParam
  - the page parameter used to fetch the current page
- direction: 'forward' \| 'backward'
  - **deprecated**
  - the direction of the current page fetch
  - To get access to the direction of the current page fetch, please add a direction to pageParam from getNextPageParam and getPreviousPageParam.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-functions.md)

[Query Keys](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)

[Query Options](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Paginated Queries Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Better Paginated Queries with `placeholderData`](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries#better-paginated-queries-with-placeholderdata)
- [Lagging Infinite Query results with `placeholderData`](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries#lagging-infinite-query-results-with-placeholderdata)

# Paginated / Lagged Queries

Rendering paginated data is a very common UI pattern and in TanStack Query, it "just works" by including the page information in the query key:

tsx

```
const result = useQuery({
  queryKey: ['projects', page],
  queryFn: fetchProjects,
})

```

```
const result = useQuery({
  queryKey: ['projects', page],
  queryFn: fetchProjects,
})

```

However, if you run this simple example, you might notice something strange:

**The UI jumps in and out of the success and pending states because each new page is treated like a brand new query.**

This experience is not optimal and unfortunately is how many tools today insist on working. But not TanStack Query! As you may have guessed, TanStack Query comes with an awesome feature called placeholderData that allows us to get around this.

[**Better Paginated Queries with placeholderData**](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries#better-paginated-queries-with-placeholderdata)

Consider the following example where we would ideally want to increment a pageIndex (or cursor) for a query. If we were to use useQuery, **it would still technically work fine**, but the UI would jump in and out of the success and pending states as different queries are created and destroyed for each page or cursor. By setting placeholderData to (previousData) => previousData or keepPreviousData function exported from TanStack Query, we get a few new things:

- **The data from the last successful fetch is available while new data is being requested, even though the query key has changed**.
- When the new data arrives, the previous data is seamlessly swapped to show the new data.
- isPlaceholderData is made available to know what data the query is currently providing you

tsx

```
import { keepPreviousData, useQuery } from '@tanstack/react-query'
import React from 'react'

function Todos() {
  const [page, setPage] = React.useState(0)

  const fetchProjects = (page = 0) =>
    fetch('/api/projects?page=' + page).then((res) => res.json())

  const { isPending, isError, error, data, isFetching, isPlaceholderData } =
    useQuery({
      queryKey: ['projects', page],
      queryFn: () => fetchProjects(page),
      placeholderData: keepPreviousData,
    })

  return (
    <div>
      {isPending ? (
        <div>Loading...</div>
      ) : isError ? (
        <div>Error: {error.message}</div>
      ) : (
        <div>
          {data.projects.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </div>
      )}
      <span>Current Page: {page + 1}</span>
      <button
        onClick={() => setPage((old) => Math.max(old - 1, 0))}
        disabled={page === 0}
      >
        Previous Page
      </button>
      <button
        onClick={() => {
          if (!isPlaceholderData && data.hasMore) {
            setPage((old) => old + 1)
          }
        }}
        // Disable the Next Page button until we know a next page is available
        disabled={isPlaceholderData || !data?.hasMore}
      >
        Next Page
      </button>
      {isFetching ? <span> Loading...</span> : null}
    </div>
  )
}

```

```
import { keepPreviousData, useQuery } from '@tanstack/react-query'
import React from 'react'

function Todos() {
  const [page, setPage] = React.useState(0)

  const fetchProjects = (page = 0) =>
    fetch('/api/projects?page=' + page).then((res) => res.json())

  const { isPending, isError, error, data, isFetching, isPlaceholderData } =
    useQuery({
      queryKey: ['projects', page],
      queryFn: () => fetchProjects(page),
      placeholderData: keepPreviousData,
    })

  return (
    <div>
      {isPending ? (
        <div>Loading...</div>
      ) : isError ? (
        <div>Error: {error.message}</div>
      ) : (
        <div>
          {data.projects.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </div>
      )}
      <span>Current Page: {page + 1}</span>
      <button
        onClick={() => setPage((old) => Math.max(old - 1, 0))}
        disabled={page === 0}
      >
        Previous Page
      </button>
      <button
        onClick={() => {
          if (!isPlaceholderData && data.hasMore) {
            setPage((old) => old + 1)
          }
        }}
        // Disable the Next Page button until we know a next page is available
        disabled={isPlaceholderData || !data?.hasMore}
      >
        Next Page
      </button>
      {isFetching ? <span> Loading...</span> : null}
    </div>
  )
}

```

[**Lagging Infinite Query results with placeholderData**](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries#lagging-infinite-query-results-with-placeholderdata)

While not as common, the placeholderData option also works flawlessly with the useInfiniteQuery hook, so you can seamlessly allow your users to continue to see cached data while infinite query keys change over time.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/paginated-queries.md)

[Query Retries](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)

[Infinite Queries](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Query Cancellation Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Default behavior](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#default-behavior)
- [Using `fetch`](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-fetch)
- [Using `axios`](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-axios-v0220) [v0.22.0+](https://github.com/axios/axios/releases/tag/v0.22.0)
- [Using `axios` with version lower than v0.22.0](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-axios-with-version-lower-than-v0220)
- [Using `XMLHttpRequest`](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-xmlhttprequest)
- [Using `graphql-request`](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-graphql-request)
- [Using `graphql-request` with version lower than v4.0.0](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-graphql-request-with-version-lower-than-v400)
- [Manual Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#manual-cancellation)
- [Limitations](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#limitations)

# Query Cancellation

TanStack Query provides each query function with an [AbortSignal instance](https://developer.mozilla.org/docs/Web/API/AbortSignal). When a query becomes out-of-date or inactive, this signal will become aborted. This means that all queries are cancellable, and you can respond to the cancellation inside your query function if desired. The best part about this is that it allows you to continue to use normal async/await syntax while getting all the benefits of automatic cancellation.

The AbortController API is available in [most runtime environments](https://developer.mozilla.org/docs/Web/API/AbortController#browser_compatibility), but if your runtime environment does not support it, you will need to provide a polyfill. There are [several available](https://www.npmjs.com/search?q=abortcontroller%20polyfill).

[**Default behavior**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#default-behavior)

By default, queries that unmount or become unused before their promises are resolved are _not_ cancelled. This means that after the promise has resolved, the resulting data will be available in the cache. This is helpful if you've started receiving a query, but then unmount the component before it finishes. If you mount the component again and the query has not been garbage collected yet, data will be available.

However, if you consume the AbortSignal, the Promise will be cancelled (e.g. aborting the fetch) and therefore, also the Query must be cancelled. Cancelling the query will result in its state being _reverted_ to its previous state.

[**Using fetch**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-fetch)

tsx

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: async ({ signal }) => {
    const todosResponse = await fetch('/todos', {
      // Pass the signal to one fetch
      signal,
    })
    const todos = await todosResponse.json()

    const todoDetails = todos.map(async ({ details }) => {
      const response = await fetch(details, {
        // Or pass it to several
        signal,
      })
      return response.json()
    })

    return Promise.all(todoDetails)
  },
})

```

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: async ({ signal }) => {
    const todosResponse = await fetch('/todos', {
      // Pass the signal to one fetch
      signal,
    })
    const todos = await todosResponse.json()

    const todoDetails = todos.map(async ({ details }) => {
      const response = await fetch(details, {
        // Or pass it to several
        signal,
      })
      return response.json()
    })

    return Promise.all(todoDetails)
  },
})

```

## [Using axios](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation\#using-axios-v0220) [v0.22.0+](https://github.com/axios/axios/releases/tag/v0.22.0)

tsx

```
import axios from 'axios'

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) =>
    axios.get('/todos', {
      // Pass the signal to `axios`
      signal,
    }),
})

```

```
import axios from 'axios'

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) =>
    axios.get('/todos', {
      // Pass the signal to `axios`
      signal,
    }),
})

```

[**Using axios with version lower than v0.22.0**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-axios-with-version-lower-than-v0220)

tsx

```
import axios from 'axios'

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    // Create a new CancelToken source for this request
    const CancelToken = axios.CancelToken
    const source = CancelToken.source()

    const promise = axios.get('/todos', {
      // Pass the source token to your request
      cancelToken: source.token,
    })

    // Cancel the request if TanStack Query signals to abort
    signal?.addEventListener('abort', () => {
      source.cancel('Query was cancelled by TanStack Query')
    })

    return promise
  },
})

```

```
import axios from 'axios'

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    // Create a new CancelToken source for this request
    const CancelToken = axios.CancelToken
    const source = CancelToken.source()

    const promise = axios.get('/todos', {
      // Pass the source token to your request
      cancelToken: source.token,
    })

    // Cancel the request if TanStack Query signals to abort
    signal?.addEventListener('abort', () => {
      source.cancel('Query was cancelled by TanStack Query')
    })

    return promise
  },
})

```

[**Using XMLHttpRequest**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-xmlhttprequest)

tsx

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    return new Promise((resolve, reject) => {
      var oReq = new XMLHttpRequest()
      oReq.addEventListener('load', () => {
        resolve(JSON.parse(oReq.responseText))
      })
      signal?.addEventListener('abort', () => {
        oReq.abort()
        reject()
      })
      oReq.open('GET', '/todos')
      oReq.send()
    })
  },
})

```

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    return new Promise((resolve, reject) => {
      var oReq = new XMLHttpRequest()
      oReq.addEventListener('load', () => {
        resolve(JSON.parse(oReq.responseText))
      })
      signal?.addEventListener('abort', () => {
        oReq.abort()
        reject()
      })
      oReq.open('GET', '/todos')
      oReq.send()
    })
  },
})

```

[**Using graphql-request**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-graphql-request)

An AbortSignal can be set in the client request method.

tsx

```
const client = new GraphQLClient(endpoint)

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    client.request({ document: query, signal })
  },
})

```

```
const client = new GraphQLClient(endpoint)

const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    client.request({ document: query, signal })
  },
})

```

[**Using graphql-request with version lower than v4.0.0**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#using-graphql-request-with-version-lower-than-v400)

An AbortSignal can be set in the GraphQLClient constructor.

tsx

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    const client = new GraphQLClient(endpoint, {
      signal,
    })
    return client.request(query, variables)
  },
})

```

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: ({ signal }) => {
    const client = new GraphQLClient(endpoint, {
      signal,
    })
    return client.request(query, variables)
  },
})

```

[**Manual Cancellation**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#manual-cancellation)

You might want to cancel a query manually. For example, if the request takes a long time to finish, you can allow the user to click a cancel button to stop the request. To do this, you just need to call queryClient.cancelQueries({ queryKey }), which will cancel the query and revert it back to its previous state. If you have consumed the signal passed to the query function, TanStack Query will additionally also cancel the Promise.

tsx

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: async ({ signal }) => {
    const resp = await fetch('/todos', { signal })
    return resp.json()
  },
})

const queryClient = useQueryClient()

return (
  <button
    onClick={(e) => {
      e.preventDefault()
      queryClient.cancelQueries({ queryKey: ['todos'] })
    }}
  >
    Cancel
  </button>
)

```

```
const query = useQuery({
  queryKey: ['todos'],
  queryFn: async ({ signal }) => {
    const resp = await fetch('/todos', { signal })
    return resp.json()
  },
})

const queryClient = useQueryClient()

return (
  <button
    onClick={(e) => {
      e.preventDefault()
      queryClient.cancelQueries({ queryKey: ['todos'] })
    }}
  >
    Cancel
  </button>
)

```

[**Limitations**](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation#limitations)

Cancellation does not work when working with Suspense hooks: useSuspenseQuery, useSuspenseQueries and useSuspenseInfiniteQuery.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-cancellation.md)

[Optimistic Updates](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)

[Scroll Restoration](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## TanStack Query Defaults
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Further Reading](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults#further-reading)

# Important Defaults

Out of the box, TanStack Query is configured with **aggressive but sane** defaults. **Sometimes these defaults can catch new users off guard or make learning/debugging difficult if they are unknown by the user.** Keep them in mind as you continue to learn and use TanStack Query:

- Query instances via useQuery or useInfiniteQuery by default **consider cached data as stale**.

> To change this behavior, you can configure your queries both globally and per-query using the staleTime option. Specifying a longer staleTime means queries will not refetch their data as often

- Stale queries are refetched automatically in the background when:
  - New instances of the query mount
  - The window is refocused
  - The network is reconnected
  - The query is optionally configured with a refetch interval

> To change this functionality, you can use options like refetchOnMount, refetchOnWindowFocus, refetchOnReconnect and refetchInterval.

- Query results that have no more active instances of useQuery, useInfiniteQuery or query observers are labeled as "inactive" and remain in the cache in case they are used again at a later time.

- By default, "inactive" queries are garbage collected after **5 minutes**.


> To change this, you can alter the default gcTime for queries to something other than 1000 \* 60 \* 5 milliseconds.

- Queries that fail are **silently retried 3 times, with exponential backoff delay** before capturing and displaying an error to the UI.


> To change this, you can alter the default retry and retryDelay options for queries to something other than 3 and the default exponential backoff function.

- Query results by default are **structurally shared to detect if data has actually changed** and if not, **the data reference remains unchanged** to better help with value stabilization with regards to useMemo and useCallback. If this concept sounds foreign, then don't worry about it! 99.9% of the time you will not need to disable this and it makes your app more performant at zero cost to you.


> Structural sharing only works with JSON-compatible values, any other value types will always be considered as changed. If you are seeing performance issues because of large responses for example, you can disable this feature with the config.structuralSharing flag. If you are dealing with non-JSON compatible values in your query responses and still want to detect if data has changed or not, you can provide your own custom function as config.structuralSharing to compute a value from the old and new responses, retaining references as required.


[**Further Reading**](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults#further-reading)

Have a look at the following articles from our Community Resources for further explanations of the defaults:

- [Practical React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#1-practical-react-query)
- [React Query as a State Manager](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#10-react-query-as-a-state-manager)

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/important-defaults.md)

[React Native](https://tanstack.com/query/latest/docs/framework/react/react-native)

[Queries](https://tanstack.com/query/latest/docs/framework/react/guides/queries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Shadow DOM
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Shadow Dom  [Github](https://github.com/tanstack/query/tree/main/examples/react/shadow-dom) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/shadow-dom?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/shadow-dom?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - ![DogList.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)DogList.tsx

  - ![index.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)index.css

  - ![main.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)main.tsx

  - ![vite-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite-env.d.ts
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![eslint.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)eslint.config.js

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import './index.css'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { DogList } from './DogList'

const appRoot = document.getElementById('root')

if (appRoot) {
  const queryClient = new QueryClient()
  const shadowRoot = appRoot.attachShadow({ mode: 'open' })
  const root = ReactDOM.createRoot(shadowRoot)

  root.render(
    <React.StrictMode>
      <QueryClientProvider client={queryClient}>
        <div
          style={{
            width: '100vw',
            padding: '30px',
          }}
        >
          <h2>Dog Breeds</h2>
          <DogList />
        </div>
        <ReactQueryDevtools
          initialIsOpen={false}
          buttonPosition="bottom-left"
          shadowDOMTarget={appRoot.shadowRoot!}
        />
      </QueryClientProvider>
    </React.StrictMode>,
  )
}

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import './index.css'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { DogList } from './DogList'

const appRoot = document.getElementById('root')

if (appRoot) {
  const queryClient = new QueryClient()
  const shadowRoot = appRoot.attachShadow({ mode: 'open' })
  const root = ReactDOM.createRoot(shadowRoot)

  root.render(
    <React.StrictMode>
      <QueryClientProvider client={queryClient}>
        <div
          style={{
            width: '100vw',
            padding: '30px',
          }}
        >
          <h2>Dog Breeds</h2>
          <DogList />
        </div>
        <ReactQueryDevtools
          initialIsOpen={false}
          buttonPosition="bottom-left"
          shadowDOMTarget={appRoot.shadowRoot!}
        />
      </QueryClientProvider>
    </React.StrictMode>,
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/shadow-dom?embed=1&theme=light&preset=node&file=index.tsx)

[Algolia](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)

[Devtools Embedded Panel](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=3n59z)

## Algolia Integration Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/algolia: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Offline
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/offline: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Native Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: React Native  [Github](https://github.com/tanstack/query/tree/main/examples/react/react-native) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/react-native?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/react-native?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- assets

- src

- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![App.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)App.tsx

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![app.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)app.json

- ![babel.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)babel.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import * as React from 'react'
import { AppStateStatus, Platform } from 'react-native'
import { NavigationContainer } from '@react-navigation/native'
import {
  QueryClient,
  QueryClientProvider,
  focusManager,
} from '@tanstack/react-query'

import { useAppState } from './src/hooks/useAppState'
import { MoviesStack } from './src/navigation/MoviesStack'
import { useOnlineManager } from './src/hooks/useOnlineManager'

function onAppStateChange(status: AppStateStatus) {
  // React Query already supports in web browser refetch on window focus by default
  if (Platform.OS !== 'web') {
    focusManager.setFocused(status === 'active')
  }
}

const queryClient = new QueryClient({
  defaultOptions: { queries: { retry: 2 } },
})

export default function App() {
  useOnlineManager()

  useAppState(onAppStateChange)

  return (
    <QueryClientProvider client={queryClient}>
      <NavigationContainer>
        <MoviesStack />
      </NavigationContainer>
    </QueryClientProvider>
  )
}

```

```
import * as React from 'react'
import { AppStateStatus, Platform } from 'react-native'
import { NavigationContainer } from '@react-navigation/native'
import {
  QueryClient,
  QueryClientProvider,
  focusManager,
} from '@tanstack/react-query'

import { useAppState } from './src/hooks/useAppState'
import { MoviesStack } from './src/navigation/MoviesStack'
import { useOnlineManager } from './src/hooks/useOnlineManager'

function onAppStateChange(status: AppStateStatus) {
  // React Query already supports in web browser refetch on window focus by default
  if (Platform.OS !== 'web') {
    focusManager.setFocused(status === 'active')
  }
}

const queryClient = new QueryClient({
  defaultOptions: { queries: { retry: 2 } },
})

export default function App() {
  useOnlineManager()

  useAppState(onAppStateChange)

  return (
    <QueryClientProvider client={queryClient}>
      <NavigationContainer>
        <MoviesStack />
      </NavigationContainer>
    </QueryClientProvider>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/react-native?embed=1&theme=light&preset=node&file=index.tsx)

[Next.js app with streaming](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)

[React Router](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=vz573)

## React Query Playground
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/playground: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Suspense
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/suspense: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Keys Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Simple Query Keys](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#simple-query-keys)
- [Array Keys with variables](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#array-keys-with-variables)
- [Query Keys are hashed deterministically!](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#query-keys-are-hashed-deterministically)
- [If your query function depends on a variable, include it in your query key](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#if-your-query-function-depends-on-a-variable-include-it-in-your-query-key)
- [Further reading](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#further-reading)

# Query Keys

At its core, TanStack Query manages query caching for you based on query keys. Query keys have to be an Array at the top level, and can be as simple as an Array with a single string, or as complex as an array of many strings and nested objects. As long as the query key is serializable, and **unique to the query's data**, you can use it!

[**Simple Query Keys**](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#simple-query-keys)

The simplest form of a key is an array with constants values. This format is useful for:

- Generic List/Index resources
- Non-hierarchical resources

tsx

```
// A list of todos
useQuery({ queryKey: ['todos'], ... })

// Something else, whatever!
useQuery({ queryKey: ['something', 'special'], ... })

```

```
// A list of todos
useQuery({ queryKey: ['todos'], ... })

// Something else, whatever!
useQuery({ queryKey: ['something', 'special'], ... })

```

[**Array Keys with variables**](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#array-keys-with-variables)

When a query needs more information to uniquely describe its data, you can use an array with a string and any number of serializable objects to describe it. This is useful for:

- Hierarchical or nested resources
  - It's common to pass an ID, index, or other primitive to uniquely identify the item
- Queries with additional parameters
  - It's common to pass an object of additional options

tsx

```
// An individual todo
useQuery({ queryKey: ['todo', 5], ... })

// An individual todo in a "preview" format
useQuery({ queryKey: ['todo', 5, { preview: true }], ...})

// A list of todos that are "done"
useQuery({ queryKey: ['todos', { type: 'done' }], ... })

```

```
// An individual todo
useQuery({ queryKey: ['todo', 5], ... })

// An individual todo in a "preview" format
useQuery({ queryKey: ['todo', 5, { preview: true }], ...})

// A list of todos that are "done"
useQuery({ queryKey: ['todos', { type: 'done' }], ... })

```

[**Query Keys are hashed deterministically!**](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#query-keys-are-hashed-deterministically)

This means that no matter the order of keys in objects, all of the following queries are considered equal:

tsx

```
useQuery({ queryKey: ['todos', { status, page }], ... })
useQuery({ queryKey: ['todos', { page, status }], ...})
useQuery({ queryKey: ['todos', { page, status, other: undefined }], ... })

```

```
useQuery({ queryKey: ['todos', { status, page }], ... })
useQuery({ queryKey: ['todos', { page, status }], ...})
useQuery({ queryKey: ['todos', { page, status, other: undefined }], ... })

```

The following query keys, however, are not equal. Array item order matters!

tsx

```
useQuery({ queryKey: ['todos', status, page], ... })
useQuery({ queryKey: ['todos', page, status], ...})
useQuery({ queryKey: ['todos', undefined, page, status], ...})

```

```
useQuery({ queryKey: ['todos', status, page], ... })
useQuery({ queryKey: ['todos', page, status], ...})
useQuery({ queryKey: ['todos', undefined, page, status], ...})

```

[**If your query function depends on a variable, include it in your query key**](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#if-your-query-function-depends-on-a-variable-include-it-in-your-query-key)

Since query keys uniquely describe the data they are fetching, they should include any variables you use in your query function that **change**. For example:

tsx

```
function Todos({ todoId }) {
  const result = useQuery({
    queryKey: ['todos', todoId],
    queryFn: () => fetchTodoById(todoId),
  })
}

```

```
function Todos({ todoId }) {
  const result = useQuery({
    queryKey: ['todos', todoId],
    queryFn: () => fetchTodoById(todoId),
  })
}

```

Note that query keys act as dependencies for your query functions. Adding dependent variables to your query key will ensure that queries are cached independently, and that any time a variable changes, _queries will be refetched automatically_ (depending on your staleTime settings). See the [exhaustive-deps](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps) section for more information and examples.

[**Further reading**](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys#further-reading)

For tips on organizing Query Keys in larger applications, have a look at [Effective React Query Keys](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#8-effective-react-query-keys) and check the [Query Key Factory Package](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#query-key-factory) from
the Community Resources.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-keys.md)

[Queries](https://tanstack.com/query/latest/docs/framework/react/guides/queries)

[Query Functions](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Community Projects for React Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Atomic CRM](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#atomic-crm)
- [batshit](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#batshit)
- [Blitz](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#blitz)
- [Connect](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#connect)
- [GraphQL Code Generator](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#graphql-code-generator)
- [Http-wizard](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#http-wizard)
- [Kubb](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#kubb)
- [NgQuery](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#ngquery)
- [Normy](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#normy)
- [OpenAPI codegen](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-codegen)
- [OpenAPI Qraft React](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-qraft-react)
- [OpenAPI React Query codegen](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-react-query-codegen)
- [OpenAPI zod client](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-zod-client)
- [openapi-fetch](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-fetch)
- [Orval](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#orval)
- [Query Key factory](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#query-key-factory)
- [Rapini](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#rapini)
- [React Query Kit](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-kit)
- [React Query Rewind](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-rewind)
- [React Query Swagger](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-swagger)
- [Suspensive React Query](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#suspensive-react-query)
- [tRPC](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#trpc)
- [ts-rest](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#ts-rest)
- [wagmi](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#wagmi)
- [zodios](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#zodios)

# Community Projects

There are lots of community projects that build on top of React Query and use it to provide additional functionality or enhanced developer experience. Projects are listed in alphabetical order. If you have a project that you would like to add to this list, please open a PR!

> Please note that these projects are entirely community maintained. If you have questions about these projects, please reach out to the project maintainers.

[**Atomic CRM**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#atomic-crm)

A full-featured CRM built with React, react-admin, and Supabase.

Link: [https://marmelab.com/atomic-crm/](https://marmelab.com/atomic-crm/)

[**batshit**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#batshit)

A batch manager that will deduplicate and batch requests for a certain data type made within a window

Link: [https://github.com/yornaath/batshit](https://github.com/yornaath/batshit)

[**Blitz**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#blitz)

The Missing Fullstack Toolkit for Next.js

Link: [https://blitzjs.com/](https://blitzjs.com/)

[**Connect**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#connect)

A family of libraries for building building browser and gRPC-compatible HTTP APIs.

Link: [https://connectrpc.com/docs](https://connectrpc.com/docs)

[**GraphQL Code Generator**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#graphql-code-generator)

Generate React Query hooks from your GraphQL schema

Link: [https://the-guild.dev/graphql/codegen](https://the-guild.dev/graphql/codegen)

[**Http-wizard**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#http-wizard)

End-to-end type-safe Fastify API with typeScript magic ✨

Link: [https://http-wizard.com](https://http-wizard.com/)

[**Kubb**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#kubb)

Generate SDKs for all your APIs

Link: [https://www.kubb.dev/](https://www.kubb.dev/)

[**NgQuery**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#ngquery)

Query adapter for Angular

Link: [https://ngneat.github.io/query/](https://ngneat.github.io/query/)

[**Normy**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#normy)

Automatic normalization and data updates for data fetching libraries

Link: [https://github.com/klis87/normy](https://github.com/klis87/normy)

[**OpenAPI codegen**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-codegen)

A tool for generating code based on an OpenAPI schema.

Link: [https://github.com/fabien0102/openapi-codegen](https://github.com/fabien0102/openapi-codegen)

[**OpenAPI Qraft React**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-qraft-react)

Generate type-safe API clients and Hooks for TanStack Query directly from OpenAPI Documents.
Zero-runtime overhead, Proxy-based design, seamless SSR support, and full TanStack Query functionality.

Link: [https://github.com/OpenAPI-Qraft/openapi-qraft](https://github.com/OpenAPI-Qraft/openapi-qraft)

[**OpenAPI React Query codegen**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-react-query-codegen)

Generate TanStack Query hooks based on an OpenAPI specification file.

Link: [https://github.com/7nohe/openapi-react-query-codegen](https://github.com/7nohe/openapi-react-query-codegen)

[**OpenAPI zod client**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-zod-client)

Generate a zodios client from an OpenAPI specification

Link: [https://github.com/astahmer/openapi-zod-client](https://github.com/astahmer/openapi-zod-client)

[**openapi-fetch**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#openapi-fetch)

A 2KB min, typesafe fetch wrapper that uses static TypeScript type inference and no runtime checks.

Link: [https://openapi-ts.dev/openapi-react-query/](https://openapi-ts.dev/openapi-react-query/)

[**Orval**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#orval)

Generate TypeScript client from OpenAPI specifications

Link: [https://orval.dev/](https://orval.dev/)

[**Query Key factory**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#query-key-factory)

A library for creating typesafe standardized query keys, useful for cache management in @tanstack/query

Link: [https://github.com/lukemorales/query-key-factory](https://github.com/lukemorales/query-key-factory)

[**Rapini**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#rapini)

🥬 OpenAPI to React Query (or SWR) & Axios

Link: [https://github.com/rametta/rapini](https://github.com/rametta/rapini)

[**React Query Kit**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-kit)

🕊️ A toolkit for ReactQuery that makes ReactQuery hooks reusable and typesafe

Link: [https://github.com/liaoliao666/react-query-kit](https://github.com/liaoliao666/react-query-kit)

[**React Query Rewind**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-rewind)

Time travel and visualize state during development

Link: [https://reactqueryrewind.com/](https://reactqueryrewind.com/)

[**React Query Swagger**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#react-query-swagger)

Generate React Query hooks based on Swagger API definitions

Link: [https://github.com/Shaddix/react-query-swagger](https://github.com/Shaddix/react-query-swagger)

[**Suspensive React Query**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#suspensive-react-query)

Enhances React Query with Suspense support, allowing for simpler and more declarative data fetching

Link: [https://suspensive.org/docs/react-query/motivation](https://suspensive.org/docs/react-query/motivation)

[**tRPC**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#trpc)

End-to-end typesafe APIs made easy

Link: [https://trpc.io/](https://trpc.io/)

[**ts-rest**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#ts-rest)

Incrementally adoptable type-safety for your new and existing APIs

Link: [https://ts-rest.com/](https://ts-rest.com/)

[**wagmi**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#wagmi)

React Hooks for Ethereum based on @tanstack/react-query

Link: [https://wagmi.sh/](https://wagmi.sh/)

[**zodios**](https://tanstack.com/query/latest/docs/framework/react/community/community-projects#zodios)

End-to-end typesafe REST API toolbox

Link: [https://www.zodios.org/](https://www.zodios.org/)

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/community/community-projects.md)

[TkDodo's Blog](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)

[Simple](https://tanstack.com/query/latest/docs/framework/react/examples/simple)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Star Wars React Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Star Wars  [Github](https://github.com/tanstack/query/tree/main/examples/react/star-wars) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/star-wars?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/star-wars?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![App.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)App.tsx

  - ![Character.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Character.jsx

  - ![Characters.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Characters.jsx

  - ![Film.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Film.jsx

  - ![Films.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Films.jsx

  - ![Home.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Home.jsx

  - ![Layout.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)Layout.tsx

  - ![fetch.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)fetch.jsx

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![styles.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)styles.css
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import ReactDOM from 'react-dom/client'
import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import ReactDOM from 'react-dom/client'
import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/star-wars?embed=1&theme=light&preset=node&file=index.tsx)

[Prefetching](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)

[Rick And Morty](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=wvx3q)

## Query Retries Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Retry Delay](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries#retry-delay)

# Query Retries

When a useQuery query fails (the query function throws an error), TanStack Query will automatically retry the query if that query's request has not reached the max number of consecutive retries (defaults to 3) or a function is provided to determine if a retry is allowed.

You can configure retries both on a global level and an individual query level.

- Setting retry = false will disable retries.
- Setting retry = 6 will retry failing requests 6 times before showing the final error thrown by the function.
- Setting retry = true will infinitely retry failing requests.
- Setting retry = (failureCount, error) => ... allows for custom logic based on why the request failed.

> On the server, retries default to 0 to make server rendering as fast as possible.

tsx

```
import { useQuery } from '@tanstack/react-query'

// Make a specific query retry a certain number of times
const result = useQuery({
  queryKey: ['todos', 1],
  queryFn: fetchTodoListPage,
  retry: 10, // Will retry failed requests 10 times before displaying an error
})

```

```
import { useQuery } from '@tanstack/react-query'

// Make a specific query retry a certain number of times
const result = useQuery({
  queryKey: ['todos', 1],
  queryFn: fetchTodoListPage,
  retry: 10, // Will retry failed requests 10 times before displaying an error
})

```

> Info: Contents of the error property will be part of failureReason response property of useQuery until the last retry attempt. So in above example any error contents will be part of failureReason property for first 9 retry attempts (Overall 10 attempts) and finally they will be part of error after last attempt if error persists after all retry attempts.

[**Retry Delay**](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries#retry-delay)

By default, retries in TanStack Query do not happen immediately after a request fails. As is standard, a back-off delay is gradually applied to each retry attempt.

The default retryDelay is set to double (starting at 1000ms) with each attempt, but not exceed 30 seconds:

tsx

```
// Configure for all queries
import {
  QueryCache,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),
    },
  },
})

function App() {
  return <QueryClientProvider client={queryClient}>...</QueryClientProvider>
}

```

```
// Configure for all queries
import {
  QueryCache,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      retryDelay: (attemptIndex) => Math.min(1000 * 2 ** attemptIndex, 30000),
    },
  },
})

function App() {
  return <QueryClientProvider client={queryClient}>...</QueryClientProvider>
}

```

Though it is not recommended, you can obviously override the retryDelay function/integer in both the Provider and individual query options. If set to an integer instead of a function the delay will always be the same amount of time:

tsx

```
const result = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
  retryDelay: 1000, // Will always wait 1000ms to retry, regardless of how many retries
})

```

```
const result = useQuery({
  queryKey: ['todos'],
  queryFn: fetchTodoList,
  retryDelay: 1000, // Will always wait 1000ms to retry, regardless of how many retries
})

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-retries.md)

[Disabling/Pausing Queries](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)

[Paginated Queries](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## TanStack Query Error
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/error-page: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Performance
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [What is a Request Waterfall?](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#what-is-a-request-waterfall)
- [Request Waterfalls & React Query](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#request-waterfalls--react-query)
- [Single Component Waterfalls / Serial Queries](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#single-component-waterfalls--serial-queries)
- [Nested Component Waterfalls](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#nested-component-waterfalls)
- [Code Splitting](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#code-splitting)
- [Summary and takeaways](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#summary-and-takeaways)

# Performance & Request Waterfalls

Application performance is a broad and complex area and while React Query can't make your APIs faster, there are still things to be mindful about in how you use React Query to ensure the best performance.

The biggest performance footgun when using React Query, or indeed any data fetching library that lets you fetch data inside of components, is request waterfalls. The rest of this page will explain what they are, how you can spot them and how you can restructure your application or APIs to avoid them.

The [Prefetching & Router Integration guide](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching) builds on this and teaches you how to prefetch data ahead of time when it's not possible or feasible to restructure your application or APIs.

The [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/guides/ssr) teaches you how to prefetch data on the server and pass that data down to the client so you don't have to fetch it again.

The [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr) further teaches you how to apply these patterns to Server Components and Streaming Server Rendering.

[**What is a Request Waterfall?**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#what-is-a-request-waterfall)

A request waterfall is what happens when a request for a resource (code, css, images, data) does not start until _after_ another request for a resource has finished.

Consider a web page. Before you can load things like the CSS, JS etc, the browser first needs to load the markup. This is a request waterfall.

```
1. |-> Markup
2.   |-> CSS
2.   |-> JS
2.   |-> Image

```

```
1. |-> Markup
2.   |-> CSS
2.   |-> JS
2.   |-> Image

```

If you fetch your CSS inside a JS file, you now have a double waterfall:

```
1. |-> Markup
2.   |-> JS
3.     |-> CSS

```

```
1. |-> Markup
2.   |-> JS
3.     |-> CSS

```

If that CSS uses a background image, it's a triple waterfall:

```
1. |-> Markup
2.   |-> JS
3.     |-> CSS
4.       |-> Image

```

```
1. |-> Markup
2.   |-> JS
3.     |-> CSS
4.       |-> Image

```

The best way to spot and analyze your request waterfalls is usually by opening your browsers devtools "Network" tab.

Each waterfall represents at least one roundtrip to the server, unless the resource is locally cached (in practice, some of these waterfalls might represent more than one roundtrip because the browser needs to establish a connection which requires some back and forth, but let's ignore that here). Because of this, the negative effects of request waterfalls are highly dependent on the users latency. Consider the example of the triple waterfall, which actually represents 4 server roundtrips. With 250ms latency, which is not uncommon on 3g networks or in bad network conditions, we end up with a total time of 4\*250=1000ms **only counting latency**. If we were able to flatten that to the first example with only 2 roundtrips, we get 500ms instead, possibly loading that background image in half the time!

[**Request Waterfalls & React Query**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#request-waterfalls--react-query)

Now let's consider React Query. We'll focus on the case without Server Rendering first. Before we can even start making a query, we need to load the JS, so before we can show that data on the screen, we have a double waterfall:

```
1. |-> Markup
2.   |-> JS
3.     |-> Query

```

```
1. |-> Markup
2.   |-> JS
3.     |-> Query

```

With this as a basis, let's look at a few different patterns that can lead to Request Waterfalls in React Query, and how to avoid them.

- Single Component Waterfalls / Serial Queries
- Nested Component Waterfalls
- Code Splitting

[**Single Component Waterfalls / Serial Queries**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#single-component-waterfalls--serial-queries)

When a single component first fetches one query, and then another, that's a request waterfall. This can happen when the second query is a [Dependent Query](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries), that is, it depends on data from the first query when fetching:

tsx

```
// Get the user
const { data: user } = useQuery({
  queryKey: ['user', email],
  queryFn: getUserByEmail,
})

const userId = user?.id

// Then get the user's projects
const {
  status,
  fetchStatus,
  data: projects,
} = useQuery({
  queryKey: ['projects', userId],
  queryFn: getProjectsByUser,
  // The query will not execute until the userId exists
  enabled: !!userId,
})

```

```
// Get the user
const { data: user } = useQuery({
  queryKey: ['user', email],
  queryFn: getUserByEmail,
})

const userId = user?.id

// Then get the user's projects
const {
  status,
  fetchStatus,
  data: projects,
} = useQuery({
  queryKey: ['projects', userId],
  queryFn: getProjectsByUser,
  // The query will not execute until the userId exists
  enabled: !!userId,
})

```

While not always feasible, for optimal performance it's better to restructure your API so you can fetch both of these in a single query. In the example above, instead of first fetching getUserByEmail to be able to getProjectsByUser, introducing a new getProjectsByUserEmail query would flatten the waterfall.

> Another way to mitigate dependent queries without restructuring your API is to move the waterfall to the server where latency is lower. This is the idea behind Server Components which are covered in the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr).

Another example of serial queries is when you use React Query with Suspense:

tsx

```
function App () {
  // The following queries will execute in serial, causing separate roundtrips to the server:
  const usersQuery = useSuspenseQuery({ queryKey: ['users'], queryFn: fetchUsers })
  const teamsQuery = useSuspenseQuery({ queryKey: ['teams'], queryFn: fetchTeams })
  const projectsQuery = useSuspenseQuery({ queryKey: ['projects'], queryFn: fetchProjects })

  // Note that since the queries above suspend rendering, no data
  // gets rendered until all of the queries finished
  ...
}

```

```
function App () {
  // The following queries will execute in serial, causing separate roundtrips to the server:
  const usersQuery = useSuspenseQuery({ queryKey: ['users'], queryFn: fetchUsers })
  const teamsQuery = useSuspenseQuery({ queryKey: ['teams'], queryFn: fetchTeams })
  const projectsQuery = useSuspenseQuery({ queryKey: ['projects'], queryFn: fetchProjects })

  // Note that since the queries above suspend rendering, no data
  // gets rendered until all of the queries finished
  ...
}

```

Note that with regular useQuery these would happen in parallel.

Luckily, this is easy to fix, by always using the hook useSuspenseQueries when you have multiple suspenseful queries in a component.

tsx

```
const [usersQuery, teamsQuery, projectsQuery] = useSuspenseQueries({
  queries: [\
    { queryKey: ['users'], queryFn: fetchUsers },\
    { queryKey: ['teams'], queryFn: fetchTeams },\
    { queryKey: ['projects'], queryFn: fetchProjects },\
  ],
})

```

```
const [usersQuery, teamsQuery, projectsQuery] = useSuspenseQueries({
  queries: [\
    { queryKey: ['users'], queryFn: fetchUsers },\
    { queryKey: ['teams'], queryFn: fetchTeams },\
    { queryKey: ['projects'], queryFn: fetchProjects },\
  ],
})

```

[**Nested Component Waterfalls**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#nested-component-waterfalls)

Nested Component Waterfalls is when both a parent and a child component contains queries, and the parent does not render the child until its query is done. This can happen both with useQuery and useSuspenseQuery.

If the child renders conditionally based on the data in the parent, or if the child relies on some part of the result being passed down as a prop from the parent to make its query, we have a _dependent_ nested component waterfall.

Let's first look at an example where the child is **not** dependent on the parent.

tsx

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )

}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

```
function Article({ id }) {
  const { data: articleData, isPending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  if (isPending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      <Comments id={id} />
    </>
  )

}

function Comments({ id }) {
  const { data, isPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  ...
}

```

Note that while <Comments> takes a prop id from the parent, that id is already available when the <Article> renders so there is no reason we could not fetch the comments at the same time as the article. In real world applications, the child might be nested far below the parent and these kinds of waterfalls are often trickier to spot and fix, but for our example, one way to flatten the waterfall would be to hoist the comments query to the parent instead:

tsx

```
function Article({ id }) {
  const { data: articleData, isPending: articlePending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  const { data: commentsData, isPending: commentsPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  if (articlePending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      {commentsPending ? (
        'Loading comments...'
      ) : (
        <Comments commentsData={commentsData} />
      )}
    </>
  )
}

```

```
function Article({ id }) {
  const { data: articleData, isPending: articlePending } = useQuery({
    queryKey: ['article', id],
    queryFn: getArticleById,
  })

  const { data: commentsData, isPending: commentsPending } = useQuery({
    queryKey: ['article-comments', id],
    queryFn: getArticleCommentsById,
  })

  if (articlePending) {
    return 'Loading article...'
  }

  return (
    <>
      <ArticleHeader articleData={articleData} />
      <ArticleBody articleData={articleData} />
      {commentsPending ? (
        'Loading comments...'
      ) : (
        <Comments commentsData={commentsData} />
      )}
    </>
  )
}

```

The two queries will now fetch in parallel. Note that if you are using suspense, you'd want to combine these two queries into a single useSuspenseQueries instead.

Another way to flatten this waterfall would be to prefetch the comments in the <Article> component, or prefetch both of these queries at the router level on page load or page navigation, read more about this in the [Prefetching & Router Integration guide](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching).

Next, let's look at a _Dependent Nested Component Waterfall_.

tsx

```
function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

```
function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

The second query getGraphDataById is dependent on it's parent in two different ways. First of all, it doesn't ever happen unless the feedItem is a graph, and second, it needs an id from the parent.

```
1. |> getFeed()
2.   |> getGraphDataById()

```

```
1. |> getFeed()
2.   |> getGraphDataById()

```

In this example, we can't trivially flatten the waterfall by just hoisting the query to the parent, or even adding prefetching. Just like the dependent query example at the beginning of this guide, one option is to refactor our API to include the graph data in the getFeed query. Another more advanced solution is to leverage Server Components to move the waterfall to the server where latency is lower (read more about this in the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)) but note that this can be a very big architectural change.

You can have good performance even with a few query waterfalls here and there, just know they are a common performance concern and be mindful about them. An especially insidious version is when Code Splitting is involved, let's take a look at this next.

[**Code Splitting**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#code-splitting)

Splitting an applications JS-code into smaller chunks and only loading the necessary parts is usually a critical step in achieving good performance. It does have a downside however, in that it often introduces request waterfalls. When that code split code also has a query inside it, this problem is worsened further.

Consider this a slightly modified version of the Feed example.

tsx

```
// This lazy loads the GraphFeedItem component, meaning
// it wont start loading until something renders it
const GraphFeedItem = React.lazy(() => import('./GraphFeedItem'))

function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

// GraphFeedItem.tsx
function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

```
// This lazy loads the GraphFeedItem component, meaning
// it wont start loading until something renders it
const GraphFeedItem = React.lazy(() => import('./GraphFeedItem'))

function Feed() {
  const { data, isPending } = useQuery({
    queryKey: ['feed'],
    queryFn: getFeed,
  })

  if (isPending) {
    return 'Loading feed...'
  }

  return (
    <>
      {data.map((feedItem) => {
        if (feedItem.type === 'GRAPH') {
          return <GraphFeedItem key={feedItem.id} feedItem={feedItem} />
        }

        return <StandardFeedItem key={feedItem.id} feedItem={feedItem} />
      })}
    </>
  )
}

// GraphFeedItem.tsx
function GraphFeedItem({ feedItem }) {
  const { data, isPending } = useQuery({
    queryKey: ['graph', feedItem.id],
    queryFn: getGraphDataById,
  })

  ...
}

```

This example has a double waterfall, looking like this:

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
3.     |> getGraphDataById()

```

```
1. |> getFeed()
2.   |> JS for <GraphFeedItem>
3.     |> getGraphDataById()

```

But that's just looking at the code from the example, if we consider what the first page load of this page looks like, we actually have to complete 5 round trips to the server before we can render the graph!

```
1. |> Markup
2.   |> JS for <Feed>
3.     |> getFeed()
4.       |> JS for <GraphFeedItem>
5.         |> getGraphDataById()

```

```
1. |> Markup
2.   |> JS for <Feed>
3.     |> getFeed()
4.       |> JS for <GraphFeedItem>
5.         |> getGraphDataById()

```

Note that this looks a bit different when server rendering, we will explore that further in the [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/ssr). Also note that it's not uncommon for the route that contains <Feed> to also be code split, which could add yet another hop.

In the code split case, it might actually help to hoist the getGraphDataById query to the <Feed> component and make it conditional, or add a conditional prefetch. That query could then be fetched in parallel with the code, turning the example part into this:

```
1. |> getFeed()
2.   |> getGraphDataById()
2.   |> JS for <GraphFeedItem>

```

```
1. |> getFeed()
2.   |> getGraphDataById()
2.   |> JS for <GraphFeedItem>

```

This is very much a tradeoff however. You are now including the data fetching code for getGraphDataById in the same bundle as <Feed>, so evaluate what is best for your case. Read more about how to do this in the [Prefetching & Router Integration guide](https://tanstack.com/query/latest/docs/framework/react/prefetching).

> The tradeoff between:
>
> - Include all data fetching code in the main bundle, even if we seldom use it
> - Put the data fetching code in the code split bundle, but with a request waterfall
>
> is not great and has been one of the motivations for Server Components. With Server Components, it's possible to avoid both, read more about how this applies to React Query in the [Advanced Server Rendering guide](https://tanstack.com/query/latest/docs/framework/react/advanced-ssr).

[**Summary and takeaways**](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#summary-and-takeaways)

Request Waterfalls are a very common and complex performance concern with many tradeoffs. There are many ways to accidentally introduce them into your application:

- Adding a query to a child, not realizing a parent already has a query
- Adding a query to a parent, not realizing a child already has a query
- Moving a component with descendants that has a query to a new parent with an ancestor that has a query
- Etc..

Because of this accidental complexity, it pays off to be mindful of waterfalls and regularly examine your application looking for them (a good way is to examine the Network tab every now and then!). You don't necessarily have to flatten them all to have good performance, but keep an eye out for the high impact ones.

In the next guide, we'll look at more ways to flatten waterfalls, by leveraging [Prefetching & Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/request-waterfalls.md)

[Filters](https://tanstack.com/query/latest/docs/framework/react/guides/filters)

[Prefetching & Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://807145f9bcda07cca78e9bea28b92183.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## TanStack Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/basic: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Next.js Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/react/nextjs: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Pokemon Info
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/pokemon-info: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Auto Refetching Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Auto Refetching  [Github](https://github.com/tanstack/query/tree/main/examples/react/auto-refetching) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/auto-refetching?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/auto-refetching?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - pages

    - api

    - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![next-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)next-env.d.ts

- ![next.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)next.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import React from 'react'

import {
  QueryClient,
  QueryClientProvider,
  useMutation,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const queryClient = useQueryClient()
  const [intervalMs, setIntervalMs] = React.useState(1000)
  const [value, setValue] = React.useState('')

  const { status, data, error, isFetching } = useQuery({
    queryKey: ['todos'],
    queryFn: async (): Promise<Array<string>> => {
      const response = await fetch('/api/data')
      return await response.json()
    },
    // Refetch the data every second
    refetchInterval: intervalMs,
  })

  const addMutation = useMutation({
    mutationFn: (add: string) => fetch(`/api/data?add=${add}`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  })

  const clearMutation = useMutation({
    mutationFn: () => fetch(`/api/data?clear=1`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  })

  if (status === 'pending') return <h1>Loading...</h1>
  if (status === 'error') return <span>Error: {error.message}</span>

  return (
    <div>
      <h1>Auto Refetch with stale-time set to {intervalMs}ms</h1>
      <p>
        This example is best experienced on your own machine, where you can open
        multiple tabs to the same localhost server and see your changes
        propagate between the two.
      </p>
      <label>
        Query Interval speed (ms):{' '}
        <input
          value={intervalMs}
          onChange={(ev) => setIntervalMs(Number(ev.target.value))}
          type="number"
          step="100"
        />{' '}
        <span
          style={{
            display: 'inline-block',
            marginLeft: '.5rem',
            width: 10,
            height: 10,
            background: isFetching ? 'green' : 'transparent',
            transition: !isFetching ? 'all .3s ease' : 'none',
            borderRadius: '100%',
            transform: 'scale(2)',
          }}
        />
      </label>
      <h2>Todo List</h2>
      <form
        onSubmit={(event) => {
          event.preventDefault()
          addMutation.mutate(value, {
            onSuccess: () => {
              setValue('')
            },
          })
        }}
      >
        <input
          placeholder="enter something"
          value={value}
          onChange={(ev) => setValue(ev.target.value)}
        />
      </form>
      <ul>
        {data.map((item) => (
          <li key={item}>{item}</li>
        ))}
      </ul>
      <div>
        <button
          onClick={() => {
            clearMutation.mutate()
          }}
        >
          Clear All
        </button>
      </div>
      <ReactQueryDevtools initialIsOpen />
    </div>
  )
}

```

```
import React from 'react'

import {
  QueryClient,
  QueryClientProvider,
  useMutation,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <Example />
    </QueryClientProvider>
  )
}

function Example() {
  const queryClient = useQueryClient()
  const [intervalMs, setIntervalMs] = React.useState(1000)
  const [value, setValue] = React.useState('')

  const { status, data, error, isFetching } = useQuery({
    queryKey: ['todos'],
    queryFn: async (): Promise<Array<string>> => {
      const response = await fetch('/api/data')
      return await response.json()
    },
    // Refetch the data every second
    refetchInterval: intervalMs,
  })

  const addMutation = useMutation({
    mutationFn: (add: string) => fetch(`/api/data?add=${add}`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  })

  const clearMutation = useMutation({
    mutationFn: () => fetch(`/api/data?clear=1`),
    onSuccess: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  })

  if (status === 'pending') return <h1>Loading...</h1>
  if (status === 'error') return <span>Error: {error.message}</span>

  return (
    <div>
      <h1>Auto Refetch with stale-time set to {intervalMs}ms</h1>
      <p>
        This example is best experienced on your own machine, where you can open
        multiple tabs to the same localhost server and see your changes
        propagate between the two.
      </p>
      <label>
        Query Interval speed (ms):{' '}
        <input
          value={intervalMs}
          onChange={(ev) => setIntervalMs(Number(ev.target.value))}
          type="number"
          step="100"
        />{' '}
        <span
          style={{
            display: 'inline-block',
            marginLeft: '.5rem',
            width: 10,
            height: 10,
            background: isFetching ? 'green' : 'transparent',
            transition: !isFetching ? 'all .3s ease' : 'none',
            borderRadius: '100%',
            transform: 'scale(2)',
          }}
        />
      </label>
      <h2>Todo List</h2>
      <form
        onSubmit={(event) => {
          event.preventDefault()
          addMutation.mutate(value, {
            onSuccess: () => {
              setValue('')
            },
          })
        }}
      >
        <input
          placeholder="enter something"
          value={value}
          onChange={(ev) => setValue(ev.target.value)}
        />
      </form>
      <ul>
        {data.map((item) => (
          <li key={item}>{item}</li>
        ))}
      </ul>
      <div>
        <button
          onClick={() => {
            clearMutation.mutate()
          }}
        >
          Clear All
        </button>
      </div>
      <ReactQueryDevtools initialIsOpen />
    </div>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/auto-refetching?embed=1&theme=light&preset=node&file=index.tsx)

[Basic w/ GraphQL-Request](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)

[Optimistic Updates (UI)](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=rt1j2)

## TkDodo's React Query Blog
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [#1: Practical React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#1-practical-react-query)[#1: Practical React Query](https://tkdodo.eu/blog/practical-react-query)
- [#2: React Query Data Transformations](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#2-react-query-data-transformations)[#2: React Query Data Transformations](https://tkdodo.eu/blog/react-query-data-transformations)
- [#3: React Query Render Optimizations](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#3-react-query-render-optimizations)[#3: React Query Render Optimizations](https://tkdodo.eu/blog/react-query-render-optimizations)
- [#4: Status Checks in React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#4-status-checks-in-react-query)[#4: Status Checks in React Query](https://tkdodo.eu/blog/status-checks-in-react-query)
- [#5: Testing React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#5-testing-react-query)[#5: Testing React Query](https://tkdodo.eu/blog/testing-react-query)
- [#6: React Query and TypeScript](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#6-react-query-and-typescript)[#6: React Query and TypeScript](https://tkdodo.eu/blog/react-query-and-type-script)
- [#7: Using WebSockets with React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#7-using-websockets-with-react-query)[#7: Using WebSockets with React Query](https://tkdodo.eu/blog/using-web-sockets-with-react-query)
- [#8: Effective React Query Keys](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#8-effective-react-query-keys)[#8: Effective React Query Keys](https://tkdodo.eu/blog/effective-react-query-keys)
- [#8a: Leveraging the Query Function Context](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#8a-leveraging-the-query-function-context)[#8a: Leveraging the Query Function Context](https://tkdodo.eu/blog/leveraging-the-query-function-context)
- [#9: Placeholder and Initial Data in React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#9-placeholder-and-initial-data-in-react-query)[#9: Placeholder and Initial Data in React Query](https://tkdodo.eu/blog/placeholder-and-initial-data-in-react-query)
- [#10: React Query as a State Manager](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#10-react-query-as-a-state-manager)[#10: React Query as a State Manager](https://tkdodo.eu/blog/react-query-as-a-state-manager)
- [#11: React Query Error Handling](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#11-react-query-error-handling)[#11: React Query Error Handling](https://tkdodo.eu/blog/react-query-error-handling)
- [#12: Mastering Mutations in React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#12-mastering-mutations-in-react-query)[#12: Mastering Mutations in React Query](https://tkdodo.eu/blog/mastering-mutations-in-react-query)
- [#13: Offline React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#13-offline-react-query)[#13: Offline React Query](https://tkdodo.eu/blog/offline-react-query)
- [#14: React Query and Forms](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#14-react-query-and-forms)[#14: React Query and Forms](https://tkdodo.eu/blog/react-query-and-forms)
- [#15: React Query FAQs](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#15-react-query-faqs)[#15: React Query FAQs](https://tkdodo.eu/blog/react-query-fa-qs)
- [#16: React Query meets React Router](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#16-react-query-meets-react-router)[#16: React Query meets React Router](https://tkdodo.eu/blog/react-query-meets-react-router)
- [#17: Seeding the Query Cache](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#17-seeding-the-query-cache)[#17: Seeding the Query Cache](https://tkdodo.eu/blog/seeding-the-query-cache)
- [#18: Inside React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#18-inside-react-query)[#18: Inside React Query](https://tkdodo.eu/blog/inside-react-query)
- [#19: Type-safe React Query](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#19-type-safe-react-query)[#19: Type-safe React Query](https://tkdodo.eu/blog/type-safe-react-query)

# TkDodo's Blog

TanStack Query maintainer [TkDodo](https://bsky.app/profile/tkdodo.eu) has a series of blog posts about using and working with the library. Some articles show general best practices, but most have an _opinionated_ point of view.

## [\#1: Practical React Query](https://tkdodo.eu/blog/practical-react-query)

> An advanced introduction to React Query, showing practical tips that go beyond the docs. It covers explaining the defaults (staleTime vs. gcTime), concepts like keeping server and client state separate, handling dependencies and creating custom hooks, as well as outlining why the enabled option is very powerful. [Read more...](https://tkdodo.eu/blog/practical-react-query)

## [\#2: React Query Data Transformations](https://tkdodo.eu/blog/react-query-data-transformations)

> Learn the possibilities to perform the quite common and important task of transforming your data with React Query. From transforming in the queryFn to using the select option, this article outlines the pros and cons of all the different approaches. [Read more...](https://tkdodo.eu/blog/react-query-data-transformations)

## [\#3: React Query Render Optimizations](https://tkdodo.eu/blog/react-query-render-optimizations)

> Let's take a look at what you can do when your component re-renders too often when using React Query. The library is already pretty optimized, but there are still some opt-in features (like tracked queries) that you can use to avoid the isFetching transition. We're also looking into what structural sharing refers to. [Read more...](https://tkdodo.eu/blog/react-query-render-optimizations)

## [\#4: Status Checks in React Query](https://tkdodo.eu/blog/status-checks-in-react-query)

> We usually check for isPending first before checking for isError , but sometimes, checking if data is available should be the first thing to do. This article shows how the wrong status check order can negatively impact user experience. [Read more...](https://tkdodo.eu/blog/status-checks-in-react-query)

## [\#5: Testing React Query](https://tkdodo.eu/blog/testing-react-query)

> The docs already cover pretty well what you need to do to get started when testing React Query. This article shows some additional tips (like turning off retries or silencing the console) you might want to follow when testing custom hooks or components using them. It also links to an [example repository](https://github.com/TkDodo/testing-react-query) with tests for success and error states, powered by mock-service-worker. [Read more...](https://tkdodo.eu/blog/testing-react-query)

## [\#6: React Query and TypeScript](https://tkdodo.eu/blog/react-query-and-type-script)

> Since React Query is written in TypeScript, it has great support for it. This blog post explains the various Generics, how you can leverage type inference to avoid having to explicitly type useQuery and friends, what to do with unknown errors, how type narrowing works and more! [Read more...](https://tkdodo.eu/blog/react-query-and-type-script)

## [\#7: Using WebSockets with React Query](https://tkdodo.eu/blog/using-web-sockets-with-react-query)

> A step-by-step guide on how to make real-time notifications work with React Query, with either event-based subscriptions or pushing full data directly to the client. Applicable to anything from the browser native WebSocket API over Firebase and even GraphQL subscriptions. [Read more...](https://tkdodo.eu/blog/using-web-sockets-with-react-query)

## [\#8: Effective React Query Keys](https://tkdodo.eu/blog/effective-react-query-keys)

> Most examples just use a simple String or Array Query Key, but how do you organize your keys effectively once your app grows past a todo list? This article shows how co-location and Query Key Factories can make life easier. [Read more...](https://tkdodo.eu/blog/effective-react-query-keys)

## [\#8a: Leveraging the Query Function Context](https://tkdodo.eu/blog/leveraging-the-query-function-context)

> In this amendment to the previous blog post, we look at how we can leverage the Query Function Context and Object Query Keys for maximum safety as our app grows. [Read more...](https://tkdodo.eu/blog/leveraging-the-query-function-context)

## [\#9: Placeholder and Initial Data in React Query](https://tkdodo.eu/blog/placeholder-and-initial-data-in-react-query)

> Placeholder and Initial Data are two similar yet different concepts for synchronously showing data instead of a loading spinner to improve an application's UX. This blog post compares the two and outlines the scenarios where each one shines. [Read more...](https://tkdodo.eu/blog/placeholder-and-initial-data-in-react-query)

## [\#10: React Query as a State Manager](https://tkdodo.eu/blog/react-query-as-a-state-manager)

> React Query doesn't fetch any data for you - it's a data synchronization tool that excels when used for server state. This article has everything you need to know to make React Query your single source of truth state manager for your async state. You'll learn how to let React Query do it's magic and why customizing staleTime might be all you need. [Read more...](https://tkdodo.eu/blog/react-query-as-a-state-manager)

## [\#11: React Query Error Handling](https://tkdodo.eu/blog/react-query-error-handling)

> Handling errors is an integral part of working with asynchronous data, especially data fetching. We have to face it: Not all requests will be successful, and not all Promises will be fulfilled. This blog post describes various ways of coping with errors in React Query, such as the error property, using Error Boundaries or onError callbacks, so that you can prepare your application for the cases when "Something went wrong". [Read more...](https://tkdodo.eu/blog/react-query-error-handling)

## [\#12: Mastering Mutations in React Query](https://tkdodo.eu/blog/mastering-mutations-in-react-query)

> Mutations are the important, second part necessary to work with server data - for situations where you need to update it. This blog post covers what mutations are and how they are different from queries. You'll learn the difference between mutate and mutateAsync as well as how you can tie queries and mutations together. [Read more...](https://tkdodo.eu/blog/mastering-mutations-in-react-query)

## [\#13: Offline React Query](https://tkdodo.eu/blog/offline-react-query)

> There are many ways to produce promises - which is everything React Query needs - but by far the biggest use-case is data fetching. Very often, that requires an active network connection. But sometimes, especially on mobile devices where, the network connection can be unreliable, you need your app to also work without it. In this article, you'll learn about the different offline strategies React Query offers. [Read more...](https://tkdodo.eu/blog/offline-react-query)

## [\#14: React Query and Forms](https://tkdodo.eu/blog/react-query-and-forms)

> Forms tend to blur the line between what is server state and what is client state. In most applications, we would not only like to display state, but also let the user interact with it. This article shows two different approaches as well as some tips and tricks about using React Query with Forms. [Read more...](https://tkdodo.eu/blog/react-query-and-forms)

## [\#15: React Query FAQs](https://tkdodo.eu/blog/react-query-fa-qs)

> This article tries to answer the most frequently asked questions about React Query. [Read more...](https://tkdodo.eu/blog/react-query-fa-qs)

## [\#16: React Query meets React Router](https://tkdodo.eu/blog/react-query-meets-react-router)

> Remix and React Router are changing the game when thinking about _when_ to fetch data. This article goes into why React Query and Routers that support data loading are a match made in heaven. [Read more...](https://tkdodo.eu/blog/react-query-meets-react-router)

## [\#17: Seeding the Query Cache](https://tkdodo.eu/blog/seeding-the-query-cache)

> This blog post shows multiple ways how to get data into your Query Cache _before_ you start rendering to minimize the amount of loading spinners displayed in your app. The options range from prefetching on the server or in your router to seeding cache entries via setQueryData. [Read more...](https://tkdodo.eu/blog/seeding-the-query-cache)

## [\#18: Inside React Query](https://tkdodo.eu/blog/inside-react-query)

> If you've ever wondered how React Query works under the hood - this post is for you. It explains the architecture (including visuals), starting with the agnostic Query Core and how it communicates with the framework specific adapters. [Read more...](https://tkdodo.eu/blog/inside-react-query)

## [\#19: Type-safe React Query](https://tkdodo.eu/blog/type-safe-react-query)

> There's a big difference between "having types" and "being type-safe". This article tries to outline those differences and shows how you can get the best possible type-safety when using React Query together with TypeScript [Read more...](https://tkdodo.eu/blog/type-safe-react-query)

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/community/tkdodos-blog.md)

[Infinite Query Property Order](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

[Community Projects](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## TanStack Query Network Modes
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Network Mode: online](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-online)
- [Network Mode: always](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-always)
- [Network Mode: offlineFirst](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-offlinefirst)
- [Devtools](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#devtools)
- [Signature](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#signature)

# Network Mode

TanStack Query provides three different network modes to distinguish how [Queries](https://tanstack.com/query/latest/docs/framework/react/guides/queries) and [Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutations) should behave if you have no network connection. This mode can be set for each Query / Mutation individually, or globally via the query / mutation defaults.

Since TanStack Query is most often used for data fetching in combination with data fetching libraries, the default network mode is [online](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode/#network-mode-online).

[**Network Mode: online**](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-online)

In this mode, Queries and Mutations will not fire unless you have network connection. This is the default mode. If a fetch is initiated for a query, it will always stay in the state (pending, error, success) it is in if the fetch cannot be made because there is no network connection. However, a [fetchStatus](https://tanstack.com/query/latest/docs/framework/react/guides/queries#fetchstatus) is exposed additionally. This can be either:

- fetching: The queryFn is really executing - a request is in-flight.
- paused: The query is not executing - it is paused until you have connection again
- idle: The query is not fetching and not paused

The flags isFetching and isPaused are derived from this state and exposed for convenience.

> Keep in mind that it might not be enough to check for pending state to show a loading spinner. Queries can be in state: 'pending', but fetchStatus: 'paused' if they are mounting for the first time, and you have no network connection.

If a query runs because you are online, but you go offline while the fetch is still happening, TanStack Query will also pause the retry mechanism. Paused queries will then continue to run once you re-gain network connection. This is independent of refetchOnReconnect (which also defaults to true in this mode), because it is not a refetch, but rather a continue. If the query has been [cancelled](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation) in the meantime, it will not continue.

[**Network Mode: always**](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-always)

In this mode, TanStack Query will always fetch and ignore the online / offline state. This is likely the mode you want to choose if you use TanStack Query in an environment where you don't need an active network connection for your Queries to work - e.g. if you just read from AsyncStorage, or if you just want to return Promise.resolve(5) from your queryFn.

- Queries will never be paused because you have no network connection.
- Retries will also not pause - your Query will go to error state if it fails.
- refetchOnReconnect defaults to false in this mode, because reconnecting to the network is not a good indicator anymore that stale queries should be refetched. You can still turn it on if you want.

[**Network Mode: offlineFirst**](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#network-mode-offlinefirst)

This mode is the middle ground between the first two options, where TanStack Query will run the queryFn once, but then pause retries. This is very handy if you have a serviceWorker that intercepts a request for caching like in an [offline-first PWA](https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps/Offline_Service_workers), or if you use HTTP caching via the [Cache-Control header](https://developer.mozilla.org/en-US/docs/Web/HTTP/Caching#the_cache-control_header).

In those situations, the first fetch might succeed because it comes from an offline storage / cache. However, if there is a cache miss, the network request will go out and fail, in which case this mode behaves like an online query - pausing retries.

[**Devtools**](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#devtools)

The [TanStack Query Devtools](https://tanstack.com/query/latest/docs/framework/react/devtools) will show Queries in a paused state if they would be fetching, but there is no network connection. There is also a toggle button to _Mock offline behavior_. Please note that this button will _not_ actually mess with your network connection (you can do that in the browser devtools), but it will set the [OnlineManager](https://tanstack.com/query/latest/docs/reference/onlineManager) in an offline state.

[**Signature**](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode#signature)

- networkMode: 'online' \| 'always' \| 'offlineFirst'
  - optional
  - defaults to 'online'

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/network-mode.md)

[Query Options](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)

[Parallel Queries](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Options
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# Query Options

One of the best ways to share queryKey and queryFn between multiple places, yet keep them co-located to one another, is to use the queryOptions helper. At runtime, this helper just returns whatever you pass into it, but it has a lot of advantages when using it [with TypeScript](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-options). You can define all possible options for a query in one place, and you'll also get type inference and type safety for all of them.

ts

```
import { queryOptions } from '@tanstack/react-query'

function groupOptions(id: number) {
  return queryOptions({
    queryKey: ['groups', id],
    queryFn: () => fetchGroups(id),
    staleTime: 5 * 1000,
  })
}

// usage:

useQuery(groupOptions(1))
useSuspenseQuery(groupOptions(5))
useQueries({
  queries: [groupOptions(1), groupOptions(2)],
})
queryClient.prefetchQuery(groupOptions(23))
queryClient.setQueryData(groupOptions(42).queryKey, newGroups)

```

```
import { queryOptions } from '@tanstack/react-query'

function groupOptions(id: number) {
  return queryOptions({
    queryKey: ['groups', id],
    queryFn: () => fetchGroups(id),
    staleTime: 5 * 1000,
  })
}

// usage:

useQuery(groupOptions(1))
useSuspenseQuery(groupOptions(5))
useQueries({
  queries: [groupOptions(1), groupOptions(2)],
})
queryClient.prefetchQuery(groupOptions(23))
queryClient.setQueryData(groupOptions(42).queryKey, newGroups)

```

For Infinite Queries, a separate [infiniteQueryOptions](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions) helper is available.

You can still override some options at the component level. A very common and useful pattern is to create per-component [select](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations#select) functions:

ts

```
// Type inference still works, so query.data will be the return type of select instead of queryFn

const query = useQuery({
  ...groupOptions(1),
  select: (data) => data.groupName,
})

```

```
// Type inference still works, so query.data will be the return type of select instead of queryFn

const query = useQuery({
  ...groupOptions(1),
  select: (data) => data.groupName,
})

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/query-options.md)

[Query Functions](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)

[Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Rick and Morty Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Rick Morty  [Github](https://github.com/tanstack/query/tree/main/examples/react/rick-morty) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/rick-morty?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/rick-morty?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![App.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)App.tsx

  - ![Character.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Character.jsx

  - ![Characters.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Characters.jsx

  - ![Episode.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Episode.jsx

  - ![Episodes.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Episodes.jsx

  - ![Home.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)Home.jsx

  - ![Layout.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)Layout.tsx

  - ![fetch.jsx file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)fetch.jsx

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

  - ![styles.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)styles.css
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import ReactDOM from 'react-dom/client'
import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import ReactDOM from 'react-dom/client'
import App from './App'

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/rick-morty?embed=1&theme=light&preset=node&file=index.tsx)

[Star Wars](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)

[Next.js Pages](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=uazct)

## Parallel Queries Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Manual Parallel Queries](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries#manual-parallel-queries)
- [Dynamic Parallel Queries with `useQueries`](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries#dynamic-parallel-queries-with-usequeries)

# Parallel Queries

"Parallel" queries are queries that are executed in parallel, or at the same time so as to maximize fetching concurrency.

[**Manual Parallel Queries**](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries#manual-parallel-queries)

When the number of parallel queries does not change, there is **no extra effort** to use parallel queries. Just use any number of TanStack Query's useQuery and useInfiniteQuery hooks side-by-side!

tsx

```
function App () {
  // The following queries will execute in parallel
  const usersQuery = useQuery({ queryKey: ['users'], queryFn: fetchUsers })
  const teamsQuery = useQuery({ queryKey: ['teams'], queryFn: fetchTeams })
  const projectsQuery = useQuery({ queryKey: ['projects'], queryFn: fetchProjects })
  ...
}

```

```
function App () {
  // The following queries will execute in parallel
  const usersQuery = useQuery({ queryKey: ['users'], queryFn: fetchUsers })
  const teamsQuery = useQuery({ queryKey: ['teams'], queryFn: fetchTeams })
  const projectsQuery = useQuery({ queryKey: ['projects'], queryFn: fetchProjects })
  ...
}

```

> When using React Query in suspense mode, this pattern of parallelism does not work, since the first query would throw a promise internally and would suspend the component before the other queries run. To get around this, you'll either need to use the useSuspenseQueries hook (which is suggested) or orchestrate your own parallelism with separate components for each useSuspenseQuery instance.

[**Dynamic Parallel Queries with useQueries**](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries#dynamic-parallel-queries-with-usequeries)

If the number of queries you need to execute is changing from render to render, you cannot use manual querying since that would violate the rules of hooks. Instead, TanStack Query provides a useQueries hook, which you can use to dynamically execute as many queries in parallel as you'd like.

useQueries accepts an **options object** with a **queries key** whose value is an **array of query objects**. It returns an **array of query results**:

tsx

```
function App({ users }) {
  const userQueries = useQueries({
    queries: users.map((user) => {
      return {
        queryKey: ['user', user.id],
        queryFn: () => fetchUserById(user.id),
      }
    }),
  })
}

```

```
function App({ users }) {
  const userQueries = useQueries({
    queries: users.map((user) => {
      return {
        queryKey: ['user', user.id],
        queryFn: () => fetchUserById(user.id),
      }
    }),
  })
}

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/parallel-queries.md)

[Network Mode](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)

[Dependent Queries](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Devtools
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Devtools Panel  [Github](https://github.com/tanstack/query/tree/main/examples/react/devtools-panel) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/devtools-panel?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/devtools-panel?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  const [isOpen, setIsOpen] = React.useState(false)

  return (
    <QueryClientProvider client={queryClient}>
      <Example />
      <button
        onClick={() => setIsOpen(!isOpen)}
      >{`${isOpen ? 'Close' : 'Open'} the devtools panel`}</button>
      {isOpen && <ReactQueryDevtoolsPanel onClose={() => setIsOpen(false)} />}
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data, isFetching } = useQuery({
    queryKey: ['repoData'],
    queryFn: async () => {
      const response = await fetch(
        'https://api.github.com/repos/TanStack/query',
      )
      return await response.json()
    },
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div
      style={{
        paddingBottom: 20,
      }}
    >
      <h1>{data.full_name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
      <div>{isFetching ? 'Updating...' : ''}</div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
} from '@tanstack/react-query'
import { ReactQueryDevtoolsPanel } from '@tanstack/react-query-devtools'

const queryClient = new QueryClient()

export default function App() {
  const [isOpen, setIsOpen] = React.useState(false)

  return (
    <QueryClientProvider client={queryClient}>
      <Example />
      <button
        onClick={() => setIsOpen(!isOpen)}
      >{`${isOpen ? 'Close' : 'Open'} the devtools panel`}</button>
      {isOpen && <ReactQueryDevtoolsPanel onClose={() => setIsOpen(false)} />}
    </QueryClientProvider>
  )
}

function Example() {
  const { isPending, error, data, isFetching } = useQuery({
    queryKey: ['repoData'],
    queryFn: async () => {
      const response = await fetch(
        'https://api.github.com/repos/TanStack/query',
      )
      return await response.json()
    },
  })

  if (isPending) return 'Loading...'

  if (error) return 'An error has occurred: ' + error.message

  return (
    <div
      style={{
        paddingBottom: 20,
      }}
    >
      <h1>{data.full_name}</h1>
      <p>{data.description}</p>
      <strong>👀 {data.subscribers_count}</strong>{' '}
      <strong>✨ {data.stargazers_count}</strong>{' '}
      <strong>🍴 {data.forks_count}</strong>
      <div>{isFetching ? 'Updating...' : ''}</div>
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/devtools-panel?embed=1&theme=light&preset=node&file=index.tsx)

[Shadow DOM](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)

[Chat example (streaming)](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=3lvis)

## Infinite Queries Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Example](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#example)
- [What happens when an infinite query needs to be refetched?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-happens-when-an-infinite-query-needs-to-be-refetched)
- [What if I want to implement a bi-directional infinite list?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-implement-a-bi-directional-infinite-list)
- [What if I want to show the pages in reversed order?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-show-the-pages-in-reversed-order)
- [What if I want to manually update the infinite query?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-manually-update-the-infinite-query)
- [Manually removing first page:](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#manually-removing-first-page)
- [Manually removing a single value from an individual page:](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#manually-removing-a-single-value-from-an-individual-page)
- [Keep only the first page:](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#keep-only-the-first-page)
- [What if I want to limit the number of pages?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-limit-the-number-of-pages)
- [What if my API doesn't return a cursor?](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-my-api-doesnt-return-a-cursor)

# Infinite Queries

Rendering lists that can additively "load more" data onto an existing set of data or "infinite scroll" is also a very common UI pattern. TanStack Query supports a useful version of useQuery called useInfiniteQuery for querying these types of lists.

When using useInfiniteQuery, you'll notice a few things are different:

- data is now an object containing infinite query data:
- data.pages array containing the fetched pages
- data.pageParams array containing the page params used to fetch the pages
- The fetchNextPage and fetchPreviousPage functions are now available (fetchNextPage is required)
- The initialPageParam option is now available (and required) to specify the initial page param
- The getNextPageParam and getPreviousPageParam options are available for both determining if there is more data to load and the information to fetch it. This information is supplied as an additional parameter in the query function
- A hasNextPage boolean is now available and is true if getNextPageParam returns a value other than null or undefined
- A hasPreviousPage boolean is now available and is true if getPreviousPageParam returns a value other than null or undefined
- The isFetchingNextPage and isFetchingPreviousPage booleans are now available to distinguish between a background refresh state and a loading more state

> Note: Options initialData or placeholderData need to conform to the same structure of an object with data.pages and data.pageParams properties.

[**Example**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#example)

Let's assume we have an API that returns pages of projects 3 at a time based on a cursor index along with a cursor that can be used to fetch the next group of projects:

tsx

```
fetch('/api/projects?cursor=0')
// { data: [...], nextCursor: 3}
fetch('/api/projects?cursor=3')
// { data: [...], nextCursor: 6}
fetch('/api/projects?cursor=6')
// { data: [...], nextCursor: 9}
fetch('/api/projects?cursor=9')
// { data: [...] }

```

```
fetch('/api/projects?cursor=0')
// { data: [...], nextCursor: 3}
fetch('/api/projects?cursor=3')
// { data: [...], nextCursor: 6}
fetch('/api/projects?cursor=6')
// { data: [...], nextCursor: 9}
fetch('/api/projects?cursor=9')
// { data: [...] }

```

With this information, we can create a "Load More" UI by:

- Waiting for useInfiniteQuery to request the first group of data by default
- Returning the information for the next query in getNextPageParam
- Calling fetchNextPage function

tsx

```
import { useInfiniteQuery } from '@tanstack/react-query'

function Projects() {
  const fetchProjects = async ({ pageParam }) => {
    const res = await fetch('/api/projects?cursor=' + pageParam)
    return res.json()
  }

  const {
    data,
    error,
    fetchNextPage,
    hasNextPage,
    isFetching,
    isFetchingNextPage,
    status,
  } = useInfiniteQuery({
    queryKey: ['projects'],
    queryFn: fetchProjects,
    initialPageParam: 0,
    getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  })

  return status === 'pending' ? (
    <p>Loading...</p>
  ) : status === 'error' ? (
    <p>Error: {error.message}</p>
  ) : (
    <>
      {data.pages.map((group, i) => (
        <React.Fragment key={i}>
          {group.data.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </React.Fragment>
      ))}
      <div>
        <button
          onClick={() => fetchNextPage()}
          disabled={!hasNextPage || isFetchingNextPage}
        >
          {isFetchingNextPage
            ? 'Loading more...'
            : hasNextPage
              ? 'Load More'
              : 'Nothing more to load'}
        </button>
      </div>
      <div>{isFetching && !isFetchingNextPage ? 'Fetching...' : null}</div>
    </>
  )
}

```

```
import { useInfiniteQuery } from '@tanstack/react-query'

function Projects() {
  const fetchProjects = async ({ pageParam }) => {
    const res = await fetch('/api/projects?cursor=' + pageParam)
    return res.json()
  }

  const {
    data,
    error,
    fetchNextPage,
    hasNextPage,
    isFetching,
    isFetchingNextPage,
    status,
  } = useInfiniteQuery({
    queryKey: ['projects'],
    queryFn: fetchProjects,
    initialPageParam: 0,
    getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  })

  return status === 'pending' ? (
    <p>Loading...</p>
  ) : status === 'error' ? (
    <p>Error: {error.message}</p>
  ) : (
    <>
      {data.pages.map((group, i) => (
        <React.Fragment key={i}>
          {group.data.map((project) => (
            <p key={project.id}>{project.name}</p>
          ))}
        </React.Fragment>
      ))}
      <div>
        <button
          onClick={() => fetchNextPage()}
          disabled={!hasNextPage || isFetchingNextPage}
        >
          {isFetchingNextPage
            ? 'Loading more...'
            : hasNextPage
              ? 'Load More'
              : 'Nothing more to load'}
        </button>
      </div>
      <div>{isFetching && !isFetchingNextPage ? 'Fetching...' : null}</div>
    </>
  )
}

```

It's essential to understand that calling fetchNextPage while an ongoing fetch is in progress runs the risk of overwriting data refreshes happening in the background. This situation becomes particularly critical when rendering a list and triggering fetchNextPage simultaneously.

Remember, there can only be a single ongoing fetch for an InfiniteQuery. A single cache entry is shared for all pages, attempting to fetch twice simultaneously might lead to data overwrites.

If you intend to enable simultaneous fetching, you can utilize the { cancelRefetch: false } option (default: true) within fetchNextPage.

To ensure a seamless querying process without conflicts, it's highly recommended to verify that the query is not in an isFetching state, especially if the user won't directly control that call.

jsx

```
<List onEndReached={() => !isFetchingNextPage && fetchNextPage()} />

```

```
<List onEndReached={() => !isFetchingNextPage && fetchNextPage()} />

```

[**What happens when an infinite query needs to be refetched?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-happens-when-an-infinite-query-needs-to-be-refetched)

When an infinite query becomes stale and needs to be refetched, each group is fetched sequentially, starting from the first one. This ensures that even if the underlying data is mutated, we're not using stale cursors and potentially getting duplicates or skipping records. If an infinite query's results are ever removed from the queryCache, the pagination restarts at the initial state with only the initial group being requested.

[**What if I want to implement a bi-directional infinite list?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-implement-a-bi-directional-infinite-list)

Bi-directional lists can be implemented by using the getPreviousPageParam, fetchPreviousPage, hasPreviousPage and isFetchingPreviousPage properties and functions.

tsx

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  getPreviousPageParam: (firstPage, pages) => firstPage.prevCursor,
})

```

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  getPreviousPageParam: (firstPage, pages) => firstPage.prevCursor,
})

```

[**What if I want to show the pages in reversed order?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-show-the-pages-in-reversed-order)

Sometimes you may want to show the pages in reversed order. If this is case, you can use the select option:

tsx

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  select: (data) => ({
    pages: [...data.pages].reverse(),
    pageParams: [...data.pageParams].reverse(),
  }),
})

```

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  select: (data) => ({
    pages: [...data.pages].reverse(),
    pageParams: [...data.pageParams].reverse(),
  }),
})

```

[**What if I want to manually update the infinite query?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-manually-update-the-infinite-query) [**Manually removing first page:**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#manually-removing-first-page)

tsx

```
queryClient.setQueryData(['projects'], (data) => ({
  pages: data.pages.slice(1),
  pageParams: data.pageParams.slice(1),
}))

```

```
queryClient.setQueryData(['projects'], (data) => ({
  pages: data.pages.slice(1),
  pageParams: data.pageParams.slice(1),
}))

```

[**Manually removing a single value from an individual page:**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#manually-removing-a-single-value-from-an-individual-page)

tsx

```
const newPagesArray =
  oldPagesArray?.pages.map((page) =>
    page.filter((val) => val.id !== updatedId),
  ) ?? []

queryClient.setQueryData(['projects'], (data) => ({
  pages: newPagesArray,
  pageParams: data.pageParams,
}))

```

```
const newPagesArray =
  oldPagesArray?.pages.map((page) =>
    page.filter((val) => val.id !== updatedId),
  ) ?? []

queryClient.setQueryData(['projects'], (data) => ({
  pages: newPagesArray,
  pageParams: data.pageParams,
}))

```

[**Keep only the first page:**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#keep-only-the-first-page)

tsx

```
queryClient.setQueryData(['projects'], (data) => ({
  pages: data.pages.slice(0, 1),
  pageParams: data.pageParams.slice(0, 1),
}))

```

```
queryClient.setQueryData(['projects'], (data) => ({
  pages: data.pages.slice(0, 1),
  pageParams: data.pageParams.slice(0, 1),
}))

```

Make sure to always keep the same data structure of pages and pageParams!

[**What if I want to limit the number of pages?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-i-want-to-limit-the-number-of-pages)

In some use cases you may want to limit the number of pages stored in the query data to improve the performance and UX:

- when the user can load a large number of pages (memory usage)
- when you have to refetch an infinite query that contains dozens of pages (network usage: all the pages are sequentially fetched)

The solution is to use a "Limited Infinite Query". This is made possible by using the maxPages option in conjunction with getNextPageParam and getPreviousPageParam to allow fetching pages when needed in both directions.

In the following example only 3 pages are kept in the query data pages array. If a refetch is needed, only 3 pages will be refetched sequentially.

tsx

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  getPreviousPageParam: (firstPage, pages) => firstPage.prevCursor,
  maxPages: 3,
})

```

```
useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, pages) => lastPage.nextCursor,
  getPreviousPageParam: (firstPage, pages) => firstPage.prevCursor,
  maxPages: 3,
})

```

[**What if my API doesn't return a cursor?**](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries#what-if-my-api-doesnt-return-a-cursor)

If your API doesn't return a cursor, you can use the pageParam as a cursor. Because getNextPageParam and getPreviousPageParam also get the pageParamof the current page, you can use it to calculate the next / previous page param.

tsx

```
return useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, allPages, lastPageParam) => {
    if (lastPage.length === 0) {
      return undefined
    }
    return lastPageParam + 1
  },
  getPreviousPageParam: (firstPage, allPages, firstPageParam) => {
    if (firstPageParam <= 1) {
      return undefined
    }
    return firstPageParam - 1
  },
})

```

```
return useInfiniteQuery({
  queryKey: ['projects'],
  queryFn: fetchProjects,
  initialPageParam: 0,
  getNextPageParam: (lastPage, allPages, lastPageParam) => {
    if (lastPage.length === 0) {
      return undefined
    }
    return lastPageParam + 1
  },
  getPreviousPageParam: (firstPage, allPages, firstPageParam) => {
    if (firstPageParam <= 1) {
      return undefined
    }
    return firstPageParam - 1
  },
})

```

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/infinite-queries.md)

[Paginated Queries](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)

[Initial Query Data](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Pagination
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/pagination: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Optimistic Updates Guide
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Via the UI](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#via-the-ui)
- [If the mutation and the query don't live in the same component](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#if-the-mutation-and-the-query-dont-live-in-the-same-component)
- [Via the cache](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#via-the-cache)
- [Updating a list of todos when adding a new todo](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#updating-a-list-of-todos-when-adding-a-new-todo)
- [Updating a single todo](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#updating-a-single-todo)
- [When to use what](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#when-to-use-what)

# Optimistic Updates

React Query provides two ways to optimistically update your UI before a mutation has completed. You can either use the onMutate option to update your cache directly, or leverage the returned variables to update your UI from the useMutation result.

[**Via the UI**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#via-the-ui)

This is the simpler variant, as it doesn't interact with the cache directly.

tsx

```
const addTodoMutation = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  // make sure to _return_ the Promise from the query invalidation
  // so that the mutation stays in `pending` state until the refetch is finished
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

const { isPending, submittedAt, variables, mutate, isError } = addTodoMutation

```

```
const addTodoMutation = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  // make sure to _return_ the Promise from the query invalidation
  // so that the mutation stays in `pending` state until the refetch is finished
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

const { isPending, submittedAt, variables, mutate, isError } = addTodoMutation

```

you will then have access to addTodoMutation.variables, which contain the added todo. In your UI list, where the query is rendered, you can append another item to the list while the mutation isPending:

tsx

```
<ul>
  {todoQuery.items.map((todo) => (
    <li key={todo.id}>{todo.text}</li>
  ))}
  {isPending && <li style={{ opacity: 0.5 }}>{variables}</li>}
</ul>

```

```
<ul>
  {todoQuery.items.map((todo) => (
    <li key={todo.id}>{todo.text}</li>
  ))}
  {isPending && <li style={{ opacity: 0.5 }}>{variables}</li>}
</ul>

```

We're rendering a temporary item with a different opacity as long as the mutation is pending. Once it completes, the item will automatically no longer be rendered. Given that the refetch succeeded, we should see the item as a "normal item" in our list.

If the mutation errors, the item will also disappear. But we could continue to show it, if we want, by checking for the isError state of the mutation. variables are _not_ cleared when the mutation errors, so we can still access them, maybe even show a retry button:

tsx

```
{
  isError && (
    <li style={{ color: 'red' }}>
      {variables}
      <button onClick={() => mutate(variables)}>Retry</button>
    </li>
  )
}

```

```
{
  isError && (
    <li style={{ color: 'red' }}>
      {variables}
      <button onClick={() => mutate(variables)}>Retry</button>
    </li>
  )
}

```

[**If the mutation and the query don't live in the same component**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#if-the-mutation-and-the-query-dont-live-in-the-same-component)

This approach works very well if the mutation and the query live in the same component, However, you also get access to all mutations in other components via the dedicated useMutationState hook. It is best combined with a mutationKey:

tsx

```
// somewhere in your app
const { mutate } = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  mutationKey: ['addTodo'],
})

// access variables somewhere else
const variables = useMutationState<string>({
  filters: { mutationKey: ['addTodo'], status: 'pending' },
  select: (mutation) => mutation.state.variables,
})

```

```
// somewhere in your app
const { mutate } = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
  mutationKey: ['addTodo'],
})

// access variables somewhere else
const variables = useMutationState<string>({
  filters: { mutationKey: ['addTodo'], status: 'pending' },
  select: (mutation) => mutation.state.variables,
})

```

variables will be an Array, because there might be multiple mutations running at the same time. If we need a unique key for the items, we can also select mutation.state.submittedAt. This will even make displaying concurrent optimistic updates a breeze.

[**Via the cache**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#via-the-cache)

When you optimistically update your state before performing a mutation, there is a chance that the mutation will fail. In most of these failure cases, you can just trigger a refetch for your optimistic queries to revert them to their true server state. In some circumstances though, refetching may not work correctly and the mutation error could represent some type of server issue that won't make it possible to refetch. In this event, you can instead choose to roll back your update.

To do this, useMutation's onMutate handler option allows you to return a value that will later be passed to both onError and onSettled handlers as the last argument. In most cases, it is most useful to pass a rollback function.

[**Updating a list of todos when adding a new todo**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#updating-a-list-of-todos-when-adding-a-new-todo)

tsx

```
const queryClient = useQueryClient()

useMutation({
  mutationFn: updateTodo,
  // When mutate is called:
  onMutate: async (newTodo) => {
    // Cancel any outgoing refetches
    // (so they don't overwrite our optimistic update)
    await queryClient.cancelQueries({ queryKey: ['todos'] })

    // Snapshot the previous value
    const previousTodos = queryClient.getQueryData(['todos'])

    // Optimistically update to the new value
    queryClient.setQueryData(['todos'], (old) => [...old, newTodo])

    // Return a context object with the snapshotted value
    return { previousTodos }
  },
  // If the mutation fails,
  // use the context returned from onMutate to roll back
  onError: (err, newTodo, context) => {
    queryClient.setQueryData(['todos'], context.previousTodos)
  },
  // Always refetch after error or success:
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

```

```
const queryClient = useQueryClient()

useMutation({
  mutationFn: updateTodo,
  // When mutate is called:
  onMutate: async (newTodo) => {
    // Cancel any outgoing refetches
    // (so they don't overwrite our optimistic update)
    await queryClient.cancelQueries({ queryKey: ['todos'] })

    // Snapshot the previous value
    const previousTodos = queryClient.getQueryData(['todos'])

    // Optimistically update to the new value
    queryClient.setQueryData(['todos'], (old) => [...old, newTodo])

    // Return a context object with the snapshotted value
    return { previousTodos }
  },
  // If the mutation fails,
  // use the context returned from onMutate to roll back
  onError: (err, newTodo, context) => {
    queryClient.setQueryData(['todos'], context.previousTodos)
  },
  // Always refetch after error or success:
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

```

[**Updating a single todo**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#updating-a-single-todo)

tsx

```
useMutation({
  mutationFn: updateTodo,
  // When mutate is called:
  onMutate: async (newTodo) => {
    // Cancel any outgoing refetches
    // (so they don't overwrite our optimistic update)
    await queryClient.cancelQueries({ queryKey: ['todos', newTodo.id] })

    // Snapshot the previous value
    const previousTodo = queryClient.getQueryData(['todos', newTodo.id])

    // Optimistically update to the new value
    queryClient.setQueryData(['todos', newTodo.id], newTodo)

    // Return a context with the previous and new todo
    return { previousTodo, newTodo }
  },
  // If the mutation fails, use the context we returned above
  onError: (err, newTodo, context) => {
    queryClient.setQueryData(
      ['todos', context.newTodo.id],
      context.previousTodo,
    )
  },
  // Always refetch after error or success:
  onSettled: (newTodo) =>
    queryClient.invalidateQueries({ queryKey: ['todos', newTodo.id] }),
})

```

```
useMutation({
  mutationFn: updateTodo,
  // When mutate is called:
  onMutate: async (newTodo) => {
    // Cancel any outgoing refetches
    // (so they don't overwrite our optimistic update)
    await queryClient.cancelQueries({ queryKey: ['todos', newTodo.id] })

    // Snapshot the previous value
    const previousTodo = queryClient.getQueryData(['todos', newTodo.id])

    // Optimistically update to the new value
    queryClient.setQueryData(['todos', newTodo.id], newTodo)

    // Return a context with the previous and new todo
    return { previousTodo, newTodo }
  },
  // If the mutation fails, use the context we returned above
  onError: (err, newTodo, context) => {
    queryClient.setQueryData(
      ['todos', context.newTodo.id],
      context.previousTodo,
    )
  },
  // Always refetch after error or success:
  onSettled: (newTodo) =>
    queryClient.invalidateQueries({ queryKey: ['todos', newTodo.id] }),
})

```

You can also use the onSettled function in place of the separate onError and onSuccess handlers if you wish:

tsx

```
useMutation({
  mutationFn: updateTodo,
  // ...
  onSettled: async (newTodo, error, variables, context) => {
    if (error) {
      // do something
    }
  },
})

```

```
useMutation({
  mutationFn: updateTodo,
  // ...
  onSettled: async (newTodo, error, variables, context) => {
    if (error) {
      // do something
    }
  },
})

```

[**When to use what**](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates#when-to-use-what)

If you only have one place where the optimistic result should be shown, using variables and updating the UI directly is the approach that requires less code and is generally easier to reason about. For example, you don't need to handle rollbacks at all.

However, if you have multiple places on the screen that would require to know about the update, manipulating the cache directly will take care of this for you automatically.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/optimistic-updates.md)

[Updates from Mutation Responses](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)

[Query Cancellation](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://f5f003550b4c29f747df0392db5d8195.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/react/basic: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Router Integration
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: React Router  [Github](https://github.com/tanstack/query/tree/main/examples/react/react-router) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/react-router?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/react-router?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - routes

    - ![contact.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)contact.tsx

    - ![destroy.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)destroy.tsx

    - ![edit.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)edit.tsx

    - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx

    - ![new.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)new.tsx

    - ![root.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)root.tsx
  - ![contacts.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)contacts.ts

  - ![error-page.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)error-page.tsx

  - ![index.css file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53'%3e%3cpath%20d='M10.383%20126.892L0%200l124%20.255-10.979%20126.637-50.553%2014.638z'%20fill='%231b73ba'/%3e%3cpath%20d='M62.468%20129.275V12.085l51.064.17-9.106%20104.85z'%20fill='%231c88c7'/%3e%3cpath%20d='M100.851%2027.064H22.298l2.128%2015.318h37.276l-36.68%2015.745%202.127%2014.808h54.043l-1.958%2020.68-18.298%203.575-16.595-4.255-1.277-11.745H27.83l2.042%2024.426%2032.681%209.106%2031.32-9.957%204-47.745H64.765l36.085-14.978z'%20fill='%23fff'/%3e%3c/svg%3e)index.css

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
export default function Index() {
  return (
    <p id="zero-state">
      This is a demo for integrating React Router with React Query.
      <br />
      Check out{' '}
      <a href="https://reactrouter.com/">
        the docs at reactrouter.com
      </a> and{' '}
      <a href="https://tanstack.com/query/v5/docs/">the docs at tanstack.com</a>
      .
    </p>
  )
}

```

```
export default function Index() {
  return (
    <p id="zero-state">
      This is a demo for integrating React Router with React Query.
      <br />
      Check out{' '}
      <a href="https://reactrouter.com/">
        the docs at reactrouter.com
      </a> and{' '}
      <a href="https://tanstack.com/query/v5/docs/">the docs at tanstack.com</a>
      .
    </p>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/react-router?embed=1&theme=light&preset=node&file=index.tsx)

[React Native](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)

[Offline Queries and Mutations](https://tanstack.com/query/latest/docs/framework/react/examples/offline)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=uc3fg)

## Advanced SSR Techniques
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Server Components & Next.js app router](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#server-components--nextjs-app-router)
- [A quick note on terminology](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#a-quick-note-on-terminology)
- [Initial setup](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#initial-setup)
- [Prefetching and de/hydrating data](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#prefetching-and-dehydrating-data)
- [Nesting Server Components](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#nesting-server-components)
- [Alternative: Use a single `queryClient` for prefetching](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#alternative-use-a-single-queryclient-for-prefetching)
- [Data ownership and revalidation](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#data-ownership-and-revalidation)
- [Streaming with Server Components](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#streaming-with-server-components)
- [Experimental streaming without prefetching in Next.js](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#experimental-streaming-without-prefetching-in-nextjs)
- [Final words](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#final-words)

# Advanced Server Rendering

Welcome to the Advanced Server Rendering guide, where you will learn all about using React Query with streaming, Server Components and the Next.js app router.

You might want to read the [Server Rendering & Hydration guide](https://tanstack.com/query/latest/docs/framework/react/guides/ssr) before this one as it teaches the basics for using React Query with SSR, and [Performance & Request Waterfalls](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls) as well as [Prefetching & Router Integration](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching) also contains valuable background.

Before we start, let's note that while the initialData approach outlined in the SSR guide also works with Server Components, we'll focus this guide on the hydration APIs.

[**Server Components & Next.js app router**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#server-components--nextjs-app-router)

We won't cover Server Components in depth here, but the short version is that they are components that are guaranteed to _only_ run on the server, both for the initial page view and **also on page transitions**. This is similar to how Next.js getServerSideProps/getStaticProps and Remix loader works, as these also always run on the server but while those can only return data, Server Components can do a lot more. The data part is central to React Query however, so let's focus on that.

How do we take what we learned in the Server Rendering guide about [passing data prefetched in framework loaders to the app](https://tanstack.com/query/latest/docs/framework/react/guides/ssr#using-the-hydration-apis) and apply that to Server Components and the Next.js app router? The best way to start thinking about this is to consider Server Components as "just" another framework loader.

[**A quick note on terminology**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#a-quick-note-on-terminology)

So far in these guides, we've been talking about the _server_ and the _client_. It's important to note that confusingly enough this does not match 1-1 with _Server Components_ and _Client Components_. Server Components are guaranteed to only run on the server, but Client Components can actually run in both places. The reason for this is that they can also render during the initial _server rendering_ pass.

One way to think of this is that even though Server Components also _render_, they happen during a "loader phase" (always happens on the server), while Client Components run during the "application phase". That application can run both on the server during SSR, and in for example a browser. Where exactly that application runs and if it runs during SSR or not might differ between frameworks.

[**Initial setup**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#initial-setup)

The first step of any React Query setup is always to create a queryClient and wrap your application in a QueryClientProvider. With Server Components, this looks mostly the same across frameworks, one difference being the filename conventions:

tsx

```
// In Next.js, this file would be called: app/providers.tsx
'use client'

// Since QueryClientProvider relies on useContext under the hood, we have to put 'use client' on top
import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export default function Providers({ children }: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
  )
}

```

```
// In Next.js, this file would be called: app/providers.tsx
'use client'

// Since QueryClientProvider relies on useContext under the hood, we have to put 'use client' on top
import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export default function Providers({ children }: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>
  )
}

```

tsx

```
// In Next.js, this file would be called: app/layout.tsx
import Providers from './providers'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <head />
      <body>
        <Providers>{children}</Providers>
      </body>
    </html>
  )
}

```

```
// In Next.js, this file would be called: app/layout.tsx
import Providers from './providers'

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="en">
      <head />
      <body>
        <Providers>{children}</Providers>
      </body>
    </html>
  )
}

```

This part is pretty similar to what we did in the SSR guide, we just need to split things up into two different files.

[**Prefetching and de/hydrating data**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#prefetching-and-dehydrating-data)

Let's next look at how to actually prefetch data and dehydrate and hydrate it. This is what it looked like using the **Next.js pages router**:

tsx

```
// pages/posts.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

// This could also be getServerSideProps
export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  //
  // Note that we are using useQuery here instead of useSuspenseQuery.
  // Because this data has already been prefetched, there is no need to
  // ever suspend in the component itself. If we forget or remove the
  // prefetch, this will instead fetch the data on the client, while
  // using useSuspenseQuery would have had worse side effects.
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// pages/posts.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
  useQuery,
} from '@tanstack/react-query'

// This could also be getServerSideProps
export async function getStaticProps() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return {
    props: {
      dehydratedState: dehydrate(queryClient),
    },
  }
}

function Posts() {
  // This useQuery could just as well happen in some deeper child to
  // the <PostsRoute>, data will be available immediately either way
  //
  // Note that we are using useQuery here instead of useSuspenseQuery.
  // Because this data has already been prefetched, there is no need to
  // ever suspend in the component itself. If we forget or remove the
  // prefetch, this will instead fetch the data on the client, while
  // using useSuspenseQuery would have had worse side effects.
  const { data } = useQuery({ queryKey: ['posts'], queryFn: getPosts })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

export default function PostsRoute({ dehydratedState }) {
  return (
    <HydrationBoundary state={dehydratedState}>
      <Posts />
    </HydrationBoundary>
  )
}

```

Converting this to the app router actually looks pretty similar, we just need to move things around a bit. First, we'll create a Server Component to do the prefetching part:

tsx

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    // Neat! Serialization is now as easy as passing props.
    // HydrationBoundary is a Client Component, so hydration will happen there.
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    // Neat! Serialization is now as easy as passing props.
    // HydrationBoundary is a Client Component, so hydration will happen there.
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

Next, we'll look at what the Client Component part looks like:

tsx

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  // This useQuery could just as well happen in some deeper
  // child to <Posts>, data will be available immediately either way
  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: () => getPosts(),
  })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix.
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

```

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  // This useQuery could just as well happen in some deeper
  // child to <Posts>, data will be available immediately either way
  const { data } = useQuery({
    queryKey: ['posts'],
    queryFn: () => getPosts(),
  })

  // This query was not prefetched on the server and will not start
  // fetching until on the client, both patterns are fine to mix.
  const { data: commentsData } = useQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  // ...
}

```

One neat thing about the examples above is that the only thing that is Next.js-specific here are the file names, everything else would look the same in any other framework that supports Server Components.

In the SSR guide, we noted that you could get rid of the boilerplate of having <HydrationBoundary> in every route. This is not possible with Server Components.

> NOTE: If you encounter a type error while using async Server Components with TypeScript versions lower than 5.1.3 and @types/react versions lower than 18.2.8, it is recommended to update to the latest versions of both. Alternatively, you can use the temporary workaround of adding {/\\* @ts-expect-error Server Component \*/} when calling this component inside another. For more information, see [Async Server Component TypeScript Error](https://nextjs.org/docs/app/building-your-application/configuring/typescript#async-server-component-typescript-error) in the Next.js 13 docs.

> NOTE: If you encounter an error Only plain objects, and a few built-ins, can be passed to Server Actions. Classes or null prototypes are not supported. make sure that you're **not** passing to queryFn a function reference, instead call the function because queryFn args has a bunch of properties and not all of it would be serializable. see [Server Action only works when queryFn isn't a reference](https://github.com/TanStack/query/issues/6264).

[**Nesting Server Components**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#nesting-server-components)

A nice thing about Server Components is that they can be nested and exist on many levels in the React tree, making it possible to prefetch data closer to where it's actually used instead of only at the top of the application (just like Remix loaders). This can be as simple as a Server Component rendering another Server Component (we'll leave the Client Components out in this example for brevity):

tsx

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'
import CommentsServerComponent from './comments-server'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
      <CommentsServerComponent />
    </HydrationBoundary>
  )
}

// app/posts/comments-server.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Comments from './comments'

export default async function CommentsServerComponent() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Comments />
    </HydrationBoundary>
  )
}

```

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'
import CommentsServerComponent from './comments-server'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
      <CommentsServerComponent />
    </HydrationBoundary>
  )
}

// app/posts/comments-server.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Comments from './comments'

export default async function CommentsServerComponent() {
  const queryClient = new QueryClient()

  await queryClient.prefetchQuery({
    queryKey: ['posts-comments'],
    queryFn: getComments,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Comments />
    </HydrationBoundary>
  )
}

```

As you can see, it's perfectly fine to use <HydrationBoundary> in multiple places, and create and dehydrate multiple queryClient for prefetching.

Note that because we are awaiting getPosts before rendering CommentsServerComponent this would lead to a server side waterfall:

```
1. |> getPosts()
2.   |> getComments()

```

```
1. |> getPosts()
2.   |> getComments()

```

If the server latency to the data is low, this might not be a huge issue, but is still worth pointing out.

In Next.js, besides prefetching data in page.tsx, you can also do it in layout.tsx, and in [parallel routes](https://nextjs.org/docs/app/building-your-application/routing/parallel-routes). Because these are all part of the routing, Next.js knows how to fetch them all in parallel. So if CommentsServerComponent above was instead expressed as a parallel route, the waterfall would be flattened automatically.

As more frameworks start supporting Server Components, they might have other routing conventions. Read your framework docs for details.

[**Alternative: Use a single queryClient for prefetching**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#alternative-use-a-single-queryclient-for-prefetching)

In the example above, we create a new queryClient for each Server Component that fetches data. This is the recommended approach, but if you want to, you can alternatively create a single one that is reused across all Server Components:

tsx

```
// app/getQueryClient.tsx
import { QueryClient } from '@tanstack/react-query'
import { cache } from 'react'

// cache() is scoped per request, so we don't leak data between requests
const getQueryClient = cache(() => new QueryClient())
export default getQueryClient

```

```
// app/getQueryClient.tsx
import { QueryClient } from '@tanstack/react-query'
import { cache } from 'react'

// cache() is scoped per request, so we don't leak data between requests
const getQueryClient = cache(() => new QueryClient())
export default getQueryClient

```

The benefit of this is that you can call getQueryClient() to get a hold of this client anywhere that gets called from a Server Component, including utility functions. The downside is that every time you call dehydrate(getQueryClient()), you serialize _the entire_ queryClient, including queries that have already been serialized before and are unrelated to the current Server Component which is unnecessary overhead.

Next.js already dedupes requests that utilize fetch(), but if you are using something else in your queryFn, or if you use a framework that does _not_ dedupe these requests automatically, using a single queryClient as described above might make sense, despite the duplicated serialization.

> As a future improvement, we might look into creating a dehydrateNew() function (name pending) that only dehydrate queries that are _new_ since the last call to dehydrateNew(). Feel free to get in touch if this sounds interesting and like something you want to help out with!

[**Data ownership and revalidation**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#data-ownership-and-revalidation)

With Server Components, it's important to think about data ownership and revalidation. To explain why, let's look at a modified example from above:

tsx

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  // Note we are now using fetchQuery()
  const posts = await queryClient.fetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      {/* This is the new part */}
      <div>Nr of posts: {posts.length}</div>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import Posts from './posts'

export default async function PostsPage() {
  const queryClient = new QueryClient()

  // Note we are now using fetchQuery()
  const posts = await queryClient.fetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      {/* This is the new part */}
      <div>Nr of posts: {posts.length}</div>
      <Posts />
    </HydrationBoundary>
  )
}

```

We are now rendering data from the getPosts query both in a Server Component and in a Client Component. This will be fine for the initial page render, but what happens when the query revalidates on the client for some reason when staleTime has been passed?

React Query has no idea of how to _revalidate the Server Component_, so if it refetches the data on the client, causing React to rerender the list of posts, the Nr of posts: {posts.length} will end up out of sync.

This is fine if you set staleTime: Infinity, so that React Query never revalidates, but this is probably not what you want if you are using React Query in the first place.

Using React Query with Server Components makes most sense if:

- You have an app using React Query and want to migrate to Server Components without rewriting all the data fetching
- You want a familiar programming paradigm, but want to still sprinkle in the benefits of Server Components where it makes most sense
- You have some use case that React Query covers, but that your framework of choice does not cover

It's hard to give general advice on when it makes sense to pair React Query with Server Components and not. **If you are just starting out with a new Server Components app, we suggest you start out with any tools for data fetching your framework provides you with and avoid bringing in React Query until you actually need it.** This might be never, and that's fine, use the right tool for the job!

If you do use it, a good rule of thumb is to avoid queryClient.fetchQuery unless you need to catch errors. If you do use it, don't render its result on the server or pass the result to another component, even a Client Component one.

From the React Query perspective, treat Server Components as a place to prefetch data, nothing more.

Of course, it's fine to have Server Components own some data, and Client Components own other, just make sure those two realities don't get out of sync.

[**Streaming with Server Components**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#streaming-with-server-components)

The Next.js app router automatically streams any part of the application that is ready to be displayed to the browser as soon as possible, so finished content can be displayed immediately without waiting for still pending content. It does this along <Suspense> boundary lines. Note that if you create a file loading.tsx, this automatically creates a <Suspense> boundary behind the scenes.

With the prefetching patterns described above, React Query is perfectly compatible with this form of streaming. As the data for each Suspense boundary resolves, Next.js can render and stream the finished content to the browser. This works even if you are using useQuery as outlined above because the suspending actually happens when you await the prefetch.

As of React Query v5.40.0, you don't have to await all prefetches for this to work, as pending Queries can also be dehydrated and sent to the client. This lets you kick off prefetches as early as possible without letting them block an entire Suspense boundary, and streams the _data_ to the client as the query finishes. This can be useful for example if you want to prefetch some content that is only visible after some user interaction, or say if you want to await and render the first page of an infinite query, but start prefetching page 2 without blocking rendering.

To make this work, we have to instruct the queryClient to also dehydrate pending Queries. We can do this globally, or by passing that option directly to dehydrate.

We will also need to move the getQueryClient() function out of our app/providers.tsx file as we want to use it in our server component and our client provider.

tsx

```
// app/get-query-client.ts
import {
  isServer,
  QueryClient,
  defaultShouldDehydrateQuery,
} from '@tanstack/react-query'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        staleTime: 60 * 1000,
      },
      dehydrate: {
        // include pending queries in dehydration
        shouldDehydrateQuery: (query) =>
          defaultShouldDehydrateQuery(query) ||
          query.state.status === 'pending',
        shouldRedactErrors: (error) => {
          // We should not catch Next.js server errors
          // as that's how Next.js detects dynamic pages
          // so we cannot redact them.
          // Next.js also automatically redacts errors for us
          // with better digests.
          return false
        },
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

export function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

```

```
// app/get-query-client.ts
import {
  isServer,
  QueryClient,
  defaultShouldDehydrateQuery,
} from '@tanstack/react-query'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        staleTime: 60 * 1000,
      },
      dehydrate: {
        // include pending queries in dehydration
        shouldDehydrateQuery: (query) =>
          defaultShouldDehydrateQuery(query) ||
          query.state.status === 'pending',
        shouldRedactErrors: (error) => {
          // We should not catch Next.js server errors
          // as that's how Next.js detects dynamic pages
          // so we cannot redact them.
          // Next.js also automatically redacts errors for us
          // with better digests.
          return false
        },
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

export function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

```

> Note: This works in NextJs and Server Components because React can serialize Promises over the wire when you pass them down to Client Components.

Then, all we need to do is provide a HydrationBoundary, but we don't need to await prefetches anymore:

tsx

```
// app/posts/page.tsx
import { dehydrate, HydrationBoundary } from '@tanstack/react-query'
import { getQueryClient } from './get-query-client'
import Posts from './posts'

// the function doesn't need to be `async` because we don't `await` anything
export default function PostsPage() {
  const queryClient = getQueryClient()

  // look ma, no await
  queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// app/posts/page.tsx
import { dehydrate, HydrationBoundary } from '@tanstack/react-query'
import { getQueryClient } from './get-query-client'
import Posts from './posts'

// the function doesn't need to be `async` because we don't `await` anything
export default function PostsPage() {
  const queryClient = getQueryClient()

  // look ma, no await
  queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: getPosts,
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

On the client, the Promise will be put into the QueryCache for us. That means we can now call useSuspenseQuery inside the Posts component to "use" that Promise (which was created on the Server):

tsx

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  const { data } = useSuspenseQuery({ queryKey: ['posts'], queryFn: getPosts })

  // ...
}

```

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  const { data } = useSuspenseQuery({ queryKey: ['posts'], queryFn: getPosts })

  // ...
}

```

> Note that you could also useQuery instead of useSuspenseQuery, and the Promise would still be picked up correctly. However, NextJs won't suspend in that case and the component will render in the pending status, which also opts out of server rendering the content.

If you're using non-JSON data types and serialize the query results on the server, you can specify the dehydrate.serializeData and hydrate.deserializeData options to serialize and deserialize the data on each side of the boundary to ensure the data in the cache is the same format both on the server and the client:

tsx

```
// app/get-query-client.ts
import { QueryClient, defaultShouldDehydrateQuery } from '@tanstack/react-query'
import { deserialize, serialize } from './transformer'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      // ...
      hydrate: {
        deserializeData: deserialize,
      },
      dehydrate: {
        serializeData: serialize,
      },
    },
  })
}

// ...

```

```
// app/get-query-client.ts
import { QueryClient, defaultShouldDehydrateQuery } from '@tanstack/react-query'
import { deserialize, serialize } from './transformer'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      // ...
      hydrate: {
        deserializeData: deserialize,
      },
      dehydrate: {
        serializeData: serialize,
      },
    },
  })
}

// ...

```

tsx

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import { getQueryClient } from './get-query-client'
import { serialize } from './transformer'
import Posts from './posts'

export default function PostsPage() {
  const queryClient = getQueryClient()

  // look ma, no await
  queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: () => getPosts().then(serialize), // <-- serialize the data on the server
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

```
// app/posts/page.tsx
import {
  dehydrate,
  HydrationBoundary,
  QueryClient,
} from '@tanstack/react-query'
import { getQueryClient } from './get-query-client'
import { serialize } from './transformer'
import Posts from './posts'

export default function PostsPage() {
  const queryClient = getQueryClient()

  // look ma, no await
  queryClient.prefetchQuery({
    queryKey: ['posts'],
    queryFn: () => getPosts().then(serialize), // <-- serialize the data on the server
  })

  return (
    <HydrationBoundary state={dehydrate(queryClient)}>
      <Posts />
    </HydrationBoundary>
  )
}

```

tsx

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  const { data } = useSuspenseQuery({ queryKey: ['posts'], queryFn: getPosts })

  // ...
}

```

```
// app/posts/posts.tsx
'use client'

export default function Posts() {
  const { data } = useSuspenseQuery({ queryKey: ['posts'], queryFn: getPosts })

  // ...
}

```

Now, your getPosts function can return e.g. Temporal datetime objects and the data will be serialized and deserialized on the client, assuming your transformer can serialize and deserialize those data types.

For more information, check out the [Next.js App with Prefetching Example](https://tanstack.com/query/latest/docs/framework/react/examples/react/nextjs-app-prefetching).

[**Experimental streaming without prefetching in Next.js**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#experimental-streaming-without-prefetching-in-nextjs)

While we recommend the prefetching solution detailed above because it flattens request waterfalls both on the initial page load **and** any subsequent page navigation, there is an experimental way to skip prefetching altogether and still have streaming SSR work: @tanstack/react-query-next-experimental

This package will allow you to fetch data on the server (in a Client Component) by just calling useSuspenseQuery in your component. Results will then be streamed from the server to the client as SuspenseBoundaries resolve. If you call useSuspenseQuery without wrapping it in a <Suspense> boundary, the HTML response won't start until the fetch resolves. This can be when you want depending on the situation, but keep in mind that this will hurt your TTFB.

To achieve this, wrap your app in the ReactQueryStreamedHydration component:

tsx

```
// app/providers.tsx
'use client'

import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import * as React from 'react'
import { ReactQueryStreamedHydration } from '@tanstack/react-query-next-experimental'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export function Providers(props: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryStreamedHydration>
        {props.children}
      </ReactQueryStreamedHydration>
    </QueryClientProvider>
  )
}

```

```
// app/providers.tsx
'use client'

import {
  isServer,
  QueryClient,
  QueryClientProvider,
} from '@tanstack/react-query'
import * as React from 'react'
import { ReactQueryStreamedHydration } from '@tanstack/react-query-next-experimental'

function makeQueryClient() {
  return new QueryClient({
    defaultOptions: {
      queries: {
        // With SSR, we usually want to set some default staleTime
        // above 0 to avoid refetching immediately on the client
        staleTime: 60 * 1000,
      },
    },
  })
}

let browserQueryClient: QueryClient | undefined = undefined

function getQueryClient() {
  if (isServer) {
    // Server: always make a new query client
    return makeQueryClient()
  } else {
    // Browser: make a new query client if we don't already have one
    // This is very important, so we don't re-make a new client if React
    // suspends during the initial render. This may not be needed if we
    // have a suspense boundary BELOW the creation of the query client
    if (!browserQueryClient) browserQueryClient = makeQueryClient()
    return browserQueryClient
  }
}

export function Providers(props: { children: React.ReactNode }) {
  // NOTE: Avoid useState when initializing the query client if you don't
  //       have a suspense boundary between this and the code that may
  //       suspend because React will throw away the client on the initial
  //       render if it suspends and there is no boundary
  const queryClient = getQueryClient()

  return (
    <QueryClientProvider client={queryClient}>
      <ReactQueryStreamedHydration>
        {props.children}
      </ReactQueryStreamedHydration>
    </QueryClientProvider>
  )
}

```

For more information, check out the [NextJs Suspense Streaming Example](https://tanstack.com/query/latest/docs/framework/react/examples/react/nextjs-suspense-streaming).

The big upside is that you no longer need to prefetch queries manually to have SSR work, and it even still streams in the result! This gives you phenomenal DX and lower code complexity.

The downside is easiest to explain if we look back at [the complex request waterfall example](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls#code-splitting) in the Performance & Request Waterfalls guide. Server Components with prefetching effectively eliminates the request waterfalls both for the initial page load **and** any subsequent navigation. This prefetch-less approach however will only flatten the waterfalls on the initial page load but ends up the same deep waterfall as the original example on page navigations:

```
1. |> JS for <Feed>
2.   |> getFeed()
3.     |> JS for <GraphFeedItem>
4.       |> getGraphDataById()

```

```
1. |> JS for <Feed>
2.   |> getFeed()
3.     |> JS for <GraphFeedItem>
4.       |> getGraphDataById()

```

This is even worse than with getServerSideProps/getStaticProps, since with those we could at least parallelize data- and code-fetching.

If you value DX/iteration/shipping speed with low code complexity over performance, don't have deeply nested queries, or are on top of your request waterfalls with parallel fetching using tools like useSuspenseQueries, this can be a good tradeoff.

> It might be possible to combine the two approaches, but even we haven't tried that out yet. If you do try this, please report back your findings, or even update these docs with some tips!

[**Final words**](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr#final-words)

Server Components and streaming are still fairly new concepts and we are still figuring out how React Query fits in and what improvements we can make to the API. We welcome suggestions, feedback and bug reports!

Similarly, it would be impossible to teach all the intricacies of this new paradigm all in one guide, on the first try. If you are missing some piece of information here or have suggestions on how to improve this content, also get in touch, or even better, click the "Edit on GitHub" button below and help us out.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/advanced-ssr.md)

[Server Rendering & Hydration](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)

[Caching](https://tanstack.com/query/latest/docs/framework/react/guides/caching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/react-native: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Native Examples
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/$react-native: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Basic GraphQL Request
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Basic Graphql Request  [Github](https://github.com/tanstack/query/tree/main/examples/react/basic-graphql-request) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/basic-graphql-request?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/basic-graphql-request?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![eslint.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)eslint.config.js

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { gql, request } from 'graphql-request'

const endpoint = 'https://graphqlzero.almansi.me/api'

const queryClient = new QueryClient()

type Post = {
  id: number
  title: string
  body: string
}

function App() {
  const [postId, setPostId] = React.useState(-1)

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        As you visit the posts below, you will notice them in a loading state
        the first time you load them. However, after you return to this list and
        click on any posts you have already visited again, you will see them
        load instantly and background refresh right before your eyes!{' '}
        <strong>
          (You may need to throttle your network speed to simulate longer
          loading sequences)
        </strong>
      </p>
      {postId > -1 ? (
        <Post postId={postId} setPostId={setPostId} />
      ) : (
        <Posts setPostId={setPostId} />
      )}
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function usePosts() {
  return useQuery({
    queryKey: ['posts'],
    queryFn: async () => {
      const {
        posts: { data },
      } = await request<{ posts: { data: Array<Post> } }>(
        endpoint,
        gql`
          query {
            posts {
              data {
                id
                title
              }
            }
          }
        `,
      )
      return data
    },
  })
}

function Posts({
  setPostId,
}: {
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const queryClient = useQueryClient()
  const { status, data, error, isFetching } = usePosts()

  return (
    <div>
      <h1>Posts</h1>
      <div>
        {status === 'pending' ? (
          'Loading...'
        ) : status === 'error' ? (
          <span>Error: {error.message}</span>
        ) : (
          <>
            <div>
              {data.map((post) => (
                <p key={post.id}>
                  <a
                    onClick={() => setPostId(post.id)}
                    href="#"
                    style={
                      // We can find the existing query data here to show bold links for
                      // ones that are cached
                      queryClient.getQueryData(['post', post.id])
                        ? {
                            fontWeight: 'bold',
                            color: 'green',
                          }
                        : {}
                    }
                  >
                    {post.title}
                  </a>
                </p>
              ))}
            </div>
            <div>{isFetching ? 'Background Updating...' : ' '}</div>
          </>
        )}
      </div>
    </div>
  )
}

function usePost(postId: number) {
  return useQuery({
    queryKey: ['post', postId],
    queryFn: async () => {
      const { post } = await request<{ post: Post }>(
        endpoint,
        gql`
        query {
          post(id: ${postId}) {
            id
            title
            body
          }
        }
        `,
      )

      return post
    },
    enabled: !!postId,
  })
}

function Post({
  postId,
  setPostId,
}: {
  postId: number
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const { status, data, error, isFetching } = usePost(postId)

  return (
    <div>
      <div>
        <a onClick={() => setPostId(-1)} href="#">
          Back
        </a>
      </div>
      {!postId || status === 'pending' ? (
        'Loading...'
      ) : status === 'error' ? (
        <span>Error: {error.message}</span>
      ) : (
        <>
          <h1>{data.title}</h1>
          <div>
            <p>{data.body}</p>
          </div>
          <div>{isFetching ? 'Background Updating...' : ' '}</div>
        </>
      )}
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import { gql, request } from 'graphql-request'

const endpoint = 'https://graphqlzero.almansi.me/api'

const queryClient = new QueryClient()

type Post = {
  id: number
  title: string
  body: string
}

function App() {
  const [postId, setPostId] = React.useState(-1)

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        As you visit the posts below, you will notice them in a loading state
        the first time you load them. However, after you return to this list and
        click on any posts you have already visited again, you will see them
        load instantly and background refresh right before your eyes!{' '}
        <strong>
          (You may need to throttle your network speed to simulate longer
          loading sequences)
        </strong>
      </p>
      {postId > -1 ? (
        <Post postId={postId} setPostId={setPostId} />
      ) : (
        <Posts setPostId={setPostId} />
      )}
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function usePosts() {
  return useQuery({
    queryKey: ['posts'],
    queryFn: async () => {
      const {
        posts: { data },
      } = await request<{ posts: { data: Array<Post> } }>(
        endpoint,
        gql`
          query {
            posts {
              data {
                id
                title
              }
            }
          }
        `,
      )
      return data
    },
  })
}

function Posts({
  setPostId,
}: {
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const queryClient = useQueryClient()
  const { status, data, error, isFetching } = usePosts()

  return (
    <div>
      <h1>Posts</h1>
      <div>
        {status === 'pending' ? (
          'Loading...'
        ) : status === 'error' ? (
          <span>Error: {error.message}</span>
        ) : (
          <>
            <div>
              {data.map((post) => (
                <p key={post.id}>
                  <a
                    onClick={() => setPostId(post.id)}
                    href="#"
                    style={
                      // We can find the existing query data here to show bold links for
                      // ones that are cached
                      queryClient.getQueryData(['post', post.id])
                        ? {
                            fontWeight: 'bold',
                            color: 'green',
                          }
                        : {}
                    }
                  >
                    {post.title}
                  </a>
                </p>
              ))}
            </div>
            <div>{isFetching ? 'Background Updating...' : ' '}</div>
          </>
        )}
      </div>
    </div>
  )
}

function usePost(postId: number) {
  return useQuery({
    queryKey: ['post', postId],
    queryFn: async () => {
      const { post } = await request<{ post: Post }>(
        endpoint,
        gql`
        query {
          post(id: ${postId}) {
            id
            title
            body
          }
        }
        `,
      )

      return post
    },
    enabled: !!postId,
  })
}

function Post({
  postId,
  setPostId,
}: {
  postId: number
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const { status, data, error, isFetching } = usePost(postId)

  return (
    <div>
      <div>
        <a onClick={() => setPostId(-1)} href="#">
          Back
        </a>
      </div>
      {!postId || status === 'pending' ? (
        'Loading...'
      ) : status === 'error' ? (
        <span>Error: {error.message}</span>
      ) : (
        <>
          <h1>{data.title}</h1>
          <div>
            <p>{data.body}</p>
          </div>
          <div>{isFetching ? 'Background Updating...' : ' '}</div>
        </>
      )}
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/basic-graphql-request?embed=1&theme=light&preset=node&file=index.tsx)

[Basic](https://tanstack.com/query/latest/docs/framework/react/examples/basic)

[Auto Refetching / Polling / Realtime](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=z812l)

## Next.js Suspense Streaming
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Nextjs Suspense Streaming  [Github](https://github.com/tanstack/query/tree/main/examples/react/nextjs-suspense-streaming) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/nextjs-suspense-streaming?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/nextjs-suspense-streaming?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- src

  - app

    - api

    - ![layout.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)layout.tsx

    - ![page.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)page.tsx

    - ![providers.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)providers.tsx
- ![next-env.d.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)next-env.d.ts

- ![next.config.js file icon](data:image/svg+xml,%3csvg%20enable-background='new%200%200%201073.9%201074'%20viewBox='0%200%201073.9%201074'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m1005.4%200h-936.8c-37.9%200-68.6%2030.7-68.6%2068.6v936.8c0%2037.8%2030.7%2068.6%2068.6%2068.6h936.8c37.8%200%2068.6-30.7%2068.6-68.6v-936.9c-.1-37.8-30.8-68.5-68.6-68.5zm-517.8%20605.3c0%2029.8-2.8%2055.3-8.5%2076.3s-14.3%2037.8-25.7%2051c-11.5%2013-25.8%2022.6-42.9%2028.6-17.1%206.1-37%209.1-59.7%209.1-20%200-38-3.2-54.2-9.4-31.7-11.9-56.5-37.4-67.4-69.4-6.4-17.9-9.5-36.7-9.2-55.7v-13.4h64.3c0%2059.9%2022.2%2089.9%2066.6%2089.9%2011.4%200%2021.4-1.3%2030.4-4%208.9-2.8%2016.4-7.8%2022.6-15.4%206.2-7.5%2010.8-17.9%2014-31.4s4.8-31%204.8-52.7v-335.2h65.1zm359.1%2097.3c-6.8%2013.7-16.4%2025.8-28.2%2035.5-13.2%2010.6-28.4%2018.7-44.6%2023.7-17.5%205.6-37.1%208.4-58.8%208.4-96.1%200-146.8-37.9-152-113.9h63.2c.3%2042.9%2029.7%2064.4%2088.1%2064.4%2013%200%2024.6-1.4%2034.5-4.3%2010-2.8%2018.3-6.8%2024.9-11.8%2012.9-9.3%2020.5-24.2%2020.4-40.1.3-7-1.1-13.9-3.9-20.3-2.6-5.2-7.7-9.7-15.2-13.7-10-4.9-20.4-8.8-31.2-11.6-17.3-5-34.7-9.8-52.2-14.3-20.9-5.2-39-10.4-54.1-15.6-13.4-4.2-26-10.5-37.4-18.8-9.5-7.1-17-16.5-21.7-27.3-4.7-10.9-7-24.6-7-41.1%200-14.5%203.1-28%209.2-40.5%206.2-12.4%2014.9-23.2%2026.5-32.4%2011.4-9.1%2025.3-16.2%2041.5-21.4%2017.6-5.4%2036-8%2054.4-7.8%2092.9%200%20140.2%2033%20141.6%2099.1h-62.2c-2.2-33-27.1-49.6-74.7-49.6-10.6%200-20.3%201.1-29.4%203.2s-16.8%205.1-23.5%209.1c-6.7%203.9-11.8%208.8-15.6%2014.6-3.7%206-5.7%2013-5.5%2020.1%200%206.9.9%2012.6%202.6%2017%201.7%204.5%205.8%208.6%2012.4%2012.4%206.5%203.8%2016.2%207.6%2029%2011.3s30.3%208.3%2052.5%2013.7c21.4%205.2%2040.1%2010.5%2055.9%2016.1%2015.7%205.6%2028.8%2012.3%2039.4%2020.2%2010.5%207.8%2018.2%2017.5%2023.3%2028.8%205%2011.3%207.6%2025.5%207.6%2042.5.2%2016.1-3.2%2030.8-9.8%2044.4z'%20fill='%23F7DF1E'/%3e%3c/svg%3e)next.config.js

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json


tsx

```
'use client'
import { isServer, useSuspenseQuery } from '@tanstack/react-query'
import { Suspense } from 'react'

export const runtime = 'edge' // 'nodejs' (default) | 'edge'

function getBaseURL() {
  if (!isServer) {
    return ''
  }
  if (process.env.VERCEL_URL) {
    return `https://${process.env.VERCEL_URL}`
  }
  return 'http://localhost:3000'
}
const baseUrl = getBaseURL()
function useWaitQuery(props: { wait: number }) {
  const query = useSuspenseQuery({
    queryKey: ['wait', props.wait],
    queryFn: async () => {
      const path = `/api/wait?wait=${props.wait}`
      const url = baseUrl + path

      const res: string = await (
        await fetch(url, {
          cache: 'no-store',
        })
      ).json()
      return res
    },
  })

  return [query.data as string, query] as const
}

function MyComponent(props: { wait: number }) {
  const [data] = useWaitQuery(props)

  return <div>result: {data}</div>
}

export default function MyPage() {
  return (
    <>
      <Suspense fallback={<div>waiting 100....</div>}>
        <MyComponent wait={100} />
      </Suspense>
      <Suspense fallback={<div>waiting 200....</div>}>
        <MyComponent wait={200} />
      </Suspense>
      <Suspense fallback={<div>waiting 300....</div>}>
        <MyComponent wait={300} />
      </Suspense>
      <Suspense fallback={<div>waiting 400....</div>}>
        <MyComponent wait={400} />
      </Suspense>
      <Suspense fallback={<div>waiting 500....</div>}>
        <MyComponent wait={500} />
      </Suspense>
      <Suspense fallback={<div>waiting 600....</div>}>
        <MyComponent wait={600} />
      </Suspense>
      <Suspense fallback={<div>waiting 700....</div>}>
        <MyComponent wait={700} />
      </Suspense>

      <fieldset>
        <legend>
          combined <code>Suspense</code>-container
        </legend>
        <Suspense
          fallback={
            <>
              <div>waiting 800....</div>
              <div>waiting 900....</div>
              <div>waiting 1000....</div>
            </>
          }
        >
          <MyComponent wait={800} />
          <MyComponent wait={900} />
          <MyComponent wait={1000} />
        </Suspense>
      </fieldset>
    </>
  )
}

```

```
'use client'
import { isServer, useSuspenseQuery } from '@tanstack/react-query'
import { Suspense } from 'react'

export const runtime = 'edge' // 'nodejs' (default) | 'edge'

function getBaseURL() {
  if (!isServer) {
    return ''
  }
  if (process.env.VERCEL_URL) {
    return `https://${process.env.VERCEL_URL}`
  }
  return 'http://localhost:3000'
}
const baseUrl = getBaseURL()
function useWaitQuery(props: { wait: number }) {
  const query = useSuspenseQuery({
    queryKey: ['wait', props.wait],
    queryFn: async () => {
      const path = `/api/wait?wait=${props.wait}`
      const url = baseUrl + path

      const res: string = await (
        await fetch(url, {
          cache: 'no-store',
        })
      ).json()
      return res
    },
  })

  return [query.data as string, query] as const
}

function MyComponent(props: { wait: number }) {
  const [data] = useWaitQuery(props)

  return <div>result: {data}</div>
}

export default function MyPage() {
  return (
    <>
      <Suspense fallback={<div>waiting 100....</div>}>
        <MyComponent wait={100} />
      </Suspense>
      <Suspense fallback={<div>waiting 200....</div>}>
        <MyComponent wait={200} />
      </Suspense>
      <Suspense fallback={<div>waiting 300....</div>}>
        <MyComponent wait={300} />
      </Suspense>
      <Suspense fallback={<div>waiting 400....</div>}>
        <MyComponent wait={400} />
      </Suspense>
      <Suspense fallback={<div>waiting 500....</div>}>
        <MyComponent wait={500} />
      </Suspense>
      <Suspense fallback={<div>waiting 600....</div>}>
        <MyComponent wait={600} />
      </Suspense>
      <Suspense fallback={<div>waiting 700....</div>}>
        <MyComponent wait={700} />
      </Suspense>

      <fieldset>
        <legend>
          combined <code>Suspense</code>-container
        </legend>
        <Suspense
          fallback={
            <>
              <div>waiting 800....</div>
              <div>waiting 900....</div>
              <div>waiting 1000....</div>
            </>
          }
        >
          <MyComponent wait={800} />
          <MyComponent wait={900} />
          <MyComponent wait={1000} />
        </Suspense>
      </fieldset>
    </>
  )
}

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/nextjs-suspense-streaming?embed=1&theme=light&preset=node&file=index.tsx)

[Next.js app with prefetching](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)

[React Native](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=hv1hg)

## React Query Custom Hooks
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/custom-hooks: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Movies Stack
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/src/navigation/MoviesStack: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Star Wars Example
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/undefined/star-wars: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Online Manager
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

**Something went wrong!** Hide Error

```
Failed to fetch repo contents for tanstack/query/main/examples/react/src/hooks/useOnlineManager: Status is Not Found - 404
```

Try Again [Go Back](https://tanstack.com/)

[Home](https://tanstack.com/query/latest)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## Migrating to TanStack Query
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [Breaking Changes](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#breaking-changes)
- [Supports a single signature, one object](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#supports-a-single-signature-one-object)
- [`queryClient.getQueryData` now accepts queryKey only as an Argument](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#queryclientgetquerydata-now-accepts-querykey-only-as-an-argument)
- [`queryClient.getQueryState` now accepts queryKey only as an Argument](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#queryclientgetquerystate-now-accepts-querykey-only-as-an-argument)
- [Codemod](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#codemod)
- [Callbacks on useQuery (and QueryObserver) have been removed](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#callbacks-on-usequery-and-queryobserver-have-been-removed)
- [The `refetchInterval` callback function only gets `query` passed](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-refetchinterval-callback-function-only-gets-query-passed)
- [The `remove` method has been removed from useQuery](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-remove-method-has-been-removed-from-usequery)
- [The minimum required TypeScript version is now 4.7](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-minimum-required-typescript-version-is-now-47)
- [The `isDataEqual` option has been removed from useQuery](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-isdataequal-option-has-been-removed-from-usequery)
- [The deprecated custom logger has been removed](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-deprecated-custom-logger-has-been-removed)
- [Supported Browsers](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#supported-browsers)
- [Private class fields and methods](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#private-class-fields-and-methods)
- [Rename `cacheTime` to `gcTime`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#rename-cachetime-to-gctime)
- [The `useErrorBoundary` option has been renamed to `throwOnError`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-useerrorboundary-option-has-been-renamed-to-throwonerror)
- [TypeScript: `Error` is now the default type for errors instead of `unknown`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#typescript-error-is-now-the-default-type-for-errors-instead-of-unknown)
- [eslint `prefer-query-object-syntax` rule is removed](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#eslint-prefer-query-object-syntax-rule-is-removed)
- [Removed `keepPreviousData` in favor of `placeholderData` identity function](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-keeppreviousdata-in-favor-of-placeholderdata-identity-function)
- [Window focus refetching no longer listens to the `focus` event](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#window-focus-refetching-no-longer-listens-to-the-focus-event)
- [Network status no longer relies on the `navigator.onLine` property](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#network-status-no-longer-relies-on-the-navigatoronline-property)
- [Removed custom `context` prop in favor of custom `queryClient` instance](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-custom-context-prop-in-favor-of-custom-queryclient-instance)
- [Removed `refetchPage` in favor of `maxPages`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-refetchpage-in-favor-of-maxpages)
- [New `dehydrate` API](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-dehydrate-api)
- [Infinite queries now need a `initialPageParam`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#infinite-queries-now-need-a-initialpageparam)
- [Manual mode for infinite queries has been removed](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#manual-mode-for-infinite-queries-has-been-removed)
- [Returning `null` from `getNextPageParam` or `getPreviousPageParam` now indicates that there is no further page available](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#returning-null-from-getnextpageparam-or-getpreviouspageparam-now-indicates-that-there-is-no-further-page-available)
- [No retries on the server](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#no-retries-on-the-server)
- [`status: loading` has been changed to `status: pending` and `isLoading` has been changed to `isPending` and `isInitialLoading` has now been renamed to `isLoading`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#status-loading-has-been-changed-to-status-pending-and-isloading-has-been-changed-to-ispending-and-isinitialloading-has-now-been-renamed-to-isloading)
- [`hashQueryKey` has been renamed to `hashKey`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#hashquerykey-has-been-renamed-to-hashkey)
- [The minimum required React version is now 18.0](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-minimum-required-react-version-is-now-180)
- [The `contextSharing` prop has been removed from QueryClientProvider](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-contextsharing-prop-has-been-removed-from-queryclientprovider)
- [No longer using `unstable_batchedUpdates` as the batching function in React and React Native](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#no-longer-using-unstable_batchedupdates-as-the-batching-function-in-react-and-react-native)
- [Hydration API changes](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#hydration-api-changes)
- [Query defaults changes](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#query-defaults-changes)
- [New Features 🚀](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-features-)
- [Simplified optimistic updates](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#simplified-optimistic-updates)
- [Limited, Infinite Queries with new maxPages option](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#limited-infinite-queries-with-new-maxpages-option)
- [Infinite Queries can prefetch multiple pages](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#infinite-queries-can-prefetch-multiple-pages)
- [New `combine` option for `useQueries`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-combine-option-for-usequeries)
- [Experimental `fine grained storage persister`](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#experimental-fine-grained-storage-persister)
- [Typesafe way to create Query Options](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#typesafe-way-to-create-query-options)
- [new hooks for suspense](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-hooks-for-suspense)

# Migrating to TanStack Query v5

[**Breaking Changes**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#breaking-changes)

v5 is a major version, so there are some breaking changes to be aware of:

[**Supports a single signature, one object**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#supports-a-single-signature-one-object)

useQuery and friends used to have many overloads in TypeScript - different ways how the function can be invoked. Not only this was tough to maintain, type wise, it also required a runtime check to see which type the first and the second parameter, to correctly create options.

now we only support the object format.

tsx

```
useQuery(key, fn, options) // [!code --]
useQuery({ queryKey, queryFn, ...options }) // [!code ++]
useInfiniteQuery(key, fn, options) // [!code --]
useInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]
useMutation(fn, options) // [!code --]
useMutation({ mutationFn, ...options }) // [!code ++]
useIsFetching(key, filters) // [!code --]
useIsFetching({ queryKey, ...filters }) // [!code ++]
useIsMutating(key, filters) // [!code --]
useIsMutating({ mutationKey, ...filters }) // [!code ++]

```

```
useQuery(key, fn, options) // [!code --]
useQuery({ queryKey, queryFn, ...options }) // [!code ++]
useInfiniteQuery(key, fn, options) // [!code --]
useInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]
useMutation(fn, options) // [!code --]
useMutation({ mutationFn, ...options }) // [!code ++]
useIsFetching(key, filters) // [!code --]
useIsFetching({ queryKey, ...filters }) // [!code ++]
useIsMutating(key, filters) // [!code --]
useIsMutating({ mutationKey, ...filters }) // [!code ++]

```

tsx

```
queryClient.isFetching(key, filters) // [!code --]
queryClient.isFetching({ queryKey, ...filters }) // [!code ++]
queryClient.ensureQueryData(key, filters) // [!code --]
queryClient.ensureQueryData({ queryKey, ...filters }) // [!code ++]
queryClient.getQueriesData(key, filters) // [!code --]
queryClient.getQueriesData({ queryKey, ...filters }) // [!code ++]
queryClient.setQueriesData(key, updater, filters, options) // [!code --]
queryClient.setQueriesData({ queryKey, ...filters }, updater, options) // [!code ++]
queryClient.removeQueries(key, filters) // [!code --]
queryClient.removeQueries({ queryKey, ...filters }) // [!code ++]
queryClient.resetQueries(key, filters, options) // [!code --]
queryClient.resetQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.cancelQueries(key, filters, options) // [!code --]
queryClient.cancelQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.invalidateQueries(key, filters, options) // [!code --]
queryClient.invalidateQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.refetchQueries(key, filters, options) // [!code --]
queryClient.refetchQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.fetchQuery(key, fn, options) // [!code --]
queryClient.fetchQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.prefetchQuery(key, fn, options) // [!code --]
queryClient.prefetchQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.fetchInfiniteQuery(key, fn, options) // [!code --]
queryClient.fetchInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.prefetchInfiniteQuery(key, fn, options) // [!code --]
queryClient.prefetchInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]

```

```
queryClient.isFetching(key, filters) // [!code --]
queryClient.isFetching({ queryKey, ...filters }) // [!code ++]
queryClient.ensureQueryData(key, filters) // [!code --]
queryClient.ensureQueryData({ queryKey, ...filters }) // [!code ++]
queryClient.getQueriesData(key, filters) // [!code --]
queryClient.getQueriesData({ queryKey, ...filters }) // [!code ++]
queryClient.setQueriesData(key, updater, filters, options) // [!code --]
queryClient.setQueriesData({ queryKey, ...filters }, updater, options) // [!code ++]
queryClient.removeQueries(key, filters) // [!code --]
queryClient.removeQueries({ queryKey, ...filters }) // [!code ++]
queryClient.resetQueries(key, filters, options) // [!code --]
queryClient.resetQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.cancelQueries(key, filters, options) // [!code --]
queryClient.cancelQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.invalidateQueries(key, filters, options) // [!code --]
queryClient.invalidateQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.refetchQueries(key, filters, options) // [!code --]
queryClient.refetchQueries({ queryKey, ...filters }, options) // [!code ++]
queryClient.fetchQuery(key, fn, options) // [!code --]
queryClient.fetchQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.prefetchQuery(key, fn, options) // [!code --]
queryClient.prefetchQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.fetchInfiniteQuery(key, fn, options) // [!code --]
queryClient.fetchInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]
queryClient.prefetchInfiniteQuery(key, fn, options) // [!code --]
queryClient.prefetchInfiniteQuery({ queryKey, queryFn, ...options }) // [!code ++]

```

tsx

```
queryCache.find(key, filters) // [!code --]
queryCache.find({ queryKey, ...filters }) // [!code ++]
queryCache.findAll(key, filters) // [!code --]
queryCache.findAll({ queryKey, ...filters }) // [!code ++]

```

```
queryCache.find(key, filters) // [!code --]
queryCache.find({ queryKey, ...filters }) // [!code ++]
queryCache.findAll(key, filters) // [!code --]
queryCache.findAll({ queryKey, ...filters }) // [!code ++]

```

[**queryClient.getQueryData now accepts queryKey only as an Argument**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#queryclientgetquerydata-now-accepts-querykey-only-as-an-argument)

queryClient.getQueryData argument is changed to accept only a queryKey

tsx

```
queryClient.getQueryData(queryKey, filters) // [!code --]
queryClient.getQueryData(queryKey) // [!code ++]

```

```
queryClient.getQueryData(queryKey, filters) // [!code --]
queryClient.getQueryData(queryKey) // [!code ++]

```

[**queryClient.getQueryState now accepts queryKey only as an Argument**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#queryclientgetquerystate-now-accepts-querykey-only-as-an-argument)

queryClient.getQueryState argument is changed to accept only a queryKey

tsx

```
queryClient.getQueryState(queryKey, filters) // [!code --]
queryClient.getQueryState(queryKey) // [!code ++]

```

```
queryClient.getQueryState(queryKey, filters) // [!code --]
queryClient.getQueryState(queryKey) // [!code ++]

```

[**Codemod**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#codemod)

To make the remove overloads migration easier, v5 comes with a codemod.

> The codemod is a best efforts attempt to help you migrate the breaking change. Please review the generated code thoroughly! Also, there are edge cases that cannot be found by the code mod, so please keep an eye on the log output.

If you want to run it against .js or .jsx files, please use the command below:

```
npx jscodeshift@latest ./path/to/src/ \
  --extensions=js,jsx \
  --transform=./node_modules/@tanstack/react-query/build/codemods/src/v5/remove-overloads/remove-overloads.cjs

```

```
npx jscodeshift@latest ./path/to/src/ \
  --extensions=js,jsx \
  --transform=./node_modules/@tanstack/react-query/build/codemods/src/v5/remove-overloads/remove-overloads.cjs

```

If you want to run it against .ts or .tsx files, please use the command below:

```
npx jscodeshift@latest ./path/to/src/ \
  --extensions=ts,tsx \
  --parser=tsx \
  --transform=./node_modules/@tanstack/react-query/build/codemods/src/v5/remove-overloads/remove-overloads.cjs

```

```
npx jscodeshift@latest ./path/to/src/ \
  --extensions=ts,tsx \
  --parser=tsx \
  --transform=./node_modules/@tanstack/react-query/build/codemods/src/v5/remove-overloads/remove-overloads.cjs

```

Please note in the case of TypeScript you need to use tsx as the parser; otherwise, the codemod won't be applied properly!

**Note:** Applying the codemod might break your code formatting, so please don't forget to run prettier and/or eslint after you've applied the codemod!

A few notes about how codemod works:

- Generally, we're looking for the lucky case, when the first parameter is an object expression and contains the "queryKey" or "mutationKey" property (depending on which hook/method call is being transformed). If this is the case, your code already matches the new signature, so the codemod won't touch it. 🎉
- If the condition above is not fulfilled, then the codemod will check whether the first parameter is an array expression or an identifier that references an array expression. If this is the case, the codemod will put it into an object expression, then it will be the first parameter.
- If object parameters can be inferred, the codemod will attempt to copy the already existing properties to the newly created one.
- If the codemod cannot infer the usage, then it will leave a message on the console. The message contains the file name and the line number of the usage. In this case, you need to do the migration manually.
- If the transformation results in an error, you will also see a message on the console. This message will notify you something unexpected happened, please do the migration manually.

[**Callbacks on useQuery (and QueryObserver) have been removed**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#callbacks-on-usequery-and-queryobserver-have-been-removed)

onSuccess, onError and onSettled have been removed from Queries. They haven't been touched for Mutations. Please see [this RFC](https://github.com/TanStack/query/discussions/5279) for motivations behind this change and what to do instead.

[**The refetchInterval callback function only gets query passed**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-refetchinterval-callback-function-only-gets-query-passed)

This streamlines how callbacks are invoked (the refetchOnWindowFocus, refetchOnMount and refetchOnReconnect callbacks all only get the query passed as well), and it fixes some typing issues when callbacks get data transformed by select.

tsx

```
- refetchInterval: number | false | ((data: TData | undefined, query: Query) => number | false | undefined) // [!code --]
+ refetchInterval: number | false | ((query: Query) => number | false | undefined) // [!code ++]

```

```
- refetchInterval: number | false | ((data: TData | undefined, query: Query) => number | false | undefined) // [!code --]
+ refetchInterval: number | false | ((query: Query) => number | false | undefined) // [!code ++]

```

You can still access data with query.state.data, however, it will not be data that has been transformed by select. If you need to access the transformed data, you can call the transformation again on query.state.data.

[**The remove method has been removed from useQuery**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-remove-method-has-been-removed-from-usequery)

Previously, remove method used to remove the query from the queryCache without informing observers about it. It was best used to remove data imperatively that is no longer needed, e.g. when logging a user out.

But It doesn't make much sense to do this while a query is still active, because it will just trigger a hard loading state with the next re-render.

if you still need to remove a query, you can use queryClient.removeQueries({queryKey: key})

tsx

```
const queryClient = useQueryClient()
const query = useQuery({ queryKey, queryFn })

query.remove() // [!code --]
queryClient.removeQueries({ queryKey }) // [!code ++]

```

```
const queryClient = useQueryClient()
const query = useQuery({ queryKey, queryFn })

query.remove() // [!code --]
queryClient.removeQueries({ queryKey }) // [!code ++]

```

[**The minimum required TypeScript version is now 4.7**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-minimum-required-typescript-version-is-now-47)

Mainly because an important fix was shipped around type inference. Please see this [TypeScript issue](https://github.com/microsoft/TypeScript/issues/43371) for more information.

[**The isDataEqual option has been removed from useQuery**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-isdataequal-option-has-been-removed-from-usequery)

Previously, This function was used to indicate whether to use previous data (true) or new data (false) as a resolved data for the query.

You can achieve the same functionality by passing a function to structuralSharing instead:

tsx

```
 import { replaceEqualDeep } from '@tanstack/react-query'

- isDataEqual: (oldData, newData) => customCheck(oldData, newData) // [!code --]
+ structuralSharing: (oldData, newData) => customCheck(oldData, newData) ? oldData : replaceEqualDeep(oldData, newData) // [!code ++]

```

```
 import { replaceEqualDeep } from '@tanstack/react-query'

- isDataEqual: (oldData, newData) => customCheck(oldData, newData) // [!code --]
+ structuralSharing: (oldData, newData) => customCheck(oldData, newData) ? oldData : replaceEqualDeep(oldData, newData) // [!code ++]

```

[**The deprecated custom logger has been removed**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-deprecated-custom-logger-has-been-removed)

Custom loggers were already deprecated in 4 and have been removed in this version. Logging only had an effect in development mode, where passing a custom logger is not necessary.

[**Supported Browsers**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#supported-browsers)

We have updated our browserslist to produce a more modern, performant and smaller bundle. You can read about the requirements [here](https://tanstack.com/query/latest/docs/framework/installation#requirements).

[**Private class fields and methods**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#private-class-fields-and-methods)

TanStack Query has always had private fields and methods on classes, but they weren't really private - they were just private in TypeScript. We now use [ECMAScript Private class features](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/Private_class_fields), which means those fields are now truly private and can't be accessed from the outside at runtime.

[**Rename cacheTime to gcTime**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#rename-cachetime-to-gctime)

Almost everyone gets cacheTime wrong. It sounds like "the amount of time that data is cached for", but that is not correct.

cacheTime does nothing as long as a query is still in use. It only kicks in as soon as the query becomes unused. After the time has passed, data will be "garbage collected" to avoid the cache from growing.

gc is referring to "garbage collect" time. It's a bit more technical, but also a quite [well known abbreviation](https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)) in computer science.

tsx

```
const MINUTE = 1000 * 60;

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
-      cacheTime: 10 * MINUTE, // [!code --]
+      gcTime: 10 * MINUTE, // [!code ++]
    },
  },
})

```

```
const MINUTE = 1000 * 60;

const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
-      cacheTime: 10 * MINUTE, // [!code --]
+      gcTime: 10 * MINUTE, // [!code ++]
    },
  },
})

```

[**The useErrorBoundary option has been renamed to throwOnError**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-useerrorboundary-option-has-been-renamed-to-throwonerror)

To make the useErrorBoundary option more framework-agnostic and avoid confusion with the established React function prefix "use" for hooks and the "ErrorBoundary" component name, it has been renamed to throwOnError to more accurately reflect its functionality.

[**TypeScript: Error is now the default type for errors instead of unknown**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#typescript-error-is-now-the-default-type-for-errors-instead-of-unknown)

Even though in JavaScript, you can throw anything (which makes unknown the most correct type), almost always, Errors (or subclasses of Error) are thrown. This change makes it easier to work with the error field in TypeScript for most cases.

If you want to throw something that isn't an Error, you'll now have to set the generic for yourself:

ts

```
useQuery<number, string>({
  queryKey: ['some-query'],
  queryFn: async () => {
    if (Math.random() > 0.5) {
      throw 'some error'
    }
    return 42
  },
})

```

```
useQuery<number, string>({
  queryKey: ['some-query'],
  queryFn: async () => {
    if (Math.random() > 0.5) {
      throw 'some error'
    }
    return 42
  },
})

```

For a way to set a different kind of Error globally, see [the TypeScript Guide](https://tanstack.com/query/latest/docs/framework/react/typescript#registering-a-global-error).

[**eslint prefer-query-object-syntax rule is removed**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#eslint-prefer-query-object-syntax-rule-is-removed)

Since the only supported syntax now is the object syntax, this rule is no longer needed

[**Removed keepPreviousData in favor of placeholderData identity function**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-keeppreviousdata-in-favor-of-placeholderdata-identity-function)

We have removed the keepPreviousData option and isPreviousData flag as they were doing mostly the same thing as placeholderData and isPlaceholderData flag.

To achieve the same functionality as keepPreviousData, we have added previous query data as an argument to placeholderData which accepts an identity function. Therefore you just need to provide an identity function to placeholderData or use the included keepPreviousData function from Tanstack Query.

> A note here is that useQueries would not receive previousData in the placeholderData function as argument. This is due to a dynamic nature of queries passed in the array, which may lead to a different shape of result from placeholder and queryFn.

tsx

```
import {
   useQuery,
+  keepPreviousData // [!code ++]
} from "@tanstack/react-query";

const {
   data,
-  isPreviousData, // [!code --]
+  isPlaceholderData, // [!code ++]
} = useQuery({
  queryKey,
  queryFn,
- keepPreviousData: true, // [!code --]
+ placeholderData: keepPreviousData // [!code ++]
});

```

```
import {
   useQuery,
+  keepPreviousData // [!code ++]
} from "@tanstack/react-query";

const {
   data,
-  isPreviousData, // [!code --]
+  isPlaceholderData, // [!code ++]
} = useQuery({
  queryKey,
  queryFn,
- keepPreviousData: true, // [!code --]
+ placeholderData: keepPreviousData // [!code ++]
});

```

An identity function, in the context of Tanstack Query, refers to a function that always returns its provided argument (i.e. data) unchanged.

ts

```
useQuery({
  queryKey,
  queryFn,
  placeholderData: (previousData, previousQuery) => previousData, // identity function with the same behaviour as `keepPreviousData`
})

```

```
useQuery({
  queryKey,
  queryFn,
  placeholderData: (previousData, previousQuery) => previousData, // identity function with the same behaviour as `keepPreviousData`
})

```

There are some caveats to this change however, which you must be aware of:

- placeholderData will always put you into success state, while keepPreviousData gave you the status of the previous query. That status could be error if we have data fetched successfully and then got a background refetch error. However, the error itself was not shared, so we decided to stick with behavior of placeholderData.

- keepPreviousData gave you the dataUpdatedAt timestamp of the previous data, while with placeholderData, dataUpdatedAt will stay at 0. This might be annoying if you want to show that timestamp continuously on screen. However you might get around it with useEffect.





ts





```
const [updatedAt, setUpdatedAt] = useState(0)

const { data, dataUpdatedAt } = useQuery({
    queryKey: ['projects', page],
    queryFn: () => fetchProjects(page),
})

useEffect(() => {
    if (dataUpdatedAt > updatedAt) {
      setUpdatedAt(dataUpdatedAt)
    }
}, [dataUpdatedAt])

```



```
const [updatedAt, setUpdatedAt] = useState(0)

const { data, dataUpdatedAt } = useQuery({
    queryKey: ['projects', page],
    queryFn: () => fetchProjects(page),
})

useEffect(() => {
    if (dataUpdatedAt > updatedAt) {
      setUpdatedAt(dataUpdatedAt)
    }
}, [dataUpdatedAt])

```


[**Window focus refetching no longer listens to the focus event**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#window-focus-refetching-no-longer-listens-to-the-focus-event)

The visibilitychange event is used exclusively now. This is possible because we only support browsers that support the visibilitychange event. This fixes a bunch of issues [as listed here](https://github.com/TanStack/query/pull/4805).

[**Network status no longer relies on the navigator.onLine property**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#network-status-no-longer-relies-on-the-navigatoronline-property)

navigator.onLine doesn't work well in Chromium based browsers. There are [a lot of issues](https://bugs.chromium.org/p/chromium/issues/list?q=navigator.online) around false negatives, which lead to Queries being wrongfully marked as offline.

To circumvent this, we now always start with online: true and only listen to online and offline events to update the status.

This should reduce the likelihood of false negatives, however, it might mean false positives for offline apps that load via serviceWorkers, which can work even without an internet connection.

[**Removed custom context prop in favor of custom queryClient instance**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-custom-context-prop-in-favor-of-custom-queryclient-instance)

In v4, we introduced the possibility to pass a custom context to all react-query hooks. This allowed for proper isolation when using MicroFrontends.

However, context is a react-only feature. All that context does is give us access to the queryClient. We could achieve the same isolation by allowing to pass in a custom queryClient directly.
This in turn will enable other frameworks to have the same functionality in a framework-agnostic way.

tsx

```
import { queryClient } from './my-client'

const { data } = useQuery(
  {
    queryKey: ['users', id],
    queryFn: () => fetch(...),
-   context: customContext // [!code --]
  },
+  queryClient, // [!code ++]
)

```

```
import { queryClient } from './my-client'

const { data } = useQuery(
  {
    queryKey: ['users', id],
    queryFn: () => fetch(...),
-   context: customContext // [!code --]
  },
+  queryClient, // [!code ++]
)

```

[**Removed refetchPage in favor of maxPages**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#removed-refetchpage-in-favor-of-maxpages)

In v4, we introduced the possibility to define the pages to refetch for infinite queries with the refetchPage function.

However, refetching all pages might lead to UI inconsistencies. Also, this option is available on e.g. queryClient.refetchQueries, but it only does something for infinite queries, not "normal" queries.

The v5 includes a new maxPages option for infinite queries to limit the number of pages to store in the query data and to refetch. This new feature handles the use cases initially identified for the refetchPage page feature without the related issues.

[**New dehydrate API**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-dehydrate-api)

The options you can pass to dehydrate have been simplified. Queries and Mutations are always dehydrated (according to the default function implementation). To change this behaviour, instead of using the removed boolean options dehydrateMutations and dehydrateQueries you can implement the function equivalents shouldDehydrateQuery or shouldDehydrateMutation instead. To get the old behaviour of not hydrating queries/mutations at all, pass in () =\> false.

tsx

```
- dehydrateMutations?: boolean // [!code --]
- dehydrateQueries?: boolean // [!code --]

```

```
- dehydrateMutations?: boolean // [!code --]
- dehydrateQueries?: boolean // [!code --]

```

[**Infinite queries now need a initialPageParam**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#infinite-queries-now-need-a-initialpageparam)

Previously, we've passed undefined to the queryFn as pageParam, and you could assign a default value to the pageParam parameter in the queryFn function signature. This had the drawback of storing undefined in the queryCache, which is not serializable.

Instead, you now have to pass an explicit initialPageParam to the infinite query options. This will be used as the pageParam for the first page:

tsx

```
useInfiniteQuery({
   queryKey,
-  queryFn: ({ pageParam = 0 }) => fetchSomething(pageParam), // [!code --]
+  queryFn: ({ pageParam }) => fetchSomething(pageParam), // [!code ++]
+  initialPageParam: 0, // [!code ++]
   getNextPageParam: (lastPage) => lastPage.next,
})

```

```
useInfiniteQuery({
   queryKey,
-  queryFn: ({ pageParam = 0 }) => fetchSomething(pageParam), // [!code --]
+  queryFn: ({ pageParam }) => fetchSomething(pageParam), // [!code ++]
+  initialPageParam: 0, // [!code ++]
   getNextPageParam: (lastPage) => lastPage.next,
})

```

[**Manual mode for infinite queries has been removed**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#manual-mode-for-infinite-queries-has-been-removed)

Previously, we've allowed to overwrite the pageParams that would be returned from getNextPageParam or getPreviousPageParam by passing a pageParam value directly to fetchNextPage or fetchPreviousPage. This feature didn't work at all with refetches and wasn't widely known or used. This also means that getNextPageParam is now required for infinite queries.

[**Returning null from getNextPageParam or getPreviousPageParam now indicates that there is no further page available**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#returning-null-from-getnextpageparam-or-getpreviouspageparam-now-indicates-that-there-is-no-further-page-available)

In v4, you needed to explicitly return undefined to indicate that there is no further page available. We've widened this check to include null.

[**No retries on the server**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#no-retries-on-the-server)

On the server, retry now defaults to 0 instead of 3. For prefetching, we have always defaulted to 0 retries, but since queries that have suspense enabled can now execute directly on the server as well (since React18), we have to make sure that we don't retry on the server at all.

[**status: loading has been changed to status: pending and isLoading has been changed to isPending and isInitialLoading has now been renamed to isLoading**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#status-loading-has-been-changed-to-status-pending-and-isloading-has-been-changed-to-ispending-and-isinitialloading-has-now-been-renamed-to-isloading)

The loading status has been renamed to pending, and similarly the derived isLoading flag has been renamed to isPending.

For mutations as well the status has been changed from loading to pending and the isLoading flag has been changed to isPending.

Lastly, a new derived isLoading flag has been added to the queries that is implemented as isPending && isFetching. This means that isLoading and isInitialLoading have the same thing, but isInitialLoading is deprecated now and will be removed in the next major version.

To understand the reasoning behind this change checkout the [v5 roadmap discussion](https://github.com/TanStack/query/discussions/4252).

[**hashQueryKey has been renamed to hashKey**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#hashquerykey-has-been-renamed-to-hashkey)

because it also hashes mutation keys and can be used inside the predicate functions of useIsMutating and useMutationState, which gets mutations passed.

[**The minimum required React version is now 18.0**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-minimum-required-react-version-is-now-180)

React Query v5 requires React 18.0 or later. This is because we are using the new useSyncExternalStore hook, which is only available in React 18.0 and later. Previously, we have been using the shim provided by React.

[**The contextSharing prop has been removed from QueryClientProvider**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#the-contextsharing-prop-has-been-removed-from-queryclientprovider)

You could previously use the contextSharing property to share the first (and at least one) instance of the query client context across the window. This ensured that if TanStack Query was used across different bundles or microfrontends then they will all use the same instance of the context, regardless of module scoping.

With the removal of the custom context prop in v5, refer to the section on [Removed custom context prop in favor of custom queryClient instance](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5/#removed-custom-context-prop-in-favor-of-custom-queryclient-instance). If you wish to share the same query client across multiple packages of an application, you can directly pass a shared custom queryClient instance.

[**No longer using unstable\_batchedUpdates as the batching function in React and React Native**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#no-longer-using-unstable_batchedupdates-as-the-batching-function-in-react-and-react-native)

Since the function unstable\_batchedUpdates is noop in React 18, it will no longer be automatically set as the batching function in react-query.

If your framework supports a custom batching function, you can let TanStack Query know about it by calling notifyManager.setBatchNotifyFunction.

For example, this is how the batch function is set in solid-query:

ts

```
import { notifyManager } from '@tanstack/query-core'
import { batch } from 'solid-js'

notifyManager.setBatchNotifyFunction(batch)

```

```
import { notifyManager } from '@tanstack/query-core'
import { batch } from 'solid-js'

notifyManager.setBatchNotifyFunction(batch)

```

[**Hydration API changes**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#hydration-api-changes)

To better support concurrent features and transitions we've made some changes to the hydration APIs. The Hydrate component has been renamed to HydrationBoundary and the useHydrate hook has been removed.

The HydrationBoundary no longer hydrates mutations, only queries. To hydrate mutations, use the low level hydrate API or the persistQueryClient plugin.

Finally, as a technical detail, the timing for when queries are hydrated have changed slightly. New queries are still hydrated in the render phase so that SSR works as usual, but any queries that already exist in the cache are now hydrated in an effect instead (as long as their data is fresher than what is in the cache). If you are hydrating just once at the start of your application as is common, this wont affect you, but if you are using Server Components and pass down fresh data for hydration on a page navigation, you might notice a flash of the old data before the page immediately rerenders.

This last change is technically a breaking one, and was made so we don't prematurely update content on the _existing_ page before a page transition has been fully committed. No action is required on your part.

tsx

```
- import { Hydrate } from '@tanstack/react-query' // [!code --]
+ import { HydrationBoundary } from '@tanstack/react-query' // [!code ++]

- <Hydrate state={dehydratedState}> // [!code --]
+ <HydrationBoundary state={dehydratedState}> // [!code ++]
  <App />
- </Hydrate> // [!code --]
+ </HydrationBoundary> // [!code ++]

```

```
- import { Hydrate } from '@tanstack/react-query' // [!code --]
+ import { HydrationBoundary } from '@tanstack/react-query' // [!code ++]

- <Hydrate state={dehydratedState}> // [!code --]
+ <HydrationBoundary state={dehydratedState}> // [!code ++]
  <App />
- </Hydrate> // [!code --]
+ </HydrationBoundary> // [!code ++]

```

[**Query defaults changes**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#query-defaults-changes)

queryClient.getQueryDefaults will now merge together all matching registrations instead of returning only the first matching registration.

As a result, calls to queryClient.setQueryDefaults should now be ordered with _increasing_ specificity.
That is, registrations should be made from the **most generic key** to the **least generic one**.

For example:

ts

```
+ queryClient.setQueryDefaults(['todo'], {   // [!code ++]
+   retry: false,  // [!code ++]
+   staleTime: 60_000,  // [!code ++]
+ })  // [!code ++]
queryClient.setQueryDefaults(['todo', 'detail'], {
+   retry: true,  // [!code --]
  retryDelay: 1_000,
  staleTime: 10_000,
})
- queryClient.setQueryDefaults(['todo'], { // [!code --]
-   retry: false, // [!code --]
-   staleTime: 60_000, // [!code --]
- }) // [!code --]

```

```
+ queryClient.setQueryDefaults(['todo'], {   // [!code ++]
+   retry: false,  // [!code ++]
+   staleTime: 60_000,  // [!code ++]
+ })  // [!code ++]
queryClient.setQueryDefaults(['todo', 'detail'], {
+   retry: true,  // [!code --]
  retryDelay: 1_000,
  staleTime: 10_000,
})
- queryClient.setQueryDefaults(['todo'], { // [!code --]
-   retry: false, // [!code --]
-   staleTime: 60_000, // [!code --]
- }) // [!code --]

```

Note that in this specific example, retry: true was added to the \['todo', 'detail'\] registration to counteract it now inheriting retry: false from the more general registration. The specific changes needed to maintain exact behavior will vary depending on your defaults.

[**New Features 🚀**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-features-)

v5 also comes with new features:

[**Simplified optimistic updates**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#simplified-optimistic-updates)

We have a new, simplified way to perform optimistic updates by leveraging the returned variables from useMutation:

tsx

```
const queryInfo = useTodos()
const addTodoMutation = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

if (queryInfo.data) {
  return (
    <ul>
      {queryInfo.data.items.map((todo) => (
        <li key={todo.id}>{todo.text}</li>
      ))}
      {addTodoMutation.isPending && (
        <li key={String(addTodoMutation.submittedAt)} style={{ opacity: 0.5 }}>
          {addTodoMutation.variables}
        </li>
      )}
    </ul>
  )
}

```

```
const queryInfo = useTodos()
const addTodoMutation = useMutation({
  mutationFn: (newTodo: string) => axios.post('/api/data', { text: newTodo }),
  onSettled: () => queryClient.invalidateQueries({ queryKey: ['todos'] }),
})

if (queryInfo.data) {
  return (
    <ul>
      {queryInfo.data.items.map((todo) => (
        <li key={todo.id}>{todo.text}</li>
      ))}
      {addTodoMutation.isPending && (
        <li key={String(addTodoMutation.submittedAt)} style={{ opacity: 0.5 }}>
          {addTodoMutation.variables}
        </li>
      )}
    </ul>
  )
}

```

Here, we are only changing how the UI looks when the mutation is running instead of writing data directly to the cache. This works best if we only have one place where we need to show the optimistic update. For more details, have a look at the [optimistic updates documentation](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates).

[**Limited, Infinite Queries with new maxPages option**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#limited-infinite-queries-with-new-maxpages-option)

Infinite queries are great when infinite scroll or pagination are needed.
However, the more pages you fetch, the more memory you consume, and this also slows down the query refetching process as all the pages are sequentially refetched.

Version 5 has a new maxPages option for infinite queries, which allows developers to limit the number of pages that are stored in the query data and subsequently refetched.
You can adjust the maxPages value according to the UX and refetching performance you want to deliver.

Note that the infinite list must be bi-directional, which requires both getNextPageParam and getPreviousPageParam to be defined.

[**Infinite Queries can prefetch multiple pages**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#infinite-queries-can-prefetch-multiple-pages)

Infinite Queries can be prefetched like regular Queries. Per default, only the first page of the Query will be prefetched and will be stored under the given QueryKey. If you want to prefetch more than one page, you can use the pages option. Read the [prefetching guide](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching) for more information.

[**New combine option for useQueries**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-combine-option-for-usequeries)

See the [useQueries docs](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries#combine) for more details.

[**Experimental fine grained storage persister**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#experimental-fine-grained-storage-persister)

See the [experimental\_createPersister docs](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister) for more details.

[**Typesafe way to create Query Options**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#typesafe-way-to-create-query-options)

See the [TypeScript docs](https://tanstack.com/query/latest/docs/framework/react/typescript#typing-query-options) for more details.

[**new hooks for suspense**](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5#new-hooks-for-suspense)

With v5, suspense for data fetching finally becomes "stable". We've added dedicated useSuspenseQuery, useSuspenseInfiniteQuery and useSuspenseQueries hooks. With these hooks, data will never be potentially undefined on type level:

js

```
const { data: post } = useSuspenseQuery({
  // ^? const post: Post
  queryKey: ['post', postId],
  queryFn: () => fetchPost(postId),
})

```

```
const { data: post } = useSuspenseQuery({
  // ^? const post: Post
  queryKey: ['post', postId],
  queryFn: () => fetchPost(postId),
})

```

The experimental suspense: boolean flag on the query hooks has been removed.

You can read more about them in the [suspense docs](https://tanstack.com/query/latest/docs/framework/react/guides/suspense).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/migrating-to-v5.md)

[Migrating to v4](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)

[QueryClient](https://tanstack.com/query/latest/docs/reference/QueryClient)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

## React Query Default Function
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Search

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# React Example: Default Query Function  [Github](https://github.com/tanstack/query/tree/main/examples/react/default-query-function) [StackBlitz](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/default-query-function?embed=1&theme=light&preset=node&file=index.tsx) [CodeSandbox](https://codesandbox.io/p/devbox/github/tanstack/query/tree/main/examples/react/default-query-function?embed=1&theme=light&file=index.tsx)

Code ExplorerCode

Interactive SandboxSandbox

- public

- src

  - ![index.tsx file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)index.tsx
- ![.eslintrc file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).eslintrc

- ![.gitignore file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e).gitignore

- ![README.md file icon](data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20height='800px'%20width='800px'%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2048%2048'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M47.988,21.94c-0.006-0.091-0.023-0.179-0.054-0.266c-0.011-0.032-0.019-0.063-0.033-0.094%20c-0.048-0.103-0.108-0.199-0.191-0.283c-0.001-0.002-0.002-0.003-0.004-0.005L42,15.586V10c0-0.021-0.011-0.04-0.012-0.061%20c-0.006-0.089-0.023-0.175-0.052-0.259c-0.011-0.032-0.019-0.062-0.033-0.093c-0.049-0.106-0.11-0.207-0.196-0.293l-9-9%20c-0.085-0.085-0.186-0.146-0.291-0.195c-0.033-0.015-0.066-0.024-0.1-0.035c-0.081-0.027-0.163-0.044-0.248-0.05%20C32.044,0.012,32.023,0,32,0H7C6.447,0,6,0.448,6,1v14.586l-5.706,5.706c-0.002,0.002-0.002,0.003-0.004,0.005%20c-0.083,0.083-0.143,0.18-0.191,0.283c-0.014,0.03-0.022,0.062-0.033,0.094c-0.03,0.086-0.048,0.174-0.054,0.266%20C0.011,21.961,0,21.979,0,22v19c0,0.552,0.447,1,1,1h5v5c0,0.552,0.447,1,1,1h34c0.553,0,1-0.448,1-1v-5h5c0.553,0,1-0.448,1-1V22%20C48,21.979,47.989,21.961,47.988,21.94z%20M44.586,21H42v-2.586L44.586,21z%20M38.586,9H33V3.414L38.586,9z%20M8,2h23v8%20c0,0.552,0.447,1,1,1h8v5v5H8v-5V2z%20M6,18.414V21H3.414L6,18.414z%20M40,46H8v-4h32V46z%20M46,40H2V23h5h34h5V40z'/%3e%3cpolygon%20points='28.225,27.698%2030.486,27.698%2030.486,38%2032.492,38%2032.492,27.698%2034.752,27.698%2034.752,25.964%2028.225,25.964%20'/%3e%3cpolygon%20points='13.248,27.698%2015.509,27.698%2015.509,38%2017.514,38%2017.514,27.698%2019.775,27.698%2019.775,25.964%2013.248,25.964%20'/%3e%3cpolygon%20points='27.885,25.964%2025.794,25.964%2024.025,30.112%2022.24,25.964%2020.115,25.964%2022.836,31.659%2019.826,38%2021.951,38%2023.975,33.393%2025.98,38%2028.174,38%2025.147,31.659%20'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e)README.md

- ![index.html file icon](data:image/svg+xml,%3csvg%20fill='none'%20height='2500'%20width='2183'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20124%20141.53199999999998'%3e%3cpath%20d='M10.383%20126.894L0%200l124%20.255-10.979%20126.639-50.553%2014.638z'%20fill='%23e34f26'/%3e%3cpath%20d='M62.468%20129.277V12.085l51.064.17-9.106%20104.851z'%20fill='%23ef652a'/%3e%3cpath%20d='M99.49%2041.362l1.446-15.49H22.383l4.34%2047.49h54.213L78.81%2093.617l-17.362%204.68-17.617-5.106-.936-12.085H27.319l2.128%2024.681%2032%208.936%2032.255-8.936%204.34-48.17H41.107L39.49%2041.362z'%20fill='%23fff'/%3e%3c/svg%3e)index.html

- ![package.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)package.json

- ![tsconfig.json file icon](data:image/svg+xml,%3csvg%20width='2500'%20height='2500'%20viewBox='0%200%20256%20256'%20xmlns='http://www.w3.org/2000/svg'%20preserveAspectRatio='xMinYMin%20meet'%3e%3cdefs%3e%3clinearGradient%20x1='15.791%25'%20y1='14.737%25'%20x2='91.009%25'%20y2='85.228%25'%20id='a'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='82.136%25'%20y1='85.237%25'%20x2='-3.113%25'%20y2='14.79%25'%20id='b'%3e%3cstop%20offset='0%25'/%3e%3cstop%20stop-color='%23FFF'%20offset='100%25'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20d='M127.783%20190.56c56.637%2077.208%20112.064-21.55%20111.982-80.94C239.67%2039.404%20168.5.16%20127.737.16%2062.309.159%200%2054.232%200%20128.216%200%20210.45%2071.425%20256%20127.737%20256c-12.743-1.835-55.21-10.934-55.78-108.747-.385-66.154%2021.58-92.585%2055.688-80.958.764.283%2037.622%2014.823%2037.622%2062.32%200%2047.296-37.484%2061.944-37.484%2061.944z'%20fill='url(%23a)'/%3e%3cpath%20d='M127.717%2066.241c-37.424-12.899-83.269%2017.946-83.269%2079.726C44.448%20246.844%20119.201%20256%20128.263%20256%20193.691%20256%20256%20201.926%20256%20127.943%20256%2045.709%20184.575.159%20128.263.159c15.597-2.16%2084.065%2016.88%2084.065%20110.458%200%2061.026-51.124%2094.248-84.376%2080.054-.764-.283-37.623-14.823-37.623-62.32%200-47.297%2037.388-62.11%2037.388-62.11z'%20fill='url(%23b)'/%3e%3c/svg%3e)tsconfig.json

- ![vite.config.ts file icon](data:image/svg+xml,%3csvg%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20400%20400'%20width='2500'%20height='2500'%3e%3cstyle%3e.st0{fill:%23007acc}.st1{fill:%23fff}%3c/style%3e%3cpath%20class='st0'%20d='M0%20200V0h400v400H0'/%3e%3cpath%20class='st1'%20d='M87.7%20200.7V217h52v148h36.9V217h52v-16c0-9%200-16.3-.4-16.5%200-.3-31.7-.4-70.2-.4l-70%20.3v16.4l-.3-.1zM321.4%20184c10.2%202.4%2018%207%2025%2014.3%203.7%204%209.2%2011%209.6%2012.8%200%20.6-17.3%2012.3-27.8%2018.8-.4.3-2-1.4-3.6-4-5.2-7.4-10.5-10.6-18.8-11.2-12-.8-20%205.5-20%2016%200%203.2.6%205%201.8%207.6%202.7%205.5%207.7%208.8%2023.2%2015.6%2028.6%2012.3%2041%2020.4%2048.5%2032%208.5%2013%2010.4%2033.4%204.7%2048.7-6.4%2016.7-22%2028-44.3%2031.7-7%201.2-23%201-30.5-.3-16-3-31.3-11-40.7-21.3-3.7-4-10.8-14.7-10.4-15.4l3.8-2.4%2015-8.7%2011.3-6.6%202.6%203.5c3.3%205.2%2010.7%2012.2%2015%2014.6%2013%206.7%2030.4%205.8%2039-2%203.7-3.4%205.3-7%205.3-12%200-4.6-.7-6.7-3-10.2-3.2-4.4-9.6-8-27.6-16-20.7-8.8-29.5-14.4-37.7-23-4.7-5.2-9-13.3-11-20-1.5-5.8-2-20-.6-25.7%204.3-20%2019.4-34%2041-38%207-1.4%2023.5-.8%2030.4%201l-.2.2z'/%3e%3c/svg%3e)vite.config.ts


tsx

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import type { QueryKey } from '@tanstack/react-query'

type Post = {
  id: number
  title: string
  body: string
}

// Define a default query function that will receive the query key
const defaultQueryFn = async ({ queryKey }: { queryKey: QueryKey }) => {
  const response = await fetch(
    `https://jsonplaceholder.typicode.com${queryKey[0]}`,
  )
  return await response.json()
}

// provide the default query function to your app via the query client
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      queryFn: defaultQueryFn,
    },
  },
})

function App() {
  const [postId, setPostId] = React.useState(-1)

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        As you visit the posts below, you will notice them in a loading state
        the first time you load them. However, after you return to this list and
        click on any posts you have already visited again, you will see them
        load instantly and background refresh right before your eyes!{' '}
        <strong>
          (You may need to throttle your network speed to simulate longer
          loading sequences)
        </strong>
      </p>
      {postId > -1 ? (
        <Post postId={postId} setPostId={setPostId} />
      ) : (
        <Posts setPostId={setPostId} />
      )}
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function Posts({
  setPostId,
}: {
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const queryClient = useQueryClient()

  // All you have to do now is pass a key!
  const { status, data, error, isFetching } = useQuery<Array<Post>>({
    queryKey: ['/posts'],
  })

  return (
    <div>
      <h1>Posts</h1>
      <div>
        {status === 'pending' ? (
          'Loading...'
        ) : status === 'error' ? (
          <span>Error: {error.message}</span>
        ) : (
          <>
            <div>
              {data.map((post) => (
                <p key={post.id}>
                  <a
                    onClick={() => setPostId(post.id)}
                    href="#"
                    style={
                      // We can use the queryCache here to show bold links for
                      // ones that are cached
                      queryClient.getQueryData([`/posts/${post.id}`])
                        ? {
                            fontWeight: 'bold',
                            color: 'green',
                          }
                        : {}
                    }
                  >
                    {post.title}
                  </a>
                </p>
              ))}
            </div>
            <div>{isFetching ? 'Background Updating...' : ' '}</div>
          </>
        )}
      </div>
    </div>
  )
}

function Post({
  postId,
  setPostId,
}: {
  postId: number
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  // You can even leave out the queryFn and just go straight into options
  const { status, data, error, isFetching } = useQuery<Post>({
    queryKey: [`/posts/${postId}`],
    enabled: !!postId,
  })

  return (
    <div>
      <div>
        <a onClick={() => setPostId(-1)} href="#">
          Back
        </a>
      </div>
      {!postId || status === 'pending' ? (
        'Loading...'
      ) : status === 'error' ? (
        <span>Error: {error.message}</span>
      ) : (
        <>
          <h1>{data.title}</h1>
          <div>
            <p>{data.body}</p>
          </div>
          <div>{isFetching ? 'Background Updating...' : ' '}</div>
        </>
      )}
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

```
import React from 'react'
import ReactDOM from 'react-dom/client'
import {
  QueryClient,
  QueryClientProvider,
  useQuery,
  useQueryClient,
} from '@tanstack/react-query'
import { ReactQueryDevtools } from '@tanstack/react-query-devtools'
import type { QueryKey } from '@tanstack/react-query'

type Post = {
  id: number
  title: string
  body: string
}

// Define a default query function that will receive the query key
const defaultQueryFn = async ({ queryKey }: { queryKey: QueryKey }) => {
  const response = await fetch(
    `https://jsonplaceholder.typicode.com${queryKey[0]}`,
  )
  return await response.json()
}

// provide the default query function to your app via the query client
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      queryFn: defaultQueryFn,
    },
  },
})

function App() {
  const [postId, setPostId] = React.useState(-1)

  return (
    <QueryClientProvider client={queryClient}>
      <p>
        As you visit the posts below, you will notice them in a loading state
        the first time you load them. However, after you return to this list and
        click on any posts you have already visited again, you will see them
        load instantly and background refresh right before your eyes!{' '}
        <strong>
          (You may need to throttle your network speed to simulate longer
          loading sequences)
        </strong>
      </p>
      {postId > -1 ? (
        <Post postId={postId} setPostId={setPostId} />
      ) : (
        <Posts setPostId={setPostId} />
      )}
      <ReactQueryDevtools initialIsOpen />
    </QueryClientProvider>
  )
}

function Posts({
  setPostId,
}: {
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  const queryClient = useQueryClient()

  // All you have to do now is pass a key!
  const { status, data, error, isFetching } = useQuery<Array<Post>>({
    queryKey: ['/posts'],
  })

  return (
    <div>
      <h1>Posts</h1>
      <div>
        {status === 'pending' ? (
          'Loading...'
        ) : status === 'error' ? (
          <span>Error: {error.message}</span>
        ) : (
          <>
            <div>
              {data.map((post) => (
                <p key={post.id}>
                  <a
                    onClick={() => setPostId(post.id)}
                    href="#"
                    style={
                      // We can use the queryCache here to show bold links for
                      // ones that are cached
                      queryClient.getQueryData([`/posts/${post.id}`])
                        ? {
                            fontWeight: 'bold',
                            color: 'green',
                          }
                        : {}
                    }
                  >
                    {post.title}
                  </a>
                </p>
              ))}
            </div>
            <div>{isFetching ? 'Background Updating...' : ' '}</div>
          </>
        )}
      </div>
    </div>
  )
}

function Post({
  postId,
  setPostId,
}: {
  postId: number
  setPostId: React.Dispatch<React.SetStateAction<number>>
}) {
  // You can even leave out the queryFn and just go straight into options
  const { status, data, error, isFetching } = useQuery<Post>({
    queryKey: [`/posts/${postId}`],
    enabled: !!postId,
  })

  return (
    <div>
      <div>
        <a onClick={() => setPostId(-1)} href="#">
          Back
        </a>
      </div>
      {!postId || status === 'pending' ? (
        'Loading...'
      ) : status === 'error' ? (
        <span>Error: {error.message}</span>
      ) : (
        <>
          <h1>{data.title}</h1>
          <div>
            <p>{data.body}</p>
          </div>
          <div>{isFetching ? 'Background Updating...' : ' '}</div>
        </>
      )}
    </div>
  )
}

const rootElement = document.getElementById('root') as HTMLElement
ReactDOM.createRoot(rootElement).render(<App />)

```

[iframe](https://stackblitz.com/github/tanstack/query/tree/main/examples/react/default-query-function?embed=1&theme=light&preset=node&file=index.tsx)

[Suspense](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)

[Playground](https://tanstack.com/query/latest/docs/framework/react/examples/playground)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

![scarf analytics](https://static.scarf.sh/a.png?x-pxid=53afb586-3934-4624-a37a-e680c1528e17&key=vz90j)

## Default Query Function
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

# Default Query Function

If you find yourself wishing for whatever reason that you could just share the same query function for your entire app and just use query keys to identify what it should fetch, you can do that by providing a **default query function** to TanStack Query:

tsx

```
// Define a default query function that will receive the query key
const defaultQueryFn = async ({ queryKey }) => {
  const { data } = await axios.get(
    `https://jsonplaceholder.typicode.com${queryKey[0]}`,
  )
  return data
}

// provide the default query function to your app with defaultOptions
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      queryFn: defaultQueryFn,
    },
  },
})

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <YourApp />
    </QueryClientProvider>
  )
}

// All you have to do now is pass a key!
function Posts() {
  const { status, data, error, isFetching } = useQuery({ queryKey: ['/posts'] })

  // ...
}

// You can even leave out the queryFn and just go straight into options
function Post({ postId }) {
  const { status, data, error, isFetching } = useQuery({
    queryKey: [`/posts/${postId}`],
    enabled: !!postId,
  })

  // ...
}

```

```
// Define a default query function that will receive the query key
const defaultQueryFn = async ({ queryKey }) => {
  const { data } = await axios.get(
    `https://jsonplaceholder.typicode.com${queryKey[0]}`,
  )
  return data
}

// provide the default query function to your app with defaultOptions
const queryClient = new QueryClient({
  defaultOptions: {
    queries: {
      queryFn: defaultQueryFn,
    },
  },
})

function App() {
  return (
    <QueryClientProvider client={queryClient}>
      <YourApp />
    </QueryClientProvider>
  )
}

// All you have to do now is pass a key!
function Posts() {
  const { status, data, error, isFetching } = useQuery({ queryKey: ['/posts'] })

  // ...
}

// You can even leave out the queryFn and just go straight into options
function Post({ postId }) {
  const { status, data, error, isFetching } = useQuery({
    queryKey: [`/posts/${postId}`],
    enabled: !!postId,
  })

  // ...
}

```

If you ever want to override the default queryFn, you can just provide your own like you normally would.

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/default-query-function.md)

[Render Optimizations](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)

[Suspense](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)

Our Partners

[![Speakeasy](https://tanstack.com/_build/assets/speakeasy-light-UpY7QmwQ.svg)![Speakeasy](https://tanstack.com/_build/assets/speakeasy-dark-BjP-Hd9M.svg)](https://speakeasy.com/?utm_source=tanstack&utm_campaign=tanstack)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[TanStackFormV1](https://tanstack.com/form)

[**Want to Skip the Docs?** \\
\\
Query.gg - The Official React Query Course\\
\\
> “If you're serious about \*really\* understanding React Query, there's no better way than with query.gg”—Tanner Linsley\\
\\
Learn More](https://query.gg/?s=tanstack)

[iframe](https://1c676b642abf5f3584b92374d2929fae.safeframe.googlesyndication.com/safeframe/1-0-41/html/container.html)[iframe](https://securepubads.g.doubleclick.net/static/topics/topics_frame.html)

## Placeholder Query Data
[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

[TanStack](https://tanstack.com/) [Queryv5](https://tanstack.com/query)

Auto

Framework

![React logo](data:image/svg+xml,%3csvg%20viewBox='-11.5%20-10.23%2023%2020.46'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20fill='%2361dafb'%20r='2.05'/%3e%3cg%20fill='none'%20stroke='%2361dafb'%3e%3cellipse%20rx='11'%20ry='4.2'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(.5%20.8660254%20-.8660254%20.5%200%200)'/%3e%3cellipse%20rx='11'%20ry='4.2'%20transform='matrix(-.5%20.8660254%20-.8660254%20-.5%200%200)'/%3e%3c/g%3e%3c/svg%3e)React

Version

Latest

Menu

- [Home](https://tanstack.com/query/latest)
- [GitHub](https://github.com/tanstack/query)
- [Discord](https://tlinz.com/discord)

Getting Started

- [Overview\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/overview)
- [Installation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/installation)
- [Quick Start\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/quick-start)
- [Devtools\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/devtools)
- [Videos & Talks\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/videos)
- [Comparison\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/comparison)
- [TypeScript\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/typescript)
- [GraphQL\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/graphql)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/react-native)

Guides & Concepts

- [Important Defaults\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/important-defaults)
- [Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/queries)
- [Query Keys\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-keys)
- [Query Functions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-functions)
- [Query Options\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-options)
- [Network Mode\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/network-mode)
- [Parallel Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/parallel-queries)
- [Dependent Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/dependent-queries)
- [Background Fetching Indicators\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/background-fetching-indicators)
- [Window Focus Refetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/window-focus-refetching)
- [Disabling/Pausing Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/disabling-queries)
- [Query Retries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-retries)
- [Paginated Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries)
- [Infinite Queries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/infinite-queries)
- [Initial Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)
- [Placeholder Query Data\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data)
- [Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/mutations)
- [Query Invalidation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-invalidation)
- [Invalidation from Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/invalidations-from-mutations)
- [Updates from Mutation Responses\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/updates-from-mutation-responses)
- [Optimistic Updates\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/optimistic-updates)
- [Query Cancellation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/query-cancellation)
- [Scroll Restoration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/scroll-restoration)
- [Filters\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/filters)
- [Performance & Request Waterfalls\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/request-waterfalls)
- [Prefetching & Router Integration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)
- [Server Rendering & Hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/ssr)
- [Advanced Server Rendering\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/advanced-ssr)
- [Caching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/caching)
- [Render Optimizations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/render-optimizations)
- [Default Query Fn\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/default-query-function)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/suspense)
- [Testing\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/testing)
- [Does this replace \[Redux, MobX, etc\]?\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/does-this-replace-client-state)
- [Migrating to v3\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-3)
- [Migrating to v4\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-react-query-4)
- [Migrating to v5\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/guides/migrating-to-v5)

API Reference

- [QueryClient\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryClient)
- [QueryCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryCache)
- [MutationCache\\
\\
core](https://tanstack.com/query/latest/docs/reference/MutationCache)
- [QueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueryObserver)
- [InfiniteQueryObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/InfiniteQueryObserver)
- [QueriesObserver\\
\\
core](https://tanstack.com/query/latest/docs/reference/QueriesObserver)
- [streamedQuery\\
\\
core](https://tanstack.com/query/latest/docs/reference/streamedQuery)
- [focusManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/focusManager)
- [onlineManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/onlineManager)
- [notifyManager\\
\\
core](https://tanstack.com/query/latest/docs/reference/notifyManager)
- [useQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQuery)
- [useQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueries)
- [useInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery)
- [useMutation\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutation)
- [useIsFetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsFetching)
- [useIsMutating\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useIsMutating)
- [useMutationState\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useMutationState)
- [useSuspenseQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQuery)
- [useSuspenseInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseInfiniteQuery)
- [useSuspenseQueries\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useSuspenseQueries)
- [QueryClientProvider\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryClientProvider)
- [useQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryClient)
- [queryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/queryOptions)
- [infiniteQueryOptions\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/infiniteQueryOptions)
- [usePrefetchQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchQuery)
- [usePrefetchInfiniteQuery\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/usePrefetchInfiniteQuery)
- [QueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/QueryErrorResetBoundary)
- [useQueryErrorResetBoundary\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/useQueryErrorResetBoundary)
- [hydration\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/reference/hydration)

ESLint

- [ESLint Plugin Query\\
\\
core](https://tanstack.com/query/latest/docs/eslint/eslint-plugin-query)
- [Exhaustive Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/exhaustive-deps)
- [Stable Query Client\\
\\
core](https://tanstack.com/query/latest/docs/eslint/stable-query-client)
- [No Rest Destructuring\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-rest-destructuring)
- [No Unstable Deps\\
\\
core](https://tanstack.com/query/latest/docs/eslint/no-unstable-deps)
- [Infinite Query Property Order\\
\\
core](https://tanstack.com/query/latest/docs/eslint/infinite-query-property-order)

Community Resources

- [TkDodo's Blog\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog)
- [Community Projects\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/community/community-projects)

Examples

- [Simple\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/simple)
- [Basic\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic)
- [Basic w/ GraphQL-Request\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/basic-graphql-request)
- [Auto Refetching / Polling / Realtime\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/auto-refetching)
- [Optimistic Updates (UI)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-ui)
- [Optimistic Updates (Cache)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/optimistic-updates-cache)
- [Pagination\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/pagination)
- [Load-More & Infinite Scroll\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/load-more-infinite-scroll)
- [Infinite query with Max pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/infinite-query-with-max-pages)
- [Suspense\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/suspense)
- [Default Query Function\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/default-query-function)
- [Playground\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/playground)
- [Prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/prefetching)
- [Star Wars\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/star-wars)
- [Rick And Morty\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/rick-morty)
- [Next.js Pages\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs)
- [Next.js app with prefetching\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-app-prefetching)
- [Next.js app with streaming\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/nextjs-suspense-streaming)
- [React Native\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-native)
- [React Router\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/react-router)
- [Offline Queries and Mutations\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/offline)
- [Algolia\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/algolia)
- [Shadow DOM\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/shadow-dom)
- [Devtools Embedded Panel\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/devtools-panel)
- [Chat example (streaming)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/examples/chat)

Plugins

- [persistQueryClient\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/persistQueryClient)
- [createSyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createSyncStoragePersister)
- [createAsyncStoragePersister\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createAsyncStoragePersister)
- [broadcastQueryClient (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/broadcastQueryClient)
- [createPersister (Experimental)\\
\\
react](https://tanstack.com/query/latest/docs/framework/react/plugins/createPersister)

On this page

- [What is placeholder data?](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#what-is-placeholder-data)
- [Placeholder Data as a Value](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-as-a-value)
- [Placeholder Data Memoization](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-memoization)
- [Placeholder Data as a Function](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-as-a-function)
- [Placeholder Data from Cache](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-from-cache)
- [Further reading](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#further-reading)

# Placeholder Query Data

[**What is placeholder data?**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#what-is-placeholder-data)

Placeholder data allows a query to behave as if it already has data, similar to the initialData option, but **the data is not persisted to the cache**. This comes in handy for situations where you have enough partial (or fake) data to render the query successfully while the actual data is fetched in the background.

> Example: An individual blog post query could pull "preview" data from a parent list of blog posts that only include title and a small snippet of the post body. You would not want to persist this partial data to the query result of the individual query, but it is useful for showing the content layout as quickly as possible while the actual query finishes to fetch the entire object.

There are a few ways to supply placeholder data for a query to the cache before you need it:

- Declaratively:
  - Provide placeholderData to a query to prepopulate its cache if empty
- Imperatively:
  - [Prefetch or fetch the data using queryClient and the placeholderData option](https://tanstack.com/query/latest/docs/framework/react/guides/prefetching)

When we use placeholderData, our Query will not be in a pending state - it will start out as being in success state, because we have data to display - even if that data is just "placeholder" data. To distinguish it from "real" data, we will also have the isPlaceholderData flag set to true on the Query result.

[**Placeholder Data as a Value**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-as-a-value)

tsx

```
function Todos() {
  const result = useQuery({
    queryKey: ['todos'],
    queryFn: () => fetch('/todos'),
    placeholderData: placeholderTodos,
  })
}

```

```
function Todos() {
  const result = useQuery({
    queryKey: ['todos'],
    queryFn: () => fetch('/todos'),
    placeholderData: placeholderTodos,
  })
}

```

[**Placeholder Data Memoization**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-memoization)

If the process for accessing a query's placeholder data is intensive or just not something you want to perform on every render, you can memoize the value:

tsx

```
function Todos() {
  const placeholderData = useMemo(() => generateFakeTodos(), [])
  const result = useQuery({
    queryKey: ['todos'],
    queryFn: () => fetch('/todos'),
    placeholderData,
  })
}

```

```
function Todos() {
  const placeholderData = useMemo(() => generateFakeTodos(), [])
  const result = useQuery({
    queryKey: ['todos'],
    queryFn: () => fetch('/todos'),
    placeholderData,
  })
}

```

[**Placeholder Data as a Function**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-as-a-function)

placeholderData can also be a function, where you can get access to the data and Query meta information of a "previous" successful Query. This is useful for situations where you want to use the data from one query as the placeholder data for another query. When the QueryKey changes, e.g. from \['todos', 1\] to \['todos', 2\], we can keep displaying "old" data instead of having to show a loading spinner while data is _transitioning_ from one Query to the next. For more information, see [Paginated Queries](https://tanstack.com/query/latest/docs/framework/react/guides/paginated-queries).

tsx

```
const result = useQuery({
  queryKey: ['todos', id],
  queryFn: () => fetch(`/todos/${id}`),
  placeholderData: (previousData, previousQuery) => previousData,
})

```

```
const result = useQuery({
  queryKey: ['todos', id],
  queryFn: () => fetch(`/todos/${id}`),
  placeholderData: (previousData, previousQuery) => previousData,
})

```

[**Placeholder Data from Cache**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#placeholder-data-from-cache)

In some circumstances, you may be able to provide the placeholder data for a query from the cached result of another. A good example of this would be searching the cached data from a blog post list query for a preview version of the post, then using that as the placeholder data for your individual post query:

tsx

```
function Todo({ blogPostId }) {
  const queryClient = useQueryClient()
  const result = useQuery({
    queryKey: ['blogPost', blogPostId],
    queryFn: () => fetch(`/blogPosts/${blogPostId}`),
    placeholderData: () => {
      // Use the smaller/preview version of the blogPost from the 'blogPosts'
      // query as the placeholder data for this blogPost query
      return queryClient
        .getQueryData(['blogPosts'])
        ?.find((d) => d.id === blogPostId)
    },
  })
}

```

```
function Todo({ blogPostId }) {
  const queryClient = useQueryClient()
  const result = useQuery({
    queryKey: ['blogPost', blogPostId],
    queryFn: () => fetch(`/blogPosts/${blogPostId}`),
    placeholderData: () => {
      // Use the smaller/preview version of the blogPost from the 'blogPosts'
      // query as the placeholder data for this blogPost query
      return queryClient
        .getQueryData(['blogPosts'])
        ?.find((d) => d.id === blogPostId)
    },
  })
}

```

[**Further reading**](https://tanstack.com/query/latest/docs/framework/react/guides/placeholder-query-data#further-reading)

For a comparison between Placeholder Data and Initial Data, have a look at the [Community Resources](https://tanstack.com/query/latest/docs/framework/react/community/tkdodos-blog#9-placeholder-and-initial-data-in-react-query).

[Edit on GitHub](https://github.com/tanstack/query/tree/main/docs/framework/react/guides/placeholder-query-data.md)

[Initial Query Data](https://tanstack.com/query/latest/docs/framework/react/guides/initial-query-data)

[Mutations](https://tanstack.com/query/latest/docs/framework/react/guides/mutati